if (self.CavalryLogger) { CavalryLogger.start_js(["eR2l0"]); }

__d("BanzaiLoginAndLogoutListener",["Banzai","Event"],(function(a,b,c,d,e,f){a={listen:function(a){var c=function(a){b("Banzai").flush()};b("Event").listen(a,"submit",c)}};e.exports=a}),null);
__d("XSavePasswordOnLogoutTrackAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout-actions/save-password/track/",{})}),null);
__d("LogoutMenu",["csx","AsyncRequest","DOMQuery","Event","URI","XSavePasswordOnLogoutTrackAsyncController","emptyFunction","requireWeak"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i;b("requireWeak")("MenuItem",function(a){i=a});function j(a){a&&(b("Event").fire(a,"submit"),a.submit())}function a(a){__p&&__p();var c=a.menu,d=a.confirmAtLogoutDialog,e=a.endConfirmationAndLogoutDialog,f=a.savePasswordOnLogoutDialog,g,k=!1;[d,e].forEach(function(a){a&&a.subscribe("confirm",function(){return j(g)})});f&&(f.subscribe("button",function(){return j(g)}),f.subscribe("confirm",function(){var a=document.createElement("input");a.setAttribute("type","hidden");a.setAttribute("autocomplete","off");a.setAttribute("name","savepass");a.setAttribute("value","true");g&&g.appendChild(a);j(g)}));c.subscribe("itemclick",function(a,l){__p&&__p();g=null;switch(l.item.getValue()){case"logout":g=b("DOMQuery").find(c.getRoot(),"._w0d");break;case"createnewaccount":g=b("DOMQuery").find(c.getRoot(),"._3eei");break;case"switchaccount":g=b("DOMQuery").find(c.getRoot(),"._3eeq");break;case"help":i&&(i.prototype.hasAction=b("emptyFunction").thatReturnsFalse);break;default:break}if(g){a=!1;l="/confirmemail.php";var m=(h||(h=b("URI"))).getRequestURI().getPath();m===l&&e?(e.show(),a=!0):m!==l&&d&&(d.show(),a=!0);if(f){f.show();if(!k){m=b("XSavePasswordOnLogoutTrackAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(m).setMethod("POST").send()}a=!0;k=!0}a||j(g)}})}e.exports.init=a}),null);
__d("ServiceWorkerLoginAndLogoutListener",["Event","ServiceWorkerLoginAndLogout"],(function(a,b,c,d,e,f){a={listen:function(a,c){var d=function(){if(c==="login")b("ServiceWorkerLoginAndLogout").login();else if(c==="logout")b("ServiceWorkerLoginAndLogout").logout();else throw new Error("bad login type given")};b("Event").listen(a,{click:d,submit:d})}};e.exports=a}),null);