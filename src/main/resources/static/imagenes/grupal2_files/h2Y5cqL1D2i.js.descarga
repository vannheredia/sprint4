if (self.CavalryLogger) { CavalryLogger.start_js(["QBSQc"]); }

__d("PaymentsPSDStaticStrings",["fbt"],(function(a,b,c,d,e,f,g){e.exports={PAGE_TITLE:g._("Pol\u00edtica de datos de pagos"),INTRO_PARAGRAPH_TITLE:g._("Condiciones del servicio de pago"),ONLY_WHAT_WE_NEED_TITLE:g._("Solo recibimos informaci\u00f3n personal limitada."),ONLY_WHAT_WE_NEED_FIRST_PARAGRAPH:g._("Cuando realizas pagos a trav\u00e9s de los productos de las empresas de Facebook, Facebook Payments International recopila cierta informaci\u00f3n personal para completar la transacci\u00f3n, como el n\u00famero de tarjeta y otros datos sobre el m\u00e9todo de pago."),ONLY_WHAT_WE_NEED_SECOND_PARAGRAPH:g._("Tambi\u00e9n podemos recopilar informaci\u00f3n personal cuando lo exija la ley, por ejemplo, para evitar fraudes y blanqueo de dinero, o para cumplir con otras normativas. Se te puede solicitar informaci\u00f3n (como una copia de tu documento de identificaci\u00f3n oficial) para verificar tu identidad o para la prevenci\u00f3n de blanqueo de dinero, fraude u otras actividades delictivas."),FOLLOW_GUIDELINES_TITLE:g._("Adoptamos medidas adicionales para protegerte"),FOLLOW_GUIDELINES_PARAGRAPH:g._("Establecemos una conexi\u00f3n cifrada con tu navegador que usa tecnolog\u00eda de seguridad sofisticada. Almacenamos la informaci\u00f3n de tu m\u00e9todo de pago con niveles de seguridad est\u00e1ndares del sector. Las personas que reciben el pago no pueden ver el n\u00famero completo de tu tarjeta ni ninguna otra informaci\u00f3n sobre el m\u00e9todo de pago."),ACCEPT_BUTTON_LABEL:g._("Acepto")}}),null);
__d("AltPayPopupManager",[],(function(a,b,c,d,e,f){"use strict";a={_instances:{},register:function(a,b){Object.prototype.hasOwnProperty.call(this._instances,a),this._instances[a]=b},processPopup:function(a){var b=this;Object.keys(this._instances).forEach(function(c){c=b._instances[c];c&&c.close(a)})}};e.exports=a}),null);
__d("AltPayPopup",["AltPayPopupManager","PopupWindow","guid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={payment_provider_error:"true",payment_provider_msg:"User cancelled Alt Pay flow."};a=function(){__p&&__p();function a(){this.width=600,this.height=600,this.timerID=0,this.pollingInterval=100,this.$1="altPayPopup$"+b("guid")(),b("AltPayPopupManager").register(this.$1,this)}var c=a.prototype;c.initAltPay=function(a){this.popup&&(this.cancelHandler=a.onCancel,this.successHandler=a.onSuccess,this.popup.location=a.initURL,this.popup.focus())};c.preparePopup=function(){this.popup=b("PopupWindow").open("",this.height,this.width),this.setupPopupOpenCheck()};c.setupPopupOpenCheck=function(){this.timerID=window.setInterval(function(){this.popup&&this.popup.closed&&(this.closePopup(),this.cancelHandler&&this.cancelHandler(g))}.bind(this),this.pollingInterval)};c.close=function(a){this.closePopup();if(a.cancel||a.cancel_dialog)this.cancelHandler&&this.cancelHandler(g);else{a={payment_provider_completed:a.payment_provider_completed,payment_provider_error:a.payment_provider_error,payment_provider_pending:a.payment_provider_pending,payment_provider_ec:a.payment_provider_ec,payment_provider_msg:a.payment_provider_msg};this.successHandler&&this.successHandler(a)}};c.closePopup=function(){this.popup&&(this.popup.close(),this.popup=null)};return a}();e.exports=a}),null);
__d("FBPaymentsAlertDialog.react",["FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).createElement(b("FDSModal.react"),{isShown:!!this.props.isShown,width:400,header:a.createElement(b("FDSModalHeader.react"),{title:this.props.title}),onHide:this.props.onConfirmClick,footer:a.createElement(b("FDSModalFooter.react"),{primaryButton:a.createElement(b("FDSButton.react"),{label:this.props.confirmButtonLabel,onClick:this.props.onConfirmClick})})},a.createElement(b("FDSSection.react"),null,this.props.description))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsCheckoutNUXBase.react",["React"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("React").Component);e.exports=a}),null);
__d("FBPaymentsCheckoutNUXMessageBase.react",["React"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("React").Component);e.exports=a}),null);
__d("FBPaymentsCheckoutNUXMessage.react",["cx","FBPaymentsCheckoutNUXMessageBase.react","React","XUIGrayText.react","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c={color:this.props.color,fontWeight:"bold"},d={backgroundColor:this.props.color,borderRadius:20,height:40,width:40,display:"flex",alignItems:"center"};return(a=b("React")).createElement("div",{className:b("joinClasses")("_d7r",this.props.className)},a.createElement("div",{style:d},a.createElement("div",{className:"_s_8"},a.createElement("div",{className:this.props.iconSrc}))),a.createElement("div",{className:"_f_w"},a.createElement("div",null,a.createElement(b("XUIText.react"),{style:c,shade:"medium",size:"header3"},this.props.messageTitle)),a.createElement(b("XUIGrayText.react"),{shade:"light",size:"header3"},this.props.message)))};return c}(b("FBPaymentsCheckoutNUXMessageBase.react"));e.exports=a}),null);
__d("FBPaymentsCheckoutNUX.react",["cx","ix","FBPaymentsCheckoutNUXBase.react","FBPaymentsCheckoutNUXMessage.react","Image.react","React","ReactCSSTransitionGroup","XUIGrayText.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$FBPaymentsCheckoutNUX1=function(a,c){return b("React").createElement(b("ReactCSSTransitionGroup"),{className:"_3hij",key:c,transitionName:"nux",transitionAppear:!0,transitionAppearTimeout:5e3,transitionEnter:!1,transitionLeave:!1},b("React").createElement(b("FBPaymentsCheckoutNUXMessage.react"),{className:"_60a3",iconSrc:a.iconSrc,message:a.message,color:a.color,messageTitle:a.messageTitle}))};d.render=function(){var a=this.props.nuxMessages||[];return b("React").createElement("div",{className:b("joinClasses")("_60a0",this.props.className)},b("React").createElement(b("ReactCSSTransitionGroup"),{className:"_3hij",transitionName:"nux",transitionAppear:!0,transitionAppearTimeout:0,transitionEnter:!1,transitionLeave:!1},b("React").createElement("div",{className:"_d8h"},b("React").createElement(b("Image.react"),{src:h("346093")}))),b("React").createElement(b("ReactCSSTransitionGroup"),{className:"_3hij",transitionName:"nux",transitionAppear:!0,transitionAppearTimeout:0,transitionEnter:!1,transitionLeave:!1},b("React").createElement(b("XUIGrayText.react"),{className:"_60a2",display:"block",shade:"medium"},this.props.headerTitle)),a.map(this.$FBPaymentsCheckoutNUX1))};return c}(b("FBPaymentsCheckoutNUXBase.react"));e.exports=a}),null);
__d("FBPaymentsCheckoutNUXContainerBase.react",["fbt","FBPaymentsLoggerConstants","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBPaymentsLoggerConstants").LoggerFlowStep,i=b("FBPaymentsLoggerConstants").LoggerEvent,j=4989;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.handleContinueButtonClick=function(){c.__getAPI().dismissNUX(j),c.props.onContinueButtonClick()};b=!1;b?(c.__getAPI().viewNUX(j),c.props.logger&&c.props.logger.setFlowStep(h.NUX).setEventName(i.INIT).logVital()):c.props.onContinueButtonClick();return c}var d=c.prototype;d.getBackButtonText=function(){return g._("Atr\u00e1s")};d.getContinueButtonText=function(){return g._("Continuar")};d.__getAPI=function(){return b("abstractMethod")("FBPaymentsCheckoutNUXContainerBase","__getAPI")};return c}(b("React").Component);e.exports=a}),null);
__d("FBPaymentsCheckoutNUXContentHelper",["cx","fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={getHeaderTitle:function(){return h._("Pagos sencillos y seguros")},getNUXMessages:function(){return[{color:"#4ad0ba",messageTitle:h._("Privado"),message:h._("Nunca publicamos ni compartimos tus compras."),iconSrc:"_3ufk"},{color:"#54c7ec",messageTitle:h._("Seguro"),message:h._("La informaci\u00f3n est\u00e1 protegida con el mismo nivel de seguridad que un banco."),iconSrc:"_3ufl"},{color:"#8c72cb",messageTitle:h._("Fiable"),message:h._("Pago r\u00e1pido y c\u00f3modo."),iconSrc:"_3ufm"}]}};e.exports=a}),null);
__d("FBPaymentsCheckoutNUXContainer.react",["cx","FBPaymentsCheckoutNUX.react","FBPaymentsCheckoutNUXContainerBase.react","FBPaymentsCheckoutNUXContentHelper","FBPaymentsModulesAPI","React","XUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$FBPaymentsCheckoutNUXContainer1=function(){return b("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},b("React").createElement(b("XUIButton.react"),{className:"_60by",label:this.getContinueButtonText(),onClick:this.handleContinueButtonClick,size:"large",use:"confirm"}))};d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.render=function(){return b("React").createElement("div",null,b("React").createElement(b("FBPaymentsCheckoutNUX.react"),babelHelpers["extends"]({className:"_60bz",nuxMessages:b("FBPaymentsCheckoutNUXContentHelper").getNUXMessages()},this.props)),this.$FBPaymentsCheckoutNUXContainer1())};return c}(b("FBPaymentsCheckoutNUXContainerBase.react"));e.exports=a}),null);
__d("FBPaymentsCheckoutStrings",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getCheckoutInitializationErrorMessage:function(){return g._("Tenemos problemas para cargar esta p\u00e1gina. Actual\u00edzala o vuelve m\u00e1s tarde.")},getNewAffirmPayActionTitle:function(){return g._("Continue with Affirm")},getNewPayPalPayActionTitle:function(){return g._("Continuar con PayPal")},getExitCheckoutConfirmDialogTitle:function(){return g._("\u00bfSalir de la pantalla de pago?")},getExitCheckoutConfirmDialogDescription:function(){return g._("Si sales, perder\u00e1s el progreso realizado hasta el momento.")},getExitCheckoutConfirmDialogCancelButtonLabel:function(){return g._("Cancelar")},getExitCheckoutConfirmDialogCancelButtonAllCapsLabel:function(){return g._("CANCELAR")},getExitCheckoutConfirmDialogConfirmButtonLabel:function(){return g._("Salir")},getAltPayCancelledDialogButtonLabel:function(){return g._("OK")},getExitCheckoutConfirmDialogConfirmButtonAllCapsLabel:function(){return g._("SALIR")},getDonationLargeAmountConfirmDialogTitle:function(){return g._("Confirma tu donaci\u00f3n")},getDonationLargeAmountConfirmDialogDescription:function(a,b){return g._("\u00bfQuieres donar {formatted_amount} a {fundraiser_title}?",[g._param("formatted_amount",a),g._param("fundraiser_title",b)])},getDonationLargeAmountConfirmDialogCancelButtonLabel:function(){return g._("Cancelar")},getDonationLargeAmountConfirmDialogConfirmButtonLabel:function(){return g._("Hacer donaci\u00f3n")}};e.exports=a}),null);
__d("FBPaymentsAsyncCompleteCheckoutManager",["invariant","FBPaymentsCheckoutActions","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","FBPaymentsModulesAPIUtils","FBPaymentsPerfLogger","FBPaymentsUniversalErrorUtils","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBPaymentsLoggerConstants").LoggerFlowStep,i=b("FBPaymentsLoggerConstants").LoggerEvent,j=1e4,k=3e3,l=12e4,m=b("keyMirror")({CHARGE:"",POLLING:"",PSI:"",SUBSCRIPTION:"",TIMEOUT:""});a=function(){__p&&__p();function a(a,c,d){__p&&__p();var e=this;this.$15=function(a){e.$11&&e.$11.setFlowStep(h.PAYMENT_FETCH_PSI).setEventName(i.SUCCESS).addToExtraData("payment_session_id",a).log(),b("FBPaymentsPerfLogger").logPaymentEvent(b("FBPaymentsLoggerConstants").PerformanceLogging.FETCH_PSI_END),b("FBPaymentsCheckoutActions").updatePaymentSessionID(a),e.$13=a,e.$12.payment_session_id=a,e.$17(e.$12)};this.$16=function(a){e.$11&&e.$11.setFlowStep(h.PAYMENT_FETCH_PSI).setEventName(i.FAIL).log(),b("FBPaymentsPerfLogger").logPaymentEvent(b("FBPaymentsLoggerConstants").PerformanceLogging.FETCH_PSI_END),e.$18(a,m.PSI)};this.$25=function(){e.$26(),e.$3=setInterval(e.$26,e.$6)};this.$26=function(a){a===void 0&&(a=h.PAYMENT_POLLING);e.$11&&e.$11.setFlowStep(a).setEventName(i.API_INIT).addToExtraData("payment_session_id",e.$13).log();e.$13||g(0,11227);a={paymentSessionID:e.$13,loggerFlowStep:a,loggingID:e.$11?e.$11.getSessionID():null};b("FBPaymentsModulesAPIShared").queryPaymentSessionCompleteCheckoutStatus(a,e.$27,e.$28)};this.$27=function(a,c){c===void 0&&(c=h.PAYMENT_POLLING);if(!a){e.$29(c,{message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()});return}var d=a.paymentStatus,f=a.paymentsError;!f&&d==="success"?(e.$30(c,d),e.$31(a,m.POLLING)):!f&&d==="in_progress"?e.$30(c,d):d==="failure"?(e.$30(c,d),e.$18(f,m.POLLING)):e.$29(c,{message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()},a)};this.$28=function(a,b){b===void 0&&(b=h.PAYMENT_POLLING),e.$29(b,a)};this.$23=function(a){if(!a){e.$29(h.PAYMENT_SUBSCRIPTION,{message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()});return}var c=a.paymentStatus,d=a.paymentsError;!d&&c==="success"?(e.$30(h.PAYMENT_SUBSCRIPTION,c),e.$31(a,m.SUBSCRIPTION)):c==="failure"?(e.$30(h.PAYMENT_SUBSCRIPTION,c),e.$18(d,m.SUBSCRIPTION)):e.$29(h.PAYMENT_SUBSCRIPTION,{message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()},a)};this.$20=function(a){e.$11&&e.$11.setFlowStep(h.PAYMENT_CHARGE).addToExtraData("payment_session_id",e.$13).addToExtraData("payment_status",a==null?void 0:a.paymentStatus).addToExtraData("async_meta_data",JSON.stringify(a==null?void 0:a.asyncMetadata));if(!a){e.$11&&e.$11.setEventName(i.FAIL).log();e.$18({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()},m.CHARGE);return}var c=a.asyncMetadata,d=a.paymentsError,f=a.paymentStatus;!d&&f==="success"?(e.$11&&e.$11.setEventName(i.SUCCESS).log(),e.$31(a,m.CHARGE)):!d&&f==="in_progress"?(e.$11&&e.$11.setEventName(i.SUCCESS).log(),e.$1||(e.$14(c),e.$2=setTimeout(e.$25,e.$5),e.$4=setTimeout(e.$32,e.$7))):f==="failure"?(e.$11&&e.$11.setEventName(i.SUCCESS).log(),e.$18(d,m.CHARGE)):(e.$11&&e.$11.setEventName(i.FAIL).log(),e.$18({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()},m.CHARGE))};this.$21=function(a){e.$11&&e.$11.setFlowStep(h.PAYMENT_CHARGE).setEventName(i.FAIL).addToExtraData("payment_session_id",e.$13).log(),e.$18(a,m.CHARGE)};this.$32=function(){e.$18({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()},m.TIMEOUT)};this.$14();this.$9=a;this.$10=c;this.$11=d}var c=a.prototype;c.makeAsyncPayment=function(a,c){this.$1=!1;if(!a.payment_session_id&&!this.$13){this.$12=a;var d=this.$11&&this.$11.getSessionID();this.$11&&this.$11.setFlowStep(h.PAYMENT_FETCH_PSI).setEventName(i.API_INIT).log();b("FBPaymentsPerfLogger").logPaymentEvent(b("FBPaymentsLoggerConstants").PerformanceLogging.FETCH_PSI_START);b("FBPaymentsModulesAPIShared").createPaymentSessionRelayGraphQL({paymentType:c==null?void 0:c.paymentItemType,receiverId:c==null?void 0:c.receiverId,sessionId:d},this.$15,this.$16)}else this.$13||(this.$13=a.payment_session_id),a.payment_session_id||(a.payment_session_id=this.$13),this.$17(a)};c.$17=function(a){this.$19(),this.$11&&this.$11.setFlowStep(h.PAYMENT_CHARGE).setEventName(i.API_INIT).addToExtraData("payment_session_id",a.payment_session_id).log(),b("FBPaymentsModulesAPIShared").createAsyncCheckoutRelayGraphQL(a,this.$20,this.$21)};c.$14=function(a){this.$5=(a==null?void 0:a.pollTimeMs)||j,this.$6=(a==null?void 0:a.pollTimeRetryMs)||k,this.$7=(a==null?void 0:a.timeoutMs)||l};c.$19=function(){this.$22(!1),this.$11&&this.$11.setFlowStep(h.PAYMENT_SUBSCRIPTION).setEventName(i.API_INIT).addToExtraData("payment_session_id",this.$13).log(),this.$13!=null||g(0,11227),this.$8=b("FBPaymentsModulesAPIShared").createPaymentSessionCompleteCheckoutStatusSubscription(this.$13,this.$23)};c.$22=function(a){a===void 0&&(a=!0),a&&(this.$11&&this.$11.setFlowStep(h.PAYMENT_SUBSCRIPTION).setEventName(i.CANCEL).addToExtraData("payment_session_id",this.$13).log()),this.$8&&this.$8.dispose(),this.$8=null};c.$24=function(){this.$4!==null&&(clearTimeout(this.$4),this.$4=null),this.$3!==null&&(clearInterval(this.$3),this.$3=null),this.$2!==null&&(clearTimeout(this.$2),this.$2=null)};c.$29=function(a,c,d){if(this.$11){d&&this.$11.addToExtraData("consumer_payment_session_status",JSON.stringify(d));d=b("FBPaymentsUniversalErrorUtils").getErrorCode(c);var e=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(c);c=b("FBPaymentsUniversalErrorUtils").getServerErrorMessage(c);this.$11&&this.$11.setFlowStep(a).setEventName(i.FAIL).setUserFacingMessage(e).setErrorMessage(c).setUserFacingErrorCode(d).setErrorCode(d).addToExtraData("payment_session_id",this.$13).log()}};c.$30=function(a,b){this.$11&&this.$11.setFlowStep(a).setEventName(i.SUCCESS).addToExtraData("payment_session_id",this.$13).addToExtraData("payment_status",b).log()};c.$18=function(a,b){this.$1||(this.$1=!0,this.$22(),this.$24(),this.$10(a,{async:"true",async_checkout_end_stage:b,payment_session_id:this.$13||""}))};c.$31=function(a,b){this.$1||(this.$1=!0,this.$22(),this.$24(),this.$9(a,{async:"true",async_checkout_end_stage:b}))};return a}();e.exports=a}),null);
__d("FBPaymentsAsyncCompleteCheckoutUtils",["gkx","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={isAsyncPaymentType:function(a){return["nmor_checkout_experiences","nmor_donation_p4p","mor_donations","nmor_ppgf_donation","mor_donations_matching_confirmation","mor_donations_matching_pledge","nmor_blackbaud_rwr_donation","mor_game_tipping_token","mor_sotto","mor_open_graph_product"].includes(a)||a==="mor_group_subscription"&&b("gkx")("859863")||a==="mor_fan_funding"&&b("gkx")("859864")||a==="mor_instant_games"&&b("gkx")("871984")||a==="mor_oculus_cv1"&&b("gkx")("909392")},isAsyncPayment:function(a){if(this.isAsyncPaymentType(a))switch(a){case"mor_donations":return b("qex")._("824394")===!0;case"nmor_ppgf_donation":case"mor_donations_matching_confirmation":case"mor_donations_matching_pledge":case"nmor_blackbaud_rwr_donation":return b("qex")._("858216")===!0;case"mor_game_tipping_token":return!0;default:return!0}return!1}};e.exports=a}),null);
__d("FBPaymentsCustomOptionsExtensionUtil",["FBPaymentsCheckoutConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCheckoutConstants").Extensions;a={getPreSelectedOptionFromExtensionConfig:function(a){__p&&__p();if(!a)return null;var b=a.options,c=a.shouldPreSelect&&b.length>0;if(c){var d=a.preselectedOptionIDs||[];c=b.find(function(a){return a.optionId===d[0]})||b[0]}else c=b[0];return c},isSameOption:function(a,b){return JSON.stringify(a)===JSON.stringify(b)},updateCustomOptionsExtensionConfigInContentConfig:function(a,b){if(!a||!b)return b;var c=b.purchaseInfo.filter(function(a){return a.identifier!==g.CUSTOM_OPTIONS});c.push(a);b.purchaseInfo=c;return b}};e.exports=a}),null);
__d("FBPaymentsCheckoutConfigurationState",["FBPaymentsCheckoutConstants","FBPaymentsCustomOptionsExtensionUtil","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCheckoutConstants").Extensions;a={contactInfoExtensionConfig:null,contentConfiguration:null,couponCodeExtensionConfig:null,freeTrialExtensionConfig:null,userInfoOptInExtensionConfig:null,frequencySelectorExtensionConfig:null,optionsExtensionConfig:null,paymentMethodExtensionConfig:null,priceSelectorExtensionConfig:null,shippingAddressExtensionConfig:null};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.updateContentConfiguration=function(a){var b=this.getExtensionConfigFromContentConfig(a,g.CUSTOM_OPTIONS),c=this.getExtensionConfigFromContentConfig(a,g.COUPON_CODE),d=this.getExtensionConfigFromContentConfig(a,g.CONTACT_INFO),e=this.getExtensionConfigFromContentConfig(a,g.FREE_TRIAL),f=this.getExtensionConfigFromContentConfig(a,g.USER_INFO_OPT_IN),h=this.getExtensionConfigFromContentConfig(a,g.SHIPPING_ADDRESS),i=this.getExtensionConfigFromContentConfig(a,g.PAYMENT_METHOD),j=this.getExtensionConfigFromContentConfig(a,g.PRICE_SELECTOR),k=this.getExtensionConfigFromContentConfig(a,g.FREQUENCY_SELECTOR);return this.set("contentConfiguration",a).set("optionsExtensionConfig",b).set("couponCodeExtensionConfig",c).set("contactInfoExtensionConfig",d).set("freeTrialExtensionConfig",e).set("userInfoOptInExtensionConfig",f).set("shippingAddressExtensionConfig",h).set("paymentMethodExtensionConfig",i).set("priceSelectorExtensionConfig",j).set("frequencySelectorExtensionConfig",k)};d.maybeUpdateConfirmationConfiguration=function(a){var b=this.contentConfiguration;if(!a||!b)return this;b.confirmationConfiguration=a;return this.set("contentConfiguration",b)};d.updateOptionsExtensionConfig=function(a){var c=b("FBPaymentsCustomOptionsExtensionUtil").updateCustomOptionsExtensionConfigInContentConfig(a,this.contentConfiguration);return this.set("contentConfiguration",c).set("optionsExtensionConfig",a)};d.getExtensionConfigFromContentConfig=function(a,b){return!a?null:a.purchaseInfo.find(function(a){return a.identifier===b})};return c}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsCustomOptionsActions",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("FBPaymentsCheckoutConstants").Extensions;var g={EXTENSION_NAME:a.CUSTOM_OPTIONS,types:b("keyMirror")({ADD_CUSTOM_OPTION_CLICK:null,CUSTOM_OPTION_SELECTED:null,NEW_CUSTOM_OPTION_FORM_DATA_CHANGE:null,SAVE_NEW_CUSTOM_OPTION:null}),customOptionSelected:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.CUSTOM_OPTION_SELECTED,updateData:a})},addCustomOptionClick:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.ADD_CUSTOM_OPTION_CLICK,data:{}})},newCustomOptionFormDataChange:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.NEW_CUSTOM_OPTION_FORM_DATA_CHANGE,data:a})},saveNewCustomOption:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.SAVE_NEW_CUSTOM_OPTION,updateData:a})}};e.exports=g}),null);
__d("FBPaymentsCheckoutConfigurationStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationState","FBPaymentsCustomOptionsActions","FBPaymentsDispatcher","FluxReduceStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(d,a);var c=d.prototype;c.getInitialState=function(){return new(b("FBPaymentsCheckoutConfigurationState"))()};function d(){return a.call(this,b("FBPaymentsDispatcher"))||this}c.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:return d.shouldLoadContentConfiguration?a.updateContentConfiguration(d.contentConfiguration):a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:return a.updateContentConfiguration(d.contentConfiguration);case b("FBPaymentsCheckoutActions").types.UPDATE_CONTENT_CONFIGURATION:return a.updateContentConfiguration(d);case b("FBPaymentsCheckoutActions").types.PAYMENT_PROCESSING_CALLBACK_DONE:return a.maybeUpdateConfirmationConfiguration(d.confirmationConfiguration);case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return this.$FBPaymentsCheckoutConfigurationStore1(a,d);case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();default:return a}};c.$FBPaymentsCheckoutConfigurationStore1=function(a,c){var d=c.updateData;switch(c.extensionActionType){case b("FBPaymentsCustomOptionsActions").types.SAVE_NEW_CUSTOM_OPTION:return a.updateOptionsExtensionConfig(d.newOptionsExtensionConfig)}return a};c.getContentConfiguration=function(){return this.getState().contentConfiguration};c.getCustomOptionsExtensionConfig=function(){return this.getState().optionsExtensionConfig};c.getCouponCodeExtensionConfig=function(){return this.getState().couponCodeExtensionConfig};c.getContactInfoExtensionConfig=function(){return this.getState().contactInfoExtensionConfig};c.getShippingAddressExtensionConfig=function(){return this.getState().shippingAddressExtensionConfig};c.getPaymentMethodExtensionConfig=function(){return this.getState().paymentMethodExtensionConfig};c.getFreeTrialExtensionConfig=function(){return this.getState().freeTrialExtensionConfig};c.getUserInfoOptInExtensionConfig=function(){return this.getState().userInfoOptInExtensionConfig};c.getPriceSelectorExtensionConfig=function(){return this.getState().priceSelectorExtensionConfig};c.getFrequencySelectorExtensionConfig=function(){return this.getState().frequencySelectorExtensionConfig};c.getNationalitySelectorExtensionConfig=function(){return this.getState().nationalitySelectorExtensionConfig};return d}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("FBPaymentsCheckoutHelper",["Promise","FBPaymentsCheckoutConstants","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCheckoutConstants").Extensions,h=b("FBPaymentsCheckoutConstants").RestoreKey,i=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LU","MT","NL","PL","PT","SK","RO","SI","ES","SE","GB","LT","IS","LI","NO"];a={prepareExtensionDataPromise:function(a){__p&&__p();var c=new(b("Promise"))(function(c,d){__p&&__p();var e=[],f=[];a.forEach(function(a,b){if(a){a=a();a&&(e.push(a),f.push(b))}});b("promiseDone")(b("Promise").all(e),function(a){__p&&__p();var b=new Map();f.forEach(function(c,e){e=a[e];if(e&&e.success)b.set(c,e.data);else{e=(e=e)!=null?e.error:e;var f;e&&e.errorCode&&(f={userFacingError:e});d({message:c+" data preparation failed",error:f})}});c(b)})});return c},buildCheckoutRestoreData:function(a,b){var c=babelHelpers["extends"]({},a);b.forEach(function(a,b){var d={};switch(b){case g.CONTACT_INFO:d=(b={},b[h.CONTACT_INFO_EMAIL_ID]=a.emailID,b[h.CONTACT_INFO_PHONE_NUMBER_ID]=a.phoneNumberID,b);break}c=babelHelpers["extends"]({},c,d)});return c},shouldCollectFraudnetFeatures:function(a){return(a==null?void 0:a.onboardedManagedMerchantPlatform)==="paypal"},shouldUse3DS2Flow:function(a,c){__p&&__p();switch(a){case"mor_donations":return b("gkx")("1090515");case"mor_sotto":case"mor_fan_funding":case"mor_group_subscription":return b("gkx")("1083402");case"mor_game_tipping_token":case"mor_instant_games":return b("gkx")("1102034");case"mor_open_graph_product":return b("gkx")("1102035");case"nmor_event_ticketing":return b("gkx")("1091058");case"mor_facebook_shop":return b("gkx")("1091482");case"nmor_donation_p4p":return i.includes(c)?b("gkx")("1103411"):!1;case"nmor_ppgf_donation":return b("gkx")("1103412");case"nmor_checkout_experiences":return b("gkx")("1105320");default:return!1}}};e.exports=a}),null);
__d("FBPaymentsCheckoutInfoParser",["FBLogger","FBPaymentsCheckoutConstants","FBPaymentsPriceSelectorConfiguration","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("FBPaymentsCheckoutConstants")).CollectedDataKey,h=a.ContactInfoTypes,i=a.CustomExtensionKeys,j=a.Extensions;c=b("immutable").Map;var k=b("immutable").Set,l=c([["CONTACT_INFO",j.CONTACT_INFO],["SHIPPING_ADDRESSES",j.SHIPPING_ADDRESS],["DELIVERY_OPTIONS",j.CUSTOM_OPTIONS],["PAYMENT_CREDENTIAL_OPTIONS",j.PAYMENT_METHOD],["COUPON_CODES",j.COUPON_CODE],["FREE_TRIAL",j.FREE_TRIAL],["PRICE_SELECTOR",j.PRICE_SELECTOR],["FREQUENCY_SELECTOR",j.FREQUENCY_SELECTOR],["CUSTOM_EXTENSION",j.CUSTOM_EXTENSION],["USER_INFO_OPT_IN",j.USER_INFO_OPT_IN]]);d={parse:function(a,b,c){return this._parseCheckoutInfo(a,b,c)},_parseCheckoutInfo:function(a,b,c){var d;d=(d=b==null?void 0:b.purchaseInfo)!=null?d:[];return{contentConfiguration:{checkoutClosedCallback:b==null?void 0:b.checkoutClosedCallback,confirmationConfiguration:b==null?void 0:b.confirmationConfiguration,entity:this._parseEntity(a),items:b==null?void 0:b.items,newPriceTable:this._parsePriceTable(a),payActionContent:this._parsePayActionContent(a),purchaseInfo:this._parsePurchaseInfo(a,d,c),taxID:a.tax_id},receiverInfo:this._parseReceiverInfo(a),paymentSessionID:a.payment_session_id,termsAndPolicies:this._parseTermsAndPolicies(a),extensionsToTriggerUpdateCheckout:this._getExtensionsToTriggerUpdateCheckout(a),shouldCollectAddressUpfront:a.screen_order.includes("UPFRONT_SHIPPING_ADDRESS"),banner:this._getBanner(a)}},_parsePurchaseInfo:function(a,b,c){var d,e=this,f=this._getComponentSharedData(a),g=a.checkout_screen_components.filter(function(a){return l.has(a.component_type)}).map(function(a){return e._parsePurchaseInfoExtension(a,b,f)});a=(a==null?void 0:(d=a.payment_security)==null?void 0:d.validation_needed)&&(a==null?void 0:(d=a.payment_security)==null?void 0:d.user_has_pin);a&&this._shouldEnablePINExtension(c)&&(g=[].concat(g,[{identifier:j.PIN_VERIFICATION}]));return g},_parsePurchaseInfoExtension:function(a,c,d){__p&&__p();var e=a.component_type,f=l.get(e),i=c.find(function(a){return a.identifier==f}),k=a==null?void 0:a.custom_extension_type,m=this._getCustomExtensionKeyFromServerType(k);k=c.find(function(a){return a.identifier===j.CUSTOM_EXTENSION&&a.extensionKey===m});switch(e){case"PAYMENT_CREDENTIAL_OPTIONS":return babelHelpers["extends"]({},i,{identifier:f,allowChangeBillingCountry:!0,paymentMethodData:babelHelpers["extends"]({},a,d)});case"DELIVERY_OPTIONS":c=a.available_delivery_options.map(function(a){return{optionTitle:a.name,optionId:a.id,optionPrice:{amount:a.price.amount,currency:a.price.currency},optionDescription:a.description}});return babelHelpers["extends"]({},i,{identifier:f,collectedDataKey:g.SHIPPING_OPTION,options:c,preselectedOptionIDs:a.selected_delivery_option_id});case"SHIPPING_ADDRESSES":return babelHelpers["extends"]({},i,{identifier:f,shippingAddressData:a});case"CONTACT_INFO":d=[];a.phones&&d.push(h.PHONE);a.name&&d.push(h.NAME);a.emails&&d.push(h.EMAIL);return babelHelpers["extends"]({},i,{identifier:f,contactInfoData:a,contactInfoTypes:d});case"USER_INFO_OPT_IN":return babelHelpers["extends"]({},i,{identifier:j.USER_INFO_OPT_IN,optIn:a.opt_in,disclaimer:a.disclaimer,privacyPolicy:a.privacy_policy});case"COUPON_CODES":c=a.coupons[0];return babelHelpers["extends"]({},i,{identifier:j.COUPON_CODE,message:c.inline_message,couponValid:c.coupon_valid,placeholderText:c.placeholder_text,prefilledContent:c.coupon_valid?c.coupon_code:null});case"FREE_TRIAL":return{identifier:j.FREE_TRIAL,formattedDescription:a.formatted_description,nextBillTime:a.next_bill_time,subscriptionFrequency:a.subscription_frequency,subscriptionPrice:{amount:a.subscription_price.amount,currency:a.subscription_price.currency},trialFrequency:a.trial_frequency,trialPeriod:a.trial_period,trialType:a.trial_type};case"PRICE_SELECTOR":d=b("FBPaymentsPriceSelectorConfiguration").fromJS(a);return{identifier:j.PRICE_SELECTOR,priceSelectorConfigData:d};case"FREQUENCY_SELECTOR":return{identifier:j.FREQUENCY_SELECTOR,frequencyOptions:a.frequency_selector_configs,showDAFDisclaimer:a.show_daf_disclaimer};case"CUSTOM_EXTENSION":return babelHelpers["extends"]({},k,{identifier:j.CUSTOM_EXTENSION});default:b("FBLogger")("purchase_experience").warn("Unsupported purchase info extension: %s",e);return null}},_parsePriceTable:function(a){a=a.checkout_screen_components.find(function(a){return a.component_type==="PRICE_TABLE"});if(!a)return null;var b=a.price_subtables;b=b?b.map(this._parsePriceSubtable,this):[];var c=a==null?void 0:a.show_tax_disclaimer;return{priceSubtables:b,totalPrice:this._parsePriceItem(a.total_price),showTaxDisclaimer:!!c}},_parsePriceSubtable:function(a){a=a.price_lists.map(this._parsePriceItem,this);return{priceLists:a}},_parsePriceItem:function(a){return{item:this._parseItem(a.item),label:a.label,price:a.price,displayPrice:a.display_price,userFacingReason:a.user_facing_reason}},_parseItem:function(a){return!a?null:{title:a.title,subtitle:a.subtitle,subsubtitle:a.subsubtitle,itemImageUrl:a.item_image_url}},_parseEntity:function(a){a=a.checkout_screen_components.find(function(a){return a.component_type==="ENTITY"});return a==null?null:{participant:{title:a.title,subtitle:a.subtitle,imageURL:a.image_url},description:a.description}},_parseReceiverInfo:function(a){a=a.receiver_info;a=(a=a==null?void 0:a.onboarded_managed_merchant_platform)!=null?a:null;a!=null&&(a=a.toLowerCase());return{onboardedManagedMerchantPlatform:a}},_parseTermsAndPolicies:function(a){a=a.checkout_screen_components.find(function(a){return a.component_type==="TERMS_AND_POLICIES"});a={inline_view:a.inline_view,expanded_view:a.expanded_view};return a},_getExtensionsToTriggerUpdateCheckout:function(a){return k(a.checkout_screen_components.filter(function(a){return a.refresh_on_change}).map(function(a){return l.get(a.component_type)}))},_getComponentSharedData:function(a){var b=a.checkout_screen_components.find(function(a){return a.component_type==="SHIPPING_ADDRESSES"});return{addressFormConfig:b==null?void 0:b.address_form_config,userInfo:a.user_info}},_parsePayActionContent:function(a){a=a.checkout_screen_components.find(function(a){return a.component_type==="PAY_BUTTON"});return{actionTitle:a.default_label,customLabelsForCredentials:a.custom_label_for_selected_credential}},_shouldEnablePINExtension:function(a){switch(a){case"nmor_checkout_experiences":return b("gkx")("975671");default:return!1}},_getCustomExtensionKeyFromServerType:function(a){__p&&__p();switch(a){case"CREATOR_SEEDING_BANNER":return i.CREATOR_SEEDING_BANNER;case"EMAIL_SHARING":return i.EMAIL_SHARING_CHECKBOX;case"GIFT_AID":return i.GIFT_AID_CHECKBOX;case"MATCH_BANNER":return i.MATCH_BANNER;case"MONTHLY_DONATION_BANNER":return i.MONTHLY_DONATION_BANNER;case"PRIVACY_SELECTOR":return i.PRIVACY_SELECTOR;case"PAYMENT_BREAKDOWN_SECTION":return i.PAYMENT_BREAKDOWN_SECTION;case"SHOP_ORDER_SUMMARY":return i.SHOP_ORDER_SUMMARY;default:return null}},_getBanner:function(a){a=(a==null?void 0:a.checkout_screen_components)||[];return a.find(function(a){return a.component_type==="BANNER"})}};e.exports=d}),null);
__d("FBPaymentsCheckoutLoggerStore",["FBPaymentsCheckoutActions","FBPaymentsContactInfoActions","FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsPaymentMethodActions","FBPaymentsUniversalErrorUtils","FluxReduceStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsLoggerConstants").LoggerFlowStep,h=b("FBPaymentsLoggerConstants").LoggerEvent,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({logger:null}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("FBPaymentsDispatcher"))||this}var d=c.prototype;d.getInitialState=function(){return new i()};d.reduce=function(a,c){__p&&__p();var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:return a.set("logger",d.logger);case b("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_LOADED:this.$FBPaymentsCheckoutLoggerStore1(a,g.PAYMENT_METHOD_FETCH);return a;case b("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_ERROR:this.$FBPaymentsCheckoutLoggerStore2(a,g.PAYMENT_METHOD_FETCH,d.error);return a;case b("FBPaymentsContactInfoActions").types.CONTACT_EMAILS_LOADED:this.$FBPaymentsCheckoutLoggerStore1(a,g.EMAIL_FETCH);return a;case b("FBPaymentsContactInfoActions").types.CONTACT_EMAILS_ERROR:this.$FBPaymentsCheckoutLoggerStore2(a,g.EMAIL_FETCH,d.error);return a;case b("FBPaymentsContactInfoActions").types.CONTACT_PHONE_NUMBERS_LOADED:this.$FBPaymentsCheckoutLoggerStore1(a,g.PHONE_FETCH);return a;case b("FBPaymentsContactInfoActions").types.CONTACT_PHONE_NUMBERS_ERROR:this.$FBPaymentsCheckoutLoggerStore2(a,g.PHONE_FETCH,d.error);return a;case b("FBPaymentsContactInfoActions").types.MAILING_ADDRESSES_LOADED:this.$FBPaymentsCheckoutLoggerStore1(a,g.SHIPPING_ADDRESS_FETCH);return a;case b("FBPaymentsContactInfoActions").types.MAILING_ADDRESSES_ERROR:this.$FBPaymentsCheckoutLoggerStore2(a,g.SHIPPING_ADDRESS_FETCH,d.error);return a;default:return a}};d.$FBPaymentsCheckoutLoggerStore1=function(a,b){a=a.logger;a&&a.setFlowStep(b).setEventName(h.SUCCESS).log()};d.$FBPaymentsCheckoutLoggerStore2=function(a,c,d){a=a.logger;if(a){var e=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(d);a.setFlowStep(c).setEventName(h.FAIL).setErrorMessage(d==null?void 0:d.serverErrorMessage).setExceptionClass(d==null?void 0:d.exceptionClass).setUserFacingMessage(e).log()}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("FBPaymentsCheckoutStep",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ADDRESS_COLLECT:null,CONFIRMATION:null,INCOMPLETE:null,INITIALIZING:null,NUX:null,PAYMENT_PROCESSING:null,PAYMENT_PROCESSING_EXTENDED:null,PIN:null,PSD_AGREEMENT_NUX:null,READY_TO_PAY:null,VERIFICATION:null});e.exports=a}),null);
__d("FBPaymentsCountryCodes",["CountryCodes","keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")(b("CountryCodes"))}),null);
__d("FBPaymentsFreeTrialExtensionUtil",["fbt","BillingAgreementType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getFreeTrialCheckoutDialogTitle:function(a,c){__p&&__p();c=c==="mor_sotto";if(c)return g._("Suscripci\u00f3n");else if(a){c=a.trialPeriod;a=a.trialFrequency;var d,e;switch(c){case 1:e=g._("Uno");break;default:break}switch(b("BillingAgreementType")[a]){case b("BillingAgreementType").YEARLY:d=g._({"*":"Prueba de {number of periods} a\u00f1os de la suscripci\u00f3n","_1":"Prueba de {number of periods} a\u00f1o de la suscripci\u00f3n"},[g._param("number of periods",e),g._plural(c)]);break;case b("BillingAgreementType").MONTHLY:d=g._({"*":"Prueba de {number of periods} meses de la suscripci\u00f3n","_1":"Prueba de {number of periods} mes de la suscripci\u00f3n"},[g._param("number of periods",e),g._plural(c)]);break;case b("BillingAgreementType").WEEKLY:d=g._({"*":"Prueba de {number of periods} semanas de la suscripci\u00f3n","_1":"Prueba de {number of periods} semana de la suscripci\u00f3n"},[g._param("number of periods",e),g._plural(c)]);break;case b("BillingAgreementType").DAILY:d=g._({"*":"Prueba de {number of periods} d\u00edas de la suscripci\u00f3n","_1":"Prueba de {number of periods} d\u00eda de la suscripci\u00f3n"},[g._param("number of periods",e),g._plural(c)]);break;default:break}return d}return null},getIsUsingFreeTrial:function(a){return!!a},getFreeTrialPrice:function(a){return{amount:"0",currency:a}}};e.exports=a}),null);
__d("FBPaymentsModulesErrorConstants",[],(function(a,b,c,d,e,f){"use strict";a={PaymentModulesErrorCode:{IDV_PENDING_MANUAL_REVIEW:2078081,IDV_REQUIRED:2078082,ALT_PAY_FLOW_CANCELLED:2078111}};e.exports=a}),null);
__d("FBPaymentsStringHelper",["React"],(function(a,b,c,d,e,f){"use strict";a={stringToMarkup:function(a){return b("React").createElement("div",null,a.split("\n").map(function(a,c){return b("React").createElement("div",{key:c},a)}))},isNumber:function(a){a=parseInt(a,10);return!isNaN(a)&&isFinite(a)}};e.exports=a}),null);
__d("FBPaymentsVerificationFlowHelper",["AllPaymentTypeFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getVerificationFlowPaymentType:function(a){switch(a){case"mor_p2p_transfer":return"mor_p2p_transfer";case"mor_donations":return"mor_donations";case"mor_donations_matching_confirmation":return"mor_donations_matching_confirmation";case"mor_donations_cause_for_charities":return"mor_donations_cause_for_charities";case"nmor_donation_p4p":return"nmor_donation_p4p";case"nmor_checkout_experiences":return"nmor_checkout_experiences";default:return null}},getVerificationFlowProductType:function(a){switch(a){case"mor_p2p_transfer":return"P2P";case"mor_donations":case"mor_donations_matching_confirmation":case"mor_donations_cause_for_charities":return"P4C";case"nmor_donation_p4p":case"nmor_checkout_experiences":return"MANAGED_STRIPE";default:return null}}};e.exports=a}),null);
__d("FBPaymentsCheckoutV2FlowContainerBase.react",["errorDesc","invariant","CommerceOnsiteEvent","DateConsts","FBLogger","FBPayments3DS","FBPaymentsAsyncCompleteCheckoutManager","FBPaymentsAsyncCompleteCheckoutUtils","FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConfigurationTypes","FBPaymentsCheckoutConstants","FBPaymentsCheckoutContext","FBPaymentsCheckoutHelper","FBPaymentsCheckoutInfoParser","FBPaymentsCheckoutLoggerStore","FBPaymentsCheckoutStep","FBPaymentsCheckoutStrings","FBPaymentsContentConfigurationParser","FBPaymentsCountryCodes","FBPaymentsDispatcher","FBPaymentsFreeTrialExtensionUtil","FBPaymentsLinkHelper","FBPaymentsLoggerBase","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","FBPaymentsModulesAPIUtils","FBPaymentsModulesErrorConstants","FBPaymentsModulesFlowType","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodTypes","FBPaymentsPerfLogger","FBPaymentsPINActions","FBPaymentsPINConstants","FBPaymentsPriceListHelper","FBPaymentsStringHelper","FBPaymentsUniversalErrorUtils","FBPaymentsVerificationConstants","FBPaymentsVerificationFlowHelper","PaymentMethodUtils","PayPalFraudNetNew","PayPalFraudNetUrl","PECurrency","React","RelayAPIConfig","XCommerceOnsiteEventRouter","abstractMethod","gkx","immutable","keyMirror","promiseDone","qex","uuid","PayTransactionStatus"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FBPaymentsPINConstants").PIN_FLOW_STEPS,j=b("PECurrency").formatAmountX,k=b("DateConsts").MS_PER_SEC;a=b("FBPaymentsCheckoutConfigurationTypes").CheckoutConfigurationPropTypes;var l=(c=b("FBPaymentsCheckoutConstants")).CollectedDataKey,m=c.Extensions,n=c.OrderStatusModelType,o=c.PaymentAction,p=c.PaymentCallbackUpdateState,q=b("FBPaymentsCheckoutStep");b("immutable").List;var r=b("immutable").Set,s=b("FBPaymentsLoggerConstants").LoggerFlowType,t=b("FBPaymentsLoggerConstants").LoggerFlowStep,u=b("FBPaymentsLoggerConstants").LoggerEvent,v=b("FBPaymentsLoggerBase").LOGGER_FIELD_NAMES,w=b("FBPaymentsVerificationConstants").VERIFICATION_FLOW_RESULT;d=b("React").PropTypes;var x=b("FBPaymentsModulesErrorConstants").PaymentModulesErrorCode,y=b("keyMirror")(b("PayTransactionStatus"));f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d,e;e=a.call(this,c)||this;e.$17=function(a){e.$1.setFlowStep(t.CHECKOUT_TERMS_FETCH).setEventName(u.SUCCESS).log(),b("FBPaymentsCheckoutActions").termsAndPoliciesLoaded(a)};e.$18=function(a){var c=b("FBPaymentsUniversalErrorUtils").getErrorCode(a);e.$1.setFlowStep(t.CHECKOUT_TERMS_FETCH).setEventName(u.FAIL).setUserFacingMessage(a.message).setUserFacingErrorCode(c).setErrorMessage(a.serverErrorMessage).setErrorCode(c).setExceptionClass(a.exceptionClass).log();b("FBPaymentsCheckoutActions").termsAndPoliciesLoadError()};e.$20=function(a){e.$1.setFlowStep(t.UPDATE_CHECKOUT_API).setEventName(u.SUCCESS).log();var c=e.getCheckoutConfiguration().version;c=b("FBPaymentsContentConfigurationParser").parse(c,a,!0);e.state.step!==q.CONFIRMATION&&b("FBPaymentsCheckoutActions").updateContentConfiguration(c)};e.$23=function(a){e.$1.setFlowStep(t.CHECKOUT_INFORMATION).setEventName(u.SUCCESS).log();e.$8("checkout_load_success");a=b("FBPaymentsCheckoutInfoParser").parse(a,e.getCheckoutConfiguration().contentConfiguration,e.getPaymentType());e.state.step!==q.CONFIRMATION&&b("FBPaymentsCheckoutActions").updateCheckoutInfo(a)};e.$21=function(a){e.$1.setFlowStep(t.UPDATE_CHECKOUT_API).setEventName(u.FAIL).setUserFacingMessage(a.message).setErrorMessage(a.serverErrorMessage).setExceptionClass(a.exceptionClass).log(),b("FBPaymentsCheckoutActions").updateCheckoutLoadError(a)};e.$24=function(a){var c=b("FBPaymentsUniversalErrorUtils").getErrorCode(a),d=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(a),f=b("FBPaymentsUniversalErrorUtils").getServerErrorMessage(a);e.$8("checkout_load_failure");e.$1.setFlowStep(t.CHECKOUT_INFORMATION).setEventName(u.FAIL).setUserFacingMessage(d).setErrorMessage(f).setUserFacingErrorCode(c).setErrorCode(c).log();b("FBPaymentsCheckoutActions").updateCheckoutLoadError(a)};e.$27=function(a){__p&&__p();switch(a.state){case p.LOADING:b("FBPaymentsCheckoutActions").paymentProcessingCallbackLoading({paymentProcessingMessage:a.loadingMessage||""});break;case p.DONE:e.$1.setFlowStep(t.PAYMENT).setEventName(u.SUCCESS).logVital();e.$8("checkout_succeeded");e.$16();b("FBPaymentsCheckoutActions").paymentProcessingCallbackDone({confirmationConfiguration:a.confirmationConfiguration});break;case p.ERROR:e.$1.setFlowStep(t.PAYMENT).setEventName(u.FAIL).setErrorMessage(a.errorMessage).log();e.$8("checkout_flow_failed");e.$16();b("FBPaymentsCheckoutActions").paymentProcessingCallbackError({global:a.errorMessage||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),additional:a.additionalErrors});break;default:throw Error("Invalid payment callback state: "+a.state)}};e.__handleDialogClose=function(){__p&&__p();if(e.state.step===q.CONFIRMATION){e.$30(!1);return}var a=e.__isExitCheckoutConfirmDialogEnabled();if(a){b("FBPaymentsCheckoutActions").showExitCheckoutConfirmDialog({showDialog:!0});return}b("FBPaymentsCheckoutActions").toggleIsCheckoutDialogShown(!1);e.$31()};e.$31=function(){var a;e.$1.setFlowStep(t.CHECKOUT_MODULE).setEventName(u.CANCEL).logVital();e.$8("checkout_flow_canceled");a=(a=e.getContentConfiguration())!=null?a.checkoutClosedCallback:a;a&&a();a=e.props.onCheckoutClosed;a&&a()};e.$32=function(a){e.setState({confirmationExtensions:a})};e.$36=function(){__p&&__p();var a;if(e.state.step===q.PAYMENT_PROCESSING)return;var c=e.state.paymentMethodData;a=(a=c)!=null?a.newPaymentOptionType:a;c=(c=c)!=null?c.paymentMethodID:c;var d={};e.state.extensionFlagsMap.forEach(function(a,b){d[b]=a.isReady?1:0});e.$1.setFlowStep(t.PAYMENT).setEventName(u.CLICK).setPaymentMethodType(a).setPaymentMethodID(c).addToExtraData("components",JSON.stringify(d)).logVital();e.__completePaymentOnPaymentProcessing=!0;b("FBPaymentsCheckoutActions").payButtonClick(e.__isDonationLargeAmountConfirmDialogEnabled())};e.$37=function(){if(e.$38()){e.setState({step:q.PIN});return}e.$36()};e.$39=function(){e.$1.setFlowStep(t.VERIFICATION).setEventName(u.BACK_CLICK).setUserFacingMessage(e.state.errors.global).addToExtraData("incomplete_idv_to_checkout","true").log(),b("FBPaymentsCheckoutActions").exitIncompleteVerificationFlow(),e.__scrollToTop()};e.$45=function(a){switch(a){case w.PASSED:e.$40();return;case w.PENDING_REVIEW:e.$44();return;default:e.$1.setFlowStep(t.VERIFICATION).setEventName(u.BACK_CLICK).setErrorMessage("Unsupported verification flow result: "+String(a)).log(),b("FBLogger")("purchase_experience").warn("Unsupported verification flow result: %s",a)}};e.$49=function(){b("FBPaymentsCheckoutActions").showExitCheckoutConfirmDialog({showDialog:!1}),b("FBPaymentsCheckoutActions").toggleIsCheckoutDialogShown(!1),e.$1.setFlowStep(t.CHECKOUT_EXIT_DIALOG).setEventName(u.CLICK).addToExtraData("button_name","exit").addToExtraData("is_payment_processing",e.getIsPaymentProcessing().toString()).logVital(),e.__shouldUseBackButtonOnConfirmedExit()?e.$28():e.$31()};e.$50=function(){b("FBPaymentsCheckoutActions").showExitCheckoutConfirmDialog({showDialog:!1}),e.$1.setFlowStep(t.CHECKOUT_EXIT_DIALOG).setEventName(u.CLICK).addToExtraData("button_name","cancel").addToExtraData("is_payment_processing",e.getIsPaymentProcessing().toString()).logVital()};e.$51=function(){b("FBPaymentsCheckoutActions").showDonationLargeAmountConfirmDialog({showDialog:!1}),e.$1.setFlowStep(t.CHECKOUT_DONATION_LARGE_AMOUNT_DIALOG).setEventName(u.CLICK).addToExtraData("button_name","donate").logVital(),b("FBPaymentsCheckoutActions").payButtonClick(!1)};e.$52=function(){b("FBPaymentsCheckoutActions").showDonationLargeAmountConfirmDialog({showDialog:!1}),e.$1.setFlowStep(t.CHECKOUT_DONATION_LARGE_AMOUNT_DIALOG).setEventName(u.CLICK).addToExtraData("button_name","cancel").logVital()};e.$58=function(a){b("FBPaymentsModulesAPIShared").confirmAltPayPayment({payment_type:e.getPaymentType(),payment_session_id:e.state.paymentSessionID||""},a,e.$42,e.$43)};e.$42=function(a,c){__p&&__p();e.$57(!0);c&&Object.entries(c).forEach(function(a){var b=a[0];a=a[1];e.$1.addToExtraData(b,a)});e.$1.setFlowStep(t.PAYMENT).setEventName(u.SUCCESS).setPaymentID(a.id).logVital();b("FBPaymentsPerfLogger").logPaymentSuccess(e.getPaymentType());e.$16();c=e.props.onCheckoutSuccessCallback;if(c){var d=e.getSelectedPaymentMethod();c(d,a,e.$59.bind(babelHelpers.assertThisInitialized(e),a),e.$41)}else e.$59(a)};e.$43=function(a,c){__p&&__p();e.$57(!1);c&&Object.entries(c).forEach(function(a){var b=a[0];a=a[1];e.$1.addToExtraData(b,a)});c=b("FBPaymentsUniversalErrorUtils").getErrorCode(a);var d=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(a),f=b("FBPaymentsUniversalErrorUtils").getServerErrorMessage(a);switch(c){case x.IDV_REQUIRED:e.$1.setFlowStep(t.PAYMENT).setEventName(u.FAIL).setUserFacingMessage(d).setErrorMessage(f).setUserFacingErrorCode(c).setErrorCode(c).addToExtraData("idv_status","required").log();b("FBPaymentsCheckoutActions").enterVerificationFlow({userFacingMessage:d});return;case x.ALT_PAY_FLOW_CANCELLED:e.$1.setFlowStep(t.PAYMENT).setEventName(u.CANCEL).setUserFacingMessage(d).setErrorMessage(f).setUserFacingErrorCode(c).setErrorCode(c).addToExtraData("alt_pay_cancelled","true").log();b("FBPaymentsPerfLogger").logPaymentFail(e.getPaymentType());b("FBPaymentsCheckoutActions").altPayFlowCancelled(a);break;case x.IDV_PENDING_MANUAL_REVIEW:e.$1.setFlowStep(t.PAYMENT).setEventName(u.FAIL).setUserFacingMessage(d).setErrorMessage(f).setUserFacingErrorCode(c).setErrorCode(c).addToExtraData("idv_status","pending_manual_review").log();b("FBPaymentsCheckoutActions").paymentProcessingError({global:d||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()});e.__scrollToTop();return}e.$1.setFlowStep(t.PAYMENT).setEventName(u.FAIL).setUserFacingMessage(d).setErrorMessage(f).setUserFacingErrorCode(c).setErrorCode(c).log();b("FBPaymentsPerfLogger").logPaymentFail(e.getPaymentType());e.$16();f=a&&a.errorCode?{userFacingError:a}:{global:d||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()};b("FBPaymentsCheckoutActions").paymentProcessingError(f);if(!e.$38())for(var c=e.state.extensionDataMap.entries(),a=Array.isArray(c),d=0,c=a?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(d>=c.length)break;f=c[d++]}else{d=c.next();if(d.done)break;f=d.value}f=f;f=f[0];switch(f){case m.PIN_VERIFICATION:b("FBPaymentsPINActions").setNeedValidation(!0);break}}e.__scrollToTop()};e.$9=function(a,b){__p&&__p();var c,d,f,g;a=a.transactionOrderDetails;a!=null||h(0,14199);c=(c=a==null?void 0:a.paymentID)!=null?c:"";d=(d=a==null?void 0:a.id)!=null?d:"";f=(f=a==null?void 0:a.receiptUrl)!=null?f:"";g=(g=a==null?void 0:(g=a.confirmationMessage)==null?void 0:g.text)!=null?g:"";e.$8("checkout_flow_failed",d);f={id:c,extra_data:{order_id:d,receipt_url:f,message_with_email:g,subscription_agreement:a.subscriptionAgreement}};a=(g=a)!=null?g.altpayRedirectURL:g;if(a){g={initURL:a,paymentID:c,onCancel:e.$58,onSuccess:e.$58,orderID:d};e.__connectAltPay(g)}else e.$42(f,b)};e.$10=function(a,b){e.$43(a,b),e.$8("checkout_flow_failed")};e.$60=function(a){var b;b=(b=e.getContentConfiguration())!=null?b.dialogWidth:b;(e.state.activeExtension!==null||e.state.activeExtensionForVerification!==null)&&(b=a||b);if(b===e.state.dialogWidth)return;e.setState({dialogWidth:b})};e.$61=function(){e.setState({step:q.READY_TO_PAY})};b("FBPaymentsPerfLogger").logCheckoutFlowAppear(e.getPaymentType());e.validateProps(c);e.initializeLogging(c);b("FBPaymentsDispatcher").explicitlyRegisterStores(e.constructor.getStores());e.isGuestCheckout()&&e.props.guestActorID&&b("RelayAPIConfig").setActorID(e.props.guestActorID);var f=c.configuration.contentConfiguration;e.state={activeExtension:null,activeExtensionForVerification:null,anyOngoingAPICall:!1,areAllExtensionsReady:!1,buttonPrice:null,cachedRequestData:{},checkoutRestoreData:{},confirmationExtensions:new Map(),contactInfoData:null,contentConfiguration:f,dialogWidth:c.dialogWidth||((d=f)!=null?d.dialogWidth:d),errors:{},extensionDataMap:b("immutable").Map(),extensionDataPreparerMap:b("immutable").Map(),extensionFlagsMap:b("immutable").OrderedMap(),extensionsToTriggerUpdateCheckout:r(),extensionUserFacingErrorMap:b("immutable").Map(),finalPriceList:[],freeTrialData:null,frequencySelectorData:null,hasInitializationError:!1,isCheckoutDialogShown:!0,isInitialized:!1,isUpdatingCheckout:!1,paymentMethodData:null,paymentProcessingMessage:"",paymentSessionID:null,priceSelectorData:null,receiverInfo:null,showContactSupportFlow:!1,showExitCheckoutConfirmDialog:!1,showDonationLargeAmountConfirmDialog:!1,showUpfrontAddressCollection:!1,showVerificationFlow:!1,step:q.INCOMPLETE,termsAndPolicies:null,updateCheckoutLoadError:null,cardinal3DSProcessorData:null,altPayCancelledError:null,banner:null,isSecondaryPaymentMethodChecked:!1};b("FBPaymentsCheckoutActions").initializeCheckout({contentConfiguration:f,disableUpfrontAddressCollect:!!c.disableUpfrontAddressCollect,enableCheckoutNUX:e.isCheckoutNUXEnabled(),enablePSDAgreementNUX:e.isPaymentsPSDAgreementEnabled(),logger:e.$1,shouldLoadContentConfiguration:!e.getIsUsingUpdateCheckoutAPI()&&!e.getIsUsingUpdateCheckoutInfoAPI(),paymentType:e.getPaymentType()});e.__completePaymentOnPaymentProcessing=!1;e.$2=!1;return e}var d=c.prototype;d.validateProps=function(a){a=a.configuration;var b=a.orderStatusModel.type;switch(b){case n.FIXED_AMOUNT:!a.contentConfiguration&&h(0,319,b);break;case n.UPDATE_CHECKOUT_API:case n.CHECKOUT_INFORMATION:break;default:h(0,320,b)}};d.initializeLogging=function(a){__p&&__p();var c,d,e;switch(a.paymentModuleFlowType){case b("FBPaymentsModulesFlowType").INVOICE:d=s.INVOICE;e=t.INVOICE;break;default:d=s.CHECKOUT;e=t.CHECKOUT_MODULE;break}var f=this.__getLogger();this.$1=new f();f=a.configuration.paymentInfo;var g=f.orderId,h=f.receiverId,i=f.paymentItemType,j=f.isFreePurchase;f=f.extraData;var k=b("FBPaymentsLinkHelper").getCurrentURISessionID()||b("uuid")();this.$1.setGlobalFields((c={},c[v.session_id]=k,c[v.product]=i,c[v.order_id]=g,c[v.other_profile_id]=h,c[v.flow_name]=d,c[v.is_free]=j,c));k=b("gkx")("676854");g=b("gkx")("684838");h=babelHelpers["extends"]({},f,a.extraDataForLogging,a.checkoutExtraProps,{non_compliant_browser:k?"1":"",user_facing_error:g?"1":"",use_checkout_info:this.getIsUsingUpdateCheckoutInfoAPI()?"1":"",use_3ds2_flow:b("FBPaymentsCheckoutHelper").shouldUse3DS2Flow(i)});this.$1.setGlobalExtraData(h);e&&this.$1.setFlowStep(e).setEventName(u.INIT).logVital()};c.getStores=function(){return[this.__getCheckoutStore(),b("FBPaymentsCheckoutConfigurationStore"),b("FBPaymentsCheckoutLoggerStore")]};c.__getCheckoutStore=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getCheckoutStore")};c.calculateState=function(a,c){__p&&__p();c=babelHelpers["extends"]({},a);a=this.__getCheckoutStore();var d=a.getState();c.priceSelectorData=d.priceSelectorData;c.freeTrialData=d.freeTrialData;c.frequencySelectorData=d.frequencySelectorData;c.contactInfoData=d.contactInfoData;var e=d.paymentMethodData;c.paymentMethodData=d.isSecondaryPaymentMethodChecked?e:babelHelpers["extends"]({},e,{secondaryPaymentMethod:null});c.checkoutRestoreData=d.checkoutRestoreData;c.buttonPrice=d.buttonPrice;c.termsAndPolicies=d.termsAndPolicies;c.receiverInfo=d.receiverInfo;c.extensionDataPreparerMap=d.extensionDataPreparerMap;c.extensionDataMap=d.extensionDataMap;c.extensionFlagsMap=d.extensionFlagsMap;c.extensionUserFacingErrorMap=d.extensionUserFacingErrorMap;c.step=d.checkoutStep;c.paymentProcessingMessage=d.paymentProcessingMessage;c.activeExtension=d.activeExtension;c.activeExtensionForVerification=d.activeExtensionForVerification;c.errors=d.checkoutErrors;c.showContactSupportFlow=d.showContactSupportFlow;c.showVerificationFlow=d.showVerificationFlow;c.cachedRequestData=d.cachedRequestData;c.isCheckoutDialogShown=d.isCheckoutDialogShown;c.isUpdatingCheckout=d.isUpdatingCheckout;c.isSecondaryPaymentMethodChecked=d.isSecondaryPaymentMethodChecked;c.contentConfiguration=b("FBPaymentsCheckoutConfigurationStore").getContentConfiguration();c.finalPriceList=a.getFinalPriceList(c.contentConfiguration);c.isInitialized=a.isCheckoutInitialized(c.contentConfiguration);c.hasInitializationError=a.hasAnyInitializationError();c.areAllExtensionsReady=a.areAllExtensionsReady();c.showUpfrontAddressCollection=a.shouldShowUpfrontAddressCollection();c.paymentSessionID=d.paymentSessionID;c.extensionsToTriggerUpdateCheckout=d.extensionsToTriggerUpdateCheckout;c.showExitCheckoutConfirmDialog=d.showExitCheckoutConfirmDialog;c.showDonationLargeAmountConfirmDialog=d.showDonationLargeAmountConfirmDialog;c.updateCheckoutLoadError=d.updateCheckoutLoadError;c.cardinal3DSProcessorData=d.cmpi3DSResult;c.anyOngoingAPICall=d.getIsAnyAPICallsOngoing();c.altPayCancelledError=d.altPayCancelledError;c.banner=d.banner;return c};d.isCheckoutNUXEnabled=function(){return!!this.props.enableCheckoutNUX};d.isPaymentsPSDAgreementEnabled=function(){return!!this.props.psdAgreementID};d.getExtensionName=function(a){return a.identifier==="CUSTOM_EXTENSION"?a.extensionKey:a.identifier};d.getCheckoutConfiguration=function(){return this.props.configuration};d.getPaymentInfo=function(){return this.props.configuration.paymentInfo};d.getContentConfiguration=function(){if(this.getIsUsingUpdateCheckoutAPI()||this.getIsUsingUpdateCheckoutInfoAPI())return this.state.contentConfiguration;else return this.getCheckoutConfiguration().contentConfiguration};d.getPayActionContent=function(){var a=this.getContentConfiguration();return a&&a.payActionContent};d.getPayActionTitle=function(a,c){__p&&__p();if(!(a==null?void 0:a.customLabelsForCredentials)&&(c==null?void 0:c.newPaymentOptionType)===b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL)return b("FBPaymentsCheckoutStrings").getNewPayPalPayActionTitle();if(!(a==null?void 0:a.customLabelsForCredentials)&&(c==null?void 0:c.newPaymentOptionType)===b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM)return b("FBPaymentsCheckoutStrings").getNewAffirmPayActionTitle();if(!(a==null?void 0:a.customLabelsForCredentials)||!c)return a==null?void 0:a.actionTitle;c=(c==null?void 0:c.newPaymentOptionType)?c==null?void 0:c.newPaymentOptionType:c==null?void 0:(c=c.paymentMethod)==null?void 0:c.type;var d=b("PaymentMethodUtils").getGraphQLPaymentMethodTypeFromLegacyType(c);c=(c=a==null?void 0:a.customLabelsForCredentials)!=null?c:[];c=c.find(function(a){return a.credential_type===d});return(c=c==null?void 0:c.label)!=null?c:a==null?void 0:a.actionTitle};d.getConfirmationConfiguration=function(){var a=this.state.contentConfiguration;return a&&a.confirmationConfiguration||{}};d.getSelectedPaymentMethod=function(){var a=this.state.extensionDataMap.get(m.PAYMENT_METHOD);return(a=a)!=null?a.paymentMethod:a};d.getIsUsingUpdateCheckoutAPI=function(){return this.getCheckoutConfiguration().orderStatusModel.type===n.UPDATE_CHECKOUT_API};d.getIsUsingUpdateCheckoutInfoAPI=function(){return this.isGuestCheckout()?!1:this.getCheckoutConfiguration().orderStatusModel.type===n.CHECKOUT_INFORMATION};d.getIsPaymentProcessing=function(){return this.state.step===q.PAYMENT_PROCESSING||this.state.step===q.PAYMENT_PROCESSING_EXTENDED};d.componentDidMount=function(){this.logExperimentExposures(),this.$6(!0),this.getIsUsingUpdateCheckoutInfoAPI()||this.$7(),this.$8("checkout_impression"),this.isAsyncPaymentType()&&(this.$5=new(b("FBPaymentsAsyncCompleteCheckoutManager"))(this.$9,this.$10,this.$1))};d.componentWillUnmount=function(){b("FBPaymentsCheckoutActions").unmountCheckoutFlow()};d.componentDidUpdate=function(a,c){__p&&__p();var d=this;c.step!==q.PAYMENT_PROCESSING&&this.state.step===q.PAYMENT_PROCESSING&&this.__completePaymentOnPaymentProcessing&&(this.__completePaymentOnPaymentProcessing=!1,this.$11());if(this.getIsUsingUpdateCheckoutAPI()||this.getIsUsingUpdateCheckoutInfoAPI()){a=c.extensionDataMap;var e=this.state.extensionDataMap;c=a.some(function(a,b){if(d.$12(b)){a=JSON.stringify(a)!==JSON.stringify(e.get(b));return a}return!1});c&&(this.getIsUsingUpdateCheckoutInfoAPI()?this.$13():this.$14())}!this.state.anyOngoingAPICall&&this.state.isInitialized&&!this.state.isUpdatingCheckout&&!this.$3&&(b("FBPaymentsPerfLogger").annotateAddressFormUpfront(23265284,this.state.showUpfrontAddressCollection),b("FBPaymentsPerfLogger").markerEnd(23265284,this.getPaymentType()),this.$3=!0,this.$15());(this.state.step===b("FBPaymentsCheckoutStep").INCOMPLETE||this.state.step===b("FBPaymentsCheckoutStep").READY_TO_PAY)&&(this.$2||(this.$2=!0,this.$1.setFlowStep(t.CHECKOUT_SCREEN).setEventName(u.DISPLAY).logVital()))};d.$15=function(){var a,b=Date.now();a=(a=this.props.checkoutExtraProps)==null?void 0:a.countdownTimerDurationInS;var c=3*k/4;a&&(this.__countdownTimerEndTime=b+a*k+c,this.forceUpdate())};d.$16=function(){var a;this.$1.setGlobalFields((a={},a[v.payment_method_id]=null,a[v.payment_method_type]=null,a[v.mailing_address_id]=null,a[v.shipping_option_id]=null,a[v.raw_amount]=null,a[v.currency]=null,a))};d.logExperimentExposures=function(){};d.$7=function(){var a,c=this.getPaymentInfo();a=(a=this.getPayActionContent())!=null?a.actionTitle:a;this.$1.setFlowStep(t.CHECKOUT_TERMS_FETCH).setEventName(u.API_INIT).log();this.isGuestCheckout()?b("FBPaymentsModulesAPIShared").fetchTermsAndPoliciesGraphQLRelay(c.paymentItemType,c.receiverId,c.orderId,c.extraData,a,this.$17,this.$18):this.__getAPI().fetchTermsAndPolicies(c.paymentItemType,c.receiverId,c.orderId,c.extraData,a,this.$17,this.$18)};d.$6=function(a){a===void 0&&(a=!1),this.getIsUsingUpdateCheckoutInfoAPI()?this.$13(a):this.getIsUsingUpdateCheckoutAPI()&&this.$14()};d.$14=function(){var a=this.$19();b("FBPaymentsCheckoutActions").setIsUpdatingCheckout();this.__getAPI().updateCheckoutGraphql(a,this.$20,this.$21)};d.$13=function(a){a===void 0&&(a=!1);var c=this.$22(a);b("FBPaymentsCheckoutActions").setIsUpdatingCheckout();this.$1.setFlowStep(t.CHECKOUT_INFORMATION).setEventName(u.API_INIT).addToExtraData("initial_load",a.toString()).log();b("FBPaymentsModulesAPIShared").updateCheckoutInformationGraphQL(c,this.$23,this.$24)};d.$22=function(a){__p&&__p();var c,d;a===void 0&&(a=!1);var e=this.getPaymentInfo();c=(c=e==null?void 0:(c=e.extraData)==null?void 0:c.products)!=null?c:[];var f={};c={payment_type:e.paymentItemType,order_id:e.orderId,receiver_id:e.receiverId,logging_id:this.$1.getSessionID(),payment_session_id:this.state.paymentSessionID,products:c.map(function(a){var b;return{product_id:a.product_id,quantity:a.quantity,per_unit_price:a.price?{currency:(b=a.price)==null?void 0:b.currency,amount:(b=a.price)==null?void 0:b.amount}:null}}),is_initial_load:a};a=e.extraData||{};for(var e=this.state.extensionDataMap.entries(),g=Array.isArray(e),h=0,e=g?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];switch(j){case m.PAYMENT_METHOD:j=i.newPaymentOptionType?b("PaymentMethodUtils").getGraphQLPaymentMethodTypeFromLegacyType(i.newPaymentOptionType):i.paymentMethod.credentialType;d=(d=i)!=null?d.altPayData:d;d&&(f={altpay_data:{payment_provider:d.payment_provider,pricepoint_id:d.pricepoint_id,msisdn:d.msisdn}});c.selected_payment_credentials=babelHelpers["extends"]({},f,{credential_type:j,credential_id:i.paymentMethodID,billing_country:i.selectedBillingCountry});break;case m.SHIPPING_ADDRESS:c.selected_shipping_address_id=i.selectedMailingAddressID;break;case m.CONTACT_INFO:c.contact_name=i.name;c.selected_contact_email_id=i.emailID;c.selected_contact_phone_id=i.phoneNumberID;break;case m.CUSTOM_OPTIONS:c.selected_delivery_option_id=i==null?void 0:(d=i.selectedOption)==null?void 0:d.optionId;break;case m.COUPON_CODE:c.coupon_code=i.couponCode;break}}c.extra_data=JSON.stringify(a);return c};d.$19=function(){__p&&__p();var a,c=this.getPaymentInfo(),d={payment_type:c.paymentItemType,order_id:c.orderId,receiver_id:c.receiverId,session_id:this.$1.getSessionID()};c=c.extraData||{};var e={};for(var f=this.state.extensionDataMap.entries(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];switch(j){case m.PAYMENT_METHOD:j=b("FBPaymentsModulesAPIUtils").getPaymentMethodRequestParamsGraphQL(i.paymentMethod,i.bank);a=(a=i)!=null?(a=a.altPayData)!=null?a.fee:a:a;a&&(e={payment_credential_data:JSON.stringify({altpay_fee:a}),payment_instrument_type:"ALTPAY"});d=babelHelpers["extends"]({},e,d,j);c=babelHelpers["extends"]({},c,{billingCountryCode:i.selectedBillingCountry});break;case m.SHIPPING_ADDRESS:d.mailing_address_id=i.selectedMailingAddressID;break;case m.CUSTOM_OPTIONS:j=(a=i)!=null?(a=a.extraData)!=null?a.collectedDataKey:a:a;a=(a=i)!=null?(a=a.selectedOption)!=null?a.optionId:a:a;switch(j){case l.SHIPPING_OPTION:d.shipping_option_id=a;break;default:if(j){var k;c=babelHelpers["extends"]({},c,(k={},k[j]=a,k))}}break;case m.COUPON_CODE:d.coupon_code=i.couponCode;break}}d.extra_data=JSON.stringify(c);return d};d.$12=function(a){if(this.getIsUsingUpdateCheckoutInfoAPI())return this.state.extensionsToTriggerUpdateCheckout.has(a);switch(a){case m.CONTACT_INFO:case m.COUPON_CODE:case m.PAYMENT_METHOD:case m.CUSTOM_OPTIONS:case m.SHIPPING_ADDRESS:return!0;default:return!1}};d.shouldConnectPayPalInCheckoutContainer=function(){return this.constructor.__getCheckoutStore().shouldConnectPayPalInCheckoutContainer()};d.areAllExtensionsReady=function(){return this.state.areAllExtensionsReady};d.isCheckoutInitialized=function(){return this.state.isInitialized};d.isGuestCheckout=function(){return!!this.props.guestActorID};d.isAsyncPaymentType=function(){return b("FBPaymentsAsyncCompleteCheckoutUtils").isAsyncPaymentType(this.getPaymentType())};d.isAsyncPayment=function(){return b("FBPaymentsAsyncCompleteCheckoutUtils").isAsyncPayment(this.getPaymentType())};d.$25=function(){return b("gkx")("763695")};d.$26=function(){var a,c;a=((a=this.state.paymentMethodData)==null?void 0:a.newPaymentOptionType)===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD||((a=this.state.paymentMethodData)==null?void 0:a.newPaymentOptionType)===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD_FROM_GRAPHQL||((a=this.state.paymentMethodData)==null?void 0:(a=a.paymentMethod)==null?void 0:a.type)===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD||((a=this.state.paymentMethodData)==null?void 0:(a=a.paymentMethod)==null?void 0:a.type)===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD_FROM_GRAPHQL;return b("FBPaymentsCheckoutHelper").shouldUse3DS2Flow(this.getPaymentType(),(c=this.getPaymentInfo())==null?void 0:(c=c.extraData)==null?void 0:c.receiverCountry)&&a&&b("FBPayments3DS").requires3DS2()};d.getPaymentType=function(){return this.getPaymentInfo().paymentItemType};d.__handleBackButtonClick=function(a){a===void 0&&(a=!1),!a&&this.__isExitCheckoutConfirmDialogEnabled()?(b("FBPaymentsCheckoutActions").showExitCheckoutConfirmDialog({showDialog:!0}),this.$1.setFlowStep(t.CHECKOUT_EXIT_DIALOG).setEventName(u.DISPLAY).addToExtraData("is_payment_processing",this.getIsPaymentProcessing().toString()).logVital()):this.$28()};d.$28=function(){this.$1.setFlowStep(t.CHECKOUT_MODULE).setEventName(u.CANCEL).logVital();this.$8("checkout_flow_canceled");var a=this.props.onBackButtonClick;if(a)a&&a();else{a=(a=this.getPayActionContent())!=null?a.backButtonCallback:a;a&&a()}};d.$29=function(){b("FBPaymentsCheckoutActions").nuxContinueButtonClick()};d.__exitCheckoutFlow=function(a){a===void 0;return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__exitCheckoutFlow")};d.$30=function(a){var b=this.getConfirmationConfiguration().confirmationClosedCallback;b&&b(a,this.state.confirmationExtensions);b=this.props.onConfirmationClosed;b&&b(a,this.state.confirmationExtensions)};d.$33=function(){__p&&__p();var a=this.state.buttonPrice,c=this.getContentConfiguration(),d=b("FBPaymentsFreeTrialExtensionUtil").getIsUsingFreeTrial(this.state.freeTrialData),e=this.state.finalPriceList;if(c==null?void 0:c.newPriceTable){a=c==null?void 0:(c=c.newPriceTable)==null?void 0:c.totalPrice.price;if(d){a=b("FBPaymentsFreeTrialExtensionUtil").getFreeTrialPrice((c=(c=a)==null?void 0:c.currency)!=null?c:"")}}else if(this.isPriceListValid(e)){c=b("FBPaymentsPriceListHelper").calculateTotal(e);e=c.currency;e&&(a=d?b("FBPaymentsFreeTrialExtensionUtil").getFreeTrialPrice(e):{amount:c.amount.toString(),currency:e})}return a};d.$34=function(){var a,c,d=this.getPaymentType(),e=this.state.paymentMethodData;c=((c=e)!=null?c.paymentMethodID:c)||"";e=(e=e)!=null?e.paymentMethod:e;e=(e==null?void 0:e.cardType)||"";a=((a=this.$33())==null?void 0:a.currency)||"";c={credentialID:c,creditCardType:e,currency:a,paymentInfo:this.getPaymentInfo(),paymentType:d};return b("FBPayments3DS").getAcquirerMerchantInfo(c)};d.$35=function(a){var b=this.state.paymentMethodData;b=(b=b)!=null?b.paymentMethodID:b;var c=this.$33();b={credentialID:b!=null?b:"",amount:{currency:(c==null?void 0:c.currency)||"",amount:(c==null?void 0:c.amount)||""},itemType:this.getPaymentType(),lookupData:{email:"",mobile_phone:"",billing_first_name:"",billing_middle_name:"",billing_last_name:"",credit_card_address:{street:"",street2:"",city:"",state:"",zip:"",country_code:""},acs_window_size:"01",acquirer_merchant_info:a}};return b};d.$38=function(){var a;return!!((a=this.props.checkoutExtraProps)==null?void 0:a.shouldShowPINFlow)};d.$40=function(){this.$1.setFlowStep(t.VERIFICATION).setEventName(u.DONE).addToExtraData("passed_idv_to_checkout","true").logVital();b("FBPaymentsCheckoutActions").exitPassedVerificationFlow();var a=this.state.cachedRequestData;if(!a){this.$41();return}this.isAsyncPayment()?(this.__startChannelManager(),this.$5!=null||h(0,11262),this.$5.makeAsyncPayment(a,this.getPaymentInfo())):this.__getAPI().completeCheckoutGraphQL(a,this.$42,this.$43)};d.$44=function(){this.$1.setFlowStep(t.VERIFICATION).setEventName(u.DONE).addToExtraData("pending_review_idv_to_checkout","true").logVital(),this.__exitCheckoutFlow(!0)};d.$46=function(){b("FBPaymentsCheckoutActions").contactSupportClick()};d.$47=function(){b("FBPaymentsCheckoutActions").exitIncompleteContactSupport()};d.$48=function(){b("FBPaymentsCheckoutActions").exitCompletedContactSupport()};d.__isDonationLargeAmountConfirmDialogEnabled=function(){var a,c;switch(this.getPaymentType()){case"mor_donations":case"mor_donations_cause_for_charities":case"mor_donations_matching_confirmation":case"mor_donations_matching_pledge":case"nmor_donation_p4p":case"nmor_blackbaud_rwr_donation":case"nmor_ppgf_donation":a=Number((a=(a=this.$33())==null?void 0:a.amount)!=null?a:"");c=Number((c=this.props.checkoutExtraProps)==null?void 0:c.amountForConfirmationDialog);return a>=c?!!b("qex")._("1105373"):!1;default:return!1}};d.__getDonationLargeAmountConfirmDialogCancelButtonLabel=function(){return b("FBPaymentsCheckoutStrings").getDonationLargeAmountConfirmDialogCancelButtonLabel()};d.__getDonationLargeAmountConfirmDialogConfirmButtonLabel=function(){return b("FBPaymentsCheckoutStrings").getDonationLargeAmountConfirmDialogConfirmButtonLabel()};d.__getDonationLargeAmountConfirmDialogDescription=function(){var a,c=this.$33(),d={showCurrencyCode:!1,showDecimals:!0,showSymbol:!0,stripZeros:!0,thousandSeparator:!0};c=j((a=c==null?void 0:c.currency)!=null?a:"",Number((a=c==null?void 0:c.amount)!=null?a:"")*100,d);return b("FBPaymentsCheckoutStrings").getDonationLargeAmountConfirmDialogDescription(c,(a=this.getContentConfiguration())==null?void 0:(d=a.entity)==null?void 0:d.participant.title)};d.$11=function(){__p&&__p();var a=this;b("FBPaymentsCheckoutActions").updateCheckoutStep(q.PAYMENT_PROCESSING);var c=this.state.extensionDataPreparerMap;b("promiseDone")(b("FBPaymentsCheckoutHelper").prepareExtensionDataPromise(c).then(function(b){!b&&h(0,960),a.$53(b)})["catch"](function(c){c=(c=c)!=null?c.error:c;b("FBPaymentsPerfLogger").logPaymentFail(a.getPaymentType());if(c)b("FBPaymentsCheckoutActions").paymentProcessingExtensionDataPrepError(c);else{c=b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage();b("FBPaymentsCheckoutActions").paymentProcessingExtensionDataPrepError({global:c})}a.__scrollToTop()}))};d.$53=function(a){var c=this;!this.$26()?this.$54(a):b("promiseDone")(this.$34(),function(d){d=c.$35(d);b("promiseDone")(b("FBPayments3DS").cmpiLookup(d),function(d){b("FBPaymentsCheckoutActions").successful3DS({cmpiLookupResult:d}),c.$54(a)},function(a){a=a.cmpi_3ds2_lookup_query||"";a=a.status;a==="CHALLENGED"?(b("FBPaymentsPerfLogger").logPaymentCancel(c.getPaymentType()),c.$41()):c.$10()})})};d.$54=function(a){__p&&__p();var c,d=this.getPaymentInfo(),e=this.$55(a),f;c=(c=this.state.paymentMethodData)!=null?c.newPaymentOptionType:c;e.nmor_payment_method&&(f=JSON.parse(e.nmor_payment_method).type);var g=this.shouldConnectPayPalInCheckoutContainer()&&c===b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL,i=g?t.ADD_PAYPAL:t.PAYMENT;this.$1.setFlowStep(i).setEventName(u.API_INIT).setGlobalFields((i={},i[v.payment_method_id]=e.credential_id,i[v.payment_method_type]=f,i[v.mailing_address_id]=e.mailing_address_id,i[v.shipping_option_id]=e.shipping_option_id,i[v.raw_amount]=e.amount,i[v.currency]=e.currency,i));e.payment_type!=="nmor_event_ticketing"&&this.$1.updateExtraData(JSON.parse(e.extra_data));this.$8("purchase_button_clicked");var j;!g&&d.action!==o.CUSTOM_CALLBACK&&(j=this.isAsyncPayment(),this.$1.addToExtraData("async",j?"true":"false"));this.$1.logVital();if(g){i=b("FBPaymentsCheckoutHelper").buildCheckoutRestoreData(this.state.checkoutRestoreData,a);this.__connectPayPal({checkoutRestoreData:i,logger:this.$1,paymentType:d.paymentItemType})}else d.action===o.CUSTOM_CALLBACK?(d.payCallbackV2!=null||h(0,961),d.payCallbackV2(this.state.extensionDataMap,this.$27,e)):(b("FBPaymentsCheckoutActions").cacheRequestData(e),j?(c===b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY&&this.__connectAltPay(),this.__startChannelManager(),this.$5!=null||h(0,11262),this.$5.makeAsyncPayment(e,this.getPaymentInfo())):this.isGuestCheckout()||this.getPaymentType()==="mor_facebook_shop"?(e.paymentType=d.paymentItemType,b("FBPaymentsModulesAPIShared").completeCheckoutRelayGraphQL(e,this.$42,this.$43)):this.__getAPI().completeCheckoutGraphQL(e,this.$42,this.$43))};d.$56=function(a){if(b("FBPaymentsCheckoutHelper").shouldCollectFraudnetFeatures(a)){this.$4=(a=this.$4)!=null?a:b("PayPalFraudNetNew").collectFraudnetFeatures("FB_CHECKOUT_FLOW_ID",b("PayPalFraudNetUrl").fraudnet_url)}return this.$4};d.$55=function(a){__p&&__p();var c,d,e=this.state,f=this.getPaymentInfo(),g=f.paymentItemType,i=this.$56(e.receiverInfo);g={action:f.action,payment_type:g,receiver_id:f.receiverId,order_id:f.orderId,products:(g=f.extraData)==null?void 0:g.products,session_id:this.$1.getSessionID(),payment_session_id:e.paymentSessionID,paypal_fraudnet_id:i};i=f.extraData||{};f=!1;var j={};for(var k=e.extensionDataMap.entries(),n=Array.isArray(k),o=0,k=n?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=k.length)break;p=k[o++]}else{o=k.next();if(o.done)break;p=o.value}p=p;var q=p[0];p=p[1];switch(q){case m.COUPON_CODE:g=babelHelpers["extends"]({},g,{coupon_code:p.couponCode});break;case m.PAYMENT_METHOD:var r=a.get(q);d=(d=r)!=null?d.paymentMethod:d;c=(c=p)!=null?c.altPayData:c;var s=void 0;if(c)delete c.fee,s={altPayData:c};else if(!((c=r)!=null?c.credit_card:c)){c=d||p.paymentMethod;p.secondaryPaymentMethod?(f=!0,j=p):s=b("FBPaymentsModulesAPIUtils").getPaymentMethodRequestParams(c,p.bank)}g=babelHelpers["extends"]({},g,s);p.csc&&(g.csc=p.csc);((d=r)!=null?d.credit_card:d)&&(g=babelHelpers["extends"]({},g,r));break;case m.CONTACT_INFO:c=a.get(q);d=(s=c)!=null?s.emailID:s;s=(r=c)!=null?r.emailAddress:r;c=(r=c)!=null?r.phoneNumberID:r;r=e.contactInfoData;r&&(g.contact_name=r.name,g.email_address_id=d||r.emailID,g.email_address=s||r.email,g.contact_number_id=c||r.phoneNumberID);break;case m.PIN_VERIFICATION:p.pin&&(g.security_pin={sensitive_string_value:p.pin});break;case m.PRICE_SELECTOR:d=e.priceSelectorData;d&&(g.amount=b("FBPaymentsPriceListHelper").formatStringAmount(Number(d.selectedAmount)),g.currency=d.currency);break;case m.SHIPPING_ADDRESS:g.mailing_address_id=p.selectedMailingAddressID;break;case m.CUSTOM_OPTIONS:c=(s=p)!=null?(s=s.extraData)!=null?s.collectedDataKey:s:s;d=(r=p)!=null?(r=r.selectedOption)!=null?r.optionId:r:r;switch(c){case l.SHIPPING_OPTION:g.shipping_option_id=d;break;default:if(c){i=babelHelpers["extends"]({},i,(s={},s[c]=d,s))}}break;case m.FREQUENCY_SELECTOR:r=p.subscriptionType;c=p.subscriptionPeriod;r&&(g.subscription_type=r,g.subscription_period=c);break;case m.FREE_TRIAL:d=p.trialType;g.trial_type=d;break;case m.USER_INFO_OPT_IN:s=p.optIn;g.email_opt_in=s;break;default:i=babelHelpers["extends"]({},i,(r={},r[q]=p,r));break}}i.subscriptionType&&i.subscriptionPeriod&&(g.subscription_type=i.subscriptionType,g.subscription_period=i.subscriptionPeriod);c=this.state.finalPriceList;if((d=this.getContentConfiguration())==null?void 0:d.newPriceTable){q=(s=this.getContentConfiguration())==null?void 0:s.newPriceTable;g.currency=q==null?void 0:(p=q.totalPrice)==null?void 0:(r=p.price)==null?void 0:r.currency;g.amount=q==null?void 0:(o=q.totalPrice)==null?void 0:(n=o.price)==null?void 0:n.amount}else if(!g.currency||!g.amount){this.isPriceListValid(c)||h(0,962);k=b("FBPaymentsPriceListHelper").calculateTotal(c);g.currency=k.currency;g.amount=b("FBPaymentsPriceListHelper").formatStringAmount(k.amount)}if(f){!g.amount&&h(0,12982);a=b("FBPaymentsModulesAPIUtils").getMultiCredentialRequestParams(j,g.currency,g.amount);g=babelHelpers["extends"]({},g,a)}d=(e=this.getContentConfiguration())!=null?e.taxID:e;d&&(i=babelHelpers["extends"]({},i,{taxID:d}));if(b("FBPaymentsFreeTrialExtensionUtil").getIsUsingFreeTrial(this.state.freeTrialData)){p=(s=this.state.freeTrialData)==null?void 0:s.subscriptionPrice;g.amount=p==null?void 0:p.amount;g.currency=p==null?void 0:p.currency}if(this.state.cardinal3DSProcessorData){r=this.state.cardinal3DSProcessorData;q=r.cardinalTransactionID;o=r.rowID;n=r.status;c=r.threeDSTransactionData;var t;c&&(t={threeDs_secure_version:c.threeDsSecureVersion,cavv:c.cavv,eci_flag:c.eciFlag,xid:c.xid,ds_transaction_id:c.dsTransactionID});g.cardinal_3ds_processor_data={ref_id:o||"",status:n,transaction_id:q||"",threeDS_transaction_data:t}}g.extra_data=JSON.stringify(i);return g};d.$57=function(a){this.$25()&&b("FBPaymentsModulesAPIShared").logPaymentSessionStatus({paymentSessionID:this.state.paymentSessionID,paymentType:this.getPaymentType(),sessionID:this.$1&&this.$1.getSessionID(),success:a})};d.$41=function(){b("FBPaymentsCheckoutActions").updateCheckoutStep(q.READY_TO_PAY)};d.$59=function(a,c){__p&&__p();var d;c=c||this.getConfirmationConfiguration();d=(d=a.extra_data)==null?void 0:d.order_status;if(d===y.PENDING){d=(d=a)!=null?(d=d.extra_data)!=null?d.confirmation_message:d:d;c.isPaymentStatusPending=!0}else{var e;c.receiptUrl=((e=this.props.checkoutExtraProps)!=null?e.receiptUrl:e)||((e=a)!=null?(e=e.extra_data)!=null?e.receipt_url:e:e)||b("FBPaymentsLinkHelper").getPaymentSettingsReceiptURI(a.id).toString();d=(e=a)!=null?(e=e.extra_data)!=null?e.message_with_email:e:e}d&&(c.confirmationText=b("FBPaymentsStringHelper").stringToMarkup(d));d=(e=a)!=null?(e=e.extra_data)!=null?e.subscription_details:e:e;d&&(c.subscriptionConfirmationDetails={image:d.subscription_image.uri,name:d.subscription_name,renewMessage:d.renew_amount,renewTitle:d.renew_date,subtitle:d.subscription_subtitle.text});d=(e=a.extra_data)==null?void 0:e.subscription_agreement;if(d){c.subscriptionConfirmationDetails={image:(a=d.image)==null?void 0:a.uri,name:d.name,renewMessage:d.editMessage,renewTitle:d.renewMessage,subtitle:d.subtitle.text}}a=(e=this.props.checkoutExtraProps)!=null?e.doneButtonText:e;a&&(c.doneButtonText=a);e=(d=this.props.checkoutExtraProps)!=null?d.doneButtonTrackingNodeType:d;e&&(c.doneButtonTrackingNodeType=e);a=this.getContentConfiguration();a||h(0,323);a.confirmationConfiguration=c;b("FBPaymentsCheckoutActions").updateContentConfiguration(a);b("FBPaymentsCheckoutActions").updateCheckoutStep(q.CONFIRMATION)};d.$8=function(a,c){var d;if(this.getPaymentType()!=="nmor_checkout_experiences")return;d=(d=(d=this.getPaymentInfo().extraData)==null?void 0:d.products)!=null?d:[];d=d.map(function(a){return a.product_id});b("XCommerceOnsiteEventRouter").logEvent(a,{productIDs:d,adID:(a=this.getPaymentInfo().extraData)==null?void 0:(d=a.server_logging_params)==null?void 0:d.ad_id,orderID:c})};d.isPriceListValid=function(a){return!!a&&a.length>0};d.$62=function(a,c,d){var e=a.identifier==="CUSTOM_EXTENSION"?a["class"]:this.__getExtensionManager().getExtensionContainer(a.identifier);return b("React").createElement(e,{checkoutConfiguration:this.getCheckoutConfiguration(),checkoutExtraProps:this.props.checkoutExtraProps,extensionConfiguration:a,isActive:c,isActiveForVerification:d,isGuestCheckout:this.isGuestCheckout(),isUsingUpdateCheckoutInfoAPI:this.getIsUsingUpdateCheckoutInfoAPI(),logger:this.$1,onContactSupportClick:this.$46,onExtensionWidthChange:this.$60})};d.$63=function(){return{theme:this.props.theme||"DEFAULT"}};d.render=function(){__p&&__p();var a=this,c=this.getContentConfiguration(),d,e,f,j,k,l,n=[],o,p=!1,r=!1,s=!1,t=!!this.props.renderInline,u=!!this.props.renderInlineWithPadding,v=b("FBPaymentsFreeTrialExtensionUtil").getIsUsingFreeTrial(this.state.freeTrialData),w=this.__isExtensionDisplayWhenValidatePIN(),x;if(this.state.showVerificationFlow){var y=this.__getVerificationFlowContainer(),z=b("FBPaymentsVerificationFlowHelper").getVerificationFlowPaymentType(this.getPaymentType()),A=b("FBPaymentsVerificationFlowHelper").getVerificationFlowProductType(z);!!z&&!!A||h(0,963,this.getPaymentType());x=b("React").createElement(y,{isAsyncDialogBody:!0,onBackClick:this.$39,onClose:this.$45,paymentType:z,verificationProductType:A})}var B;z=(y=this.state.errors)!=null?y.userFacingError:y;if(z){var C;A=this.__getUserFacingErrorNotice();y=z.primaryCta;!!y&&y.type==="contact_us"&&(y.onClick=this.$46);C=(C=z)!=null?C.flowStep:C;B=b("React").createElement(A,{callToAction:y,description:z.errorDescription,flowStep:C,logger:this.$1,title:z.errorTitle,use:z.imageType})}var D;if(this.state.showContactSupportFlow){A=this.__getContactSupportContainer();y=this.state.showUpfrontAddressCollection?m.SHIPPING_ADDRESS:this.state.activeExtension||this.state.activeExtensionForVerification;if(y!=null){C=this.state.extensionUserFacingErrorMap.get(y);z=C||z}C=(y=z)!=null?y.errorCode:y;z=(y=z)!=null?y.flowStep:y;y=this.getPaymentType();!!C&&!!z&&!!y||h(0,964);C={errorCode:C,flowStep:z,paymentType:y};D=b("React").createElement(A,{extraInfo:C,logger:this.$1,onBackClick:this.$47,onClose:this.$48})}var E;if(this.state.showExitCheckoutConfirmDialog){z=this.__getExitCheckoutConfirmDialog();z!=null&&(E=b("React").createElement(z,{isShown:this.state.showExitCheckoutConfirmDialog,cancelButtonLabel:this.__getExitCheckoutConfirmDialogCancelButtonLabel(),confirmButtonLabel:this.__getExitCheckoutConfirmDialogConfirmButtonLabel(),description:b("FBPaymentsCheckoutStrings").getExitCheckoutConfirmDialogDescription(),logger:this.$1,onCancelClick:this.$50,onConfirmClick:this.$49,title:b("FBPaymentsCheckoutStrings").getExitCheckoutConfirmDialogTitle()}))}var F;if(this.state.showDonationLargeAmountConfirmDialog){y=this.__getDonationLargeAmountConfirmDialog();y!=null&&(F=b("React").createElement(y,{isShown:this.state.showDonationLargeAmountConfirmDialog,cancelButtonLabel:this.__getDonationLargeAmountConfirmDialogCancelButtonLabel(),confirmButtonLabel:this.__getDonationLargeAmountConfirmDialogConfirmButtonLabel(),description:this.__getDonationLargeAmountConfirmDialogDescription(),logger:this.$1,onCancelClick:this.$52,onConfirmClick:this.$51,title:b("FBPaymentsCheckoutStrings").getDonationLargeAmountConfirmDialogTitle()}))}var G;if(this.state.altPayCancelledError){A=this.__getCheckoutAlertDialog();if(A!=null){C=b("FBPaymentsUniversalErrorUtils").getErrorTitle(this.state.altPayCancelledError);z=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(this.state.altPayCancelledError);C&&z&&(G=b("React").createElement(A,{isShown:!0,confirmButtonLabel:this.__getAltPayCancelledDialogButtonLabel(),description:z,logger:this.$1,onConfirmClick:this.$31,title:C}))}}if(!c||this.state.hasInitializationError){y=this.__getLoadingView();f=b("React").createElement(y,{showLockSpinner:!0});A=b("FBPaymentsUniversalErrorUtils").getErrorDescription(this.state.updateCheckoutLoadError);C=this.state.hasInitializationError?b("gkx")("676858")?(z=A)!=null?z:b("FBPaymentsCheckoutStrings").getCheckoutInitializationErrorMessage():String(g._(function(a,b){return a._("En este momento no se puede completar esta acci\u00f3n debido a un error temporal del sistema. Vuelve m\u00e1s tarde e int\u00e9ntalo de nuevo.")},{})):void 0;f=b("React").createElement(y,{loadingText:C,logger:this.$1,loggerExtraData:{item_loading:c?null:"contentConfiguration"},showError:this.state.hasInitializationError,showLockSpinner:!0})}else{A=this.state.finalPriceList;z=c.payActionContent;y=c.entity;if(y){C=this.__getEntityHeaderContainer();j=b("React").createElement(C,{entity:y})}if(!!c.newPriceTable||this.isPriceListValid(A)){C=this.__getPriceTableComponent();y=!v&&!!((y=this.props)!=null?(y=y.checkoutExtraProps)!=null?y.showTaxDisclaimer:y:y)&&((y=this.state.paymentMethodData)!=null?y.selectedBillingCountry:y)===b("FBPaymentsCountryCodes").US;k=b("React").createElement(C,{hidePriceTable:!!((C=this.props)!=null?(C=C.checkoutExtraProps)!=null?C.hidePriceTable:C:C),hideTotal:!!((C=this.props)!=null?(C=C.checkoutExtraProps)!=null?C.hidePriceTableTotal:C:C),isCalculating:this.state.isUpdatingCheckout,isCollapsed:!!((C=this.props)!=null?(C=C.checkoutExtraProps)!=null?C.isPriceTableCollapsedInitially:C:C),newPriceTable:c.newPriceTable,logger:this.$1,priceList:A,showTaxDisclaimer:y,showTotalOnly:(C=this.props.checkoutExtraProps)==null?void 0:C.showTotalOnly,customTotalLabel:(y=this.props.checkoutExtraProps)==null?void 0:y.customTotalLabel})}C=this.state.buttonPrice;var H;if(c.newPriceTable)H=c.newPriceTable.totalPrice.displayPrice,C=c.newPriceTable.totalPrice.price,v&&(C=b("FBPaymentsFreeTrialExtensionUtil").getFreeTrialPrice(C.currency));else if(this.isPriceListValid(A)){y=b("FBPaymentsPriceListHelper").calculateTotal(A);A=y.currency;A&&(C=v?b("FBPaymentsFreeTrialExtensionUtil").getFreeTrialPrice(A):{amount:y.amount.toString(),currency:A})}y=this.getPaymentInfo().extraData;var I;A=((A=this.state)!=null?(A=A.frequencySelectorData)!=null?A.subscriptionType:A:A)||(y==null?void 0:y.subscriptionType);A&&(I={type:A,price:C});((y=this.props)==null?void 0:(A=y.checkoutExtraProps)==null?void 0:A.hidePayButtonPrice)&&(C=null);y=this.__getPayActionRowContainer();A=this.getPayActionTitle(z,this.state.paymentMethodData);l=b("React").createElement(y,{actionTitle:A,backButton:this.props.backButton||z.backButton,checkoutStep:this.state.step,configuration:z,isLoading:this.state.step===q.PAYMENT_PROCESSING,logger:this.$1,onBackButtonClick:function(){a.__handleBackButtonClick(!1)},onPayButtonClick:this.$37,payButtonEnabled:this.state.step===q.READY_TO_PAY&&!this.state.isUpdatingCheckout&&this.areAllExtensionsReady(),price:C,displayPrice:H,renderInline:t,subscriptionTermsDetails:I,termsAndPolicies:this.state.termsAndPolicies});p=this.state.activeExtension!==null;r=this.state.activeExtensionForVerification!==null;s=this.state.activeExtensionForVerification===m.PIN_VERIFICATION;y=c.purchaseInfo;for(var A=0;A<y.length;A++){z=y[A];C=this.getExtensionName(z);c=this.state.activeExtension===C;var J=this.state.activeExtensionForVerification===C,K=s&&w?!1:p&&!c||r&&!J||this.state.showUpfrontAddressCollection&&C!==m.SHIPPING_ADDRESS;n.push(b("React").createElement("div",{style:{display:K?"none":""},key:C},this.$62(z,c,J)))}if(this.state.step===q.NUX){K=this.__getNUXContainer();d=b("React").createElement(K,{onBackButtonClick:function(){a.__handleBackButtonClick(!1)},onContinueButtonClick:this.$29,logger:this.$1})}else if(this.state.step===q.PSD_AGREEMENT_NUX){C=this.__getPSDAgreementNUXContainer();d=b("React").createElement(C,{logger:this.$1,onAccepted:this.$29,onBackButtonClick:function(){a.__handleBackButtonClick(!1)},paymentType:this.getPaymentType(),psdAgreementID:this.props.psdAgreementID})}else if(this.state.step===q.PIN){z=this.__getPINFlowContainer();e=b("React").createElement(z,{flowStep:i.CREATE_PIN,onCancel:this.$61,onSuccess:this.$36,title:this.props.dialogTitle})}c=this.state.step===q.INITIALIZING||!this.isCheckoutInitialized()||this.state.step===q.PAYMENT_PROCESSING_EXTENDED;if(c){J=this.__getLoadingView();f=b("React").createElement(J,{loadingText:this.state.paymentProcessingMessage,logger:this.$1,loggerExtraData:{item_loading:"checkout"},showLockSpinner:!0})}if(this.state.step===q.CONFIRMATION){A=this.__getConfirmationContainer();o=b("React").createElement(A,{configuration:this.getConfirmationConfiguration(),onConfirmationDoneClick:this.$30.bind(this,!0),onExtensionsUpdate:this.$32,paymentInfo:this.getPaymentInfo()})}}y=this.__getCheckoutFlowView();K=v?b("FBPaymentsFreeTrialExtensionUtil").getFreeTrialCheckoutDialogTitle(this.state.freeTrialData,this.getPaymentType()):this.props.dialogTitle;return b("React").createElement(b("FBPaymentsCheckoutContext").Provider,{value:this.$63()},b("React").createElement(y,{banner:this.state.banner,checkoutErrors:this.state.errors,checkoutHeader:this.props.checkoutHeader,confirmationContainer:o,contactSupportContainer:D,countdownTimerEndTime:this.__countdownTimerEndTime,dialogTitle:K,dialogWidth:this.state.dialogWidth||void 0,disableClose:this.state.step===q.PAYMENT_PROCESSING||this.state.step===q.PAYMENT_PROCESSING_EXTENDED,entityHeaderContainer:j,exitCheckoutConfirmDialog:E,donationLargeAmountConfirmDialog:F,altPayCancelledDialog:G,extensionContainers:n,hideCheckoutHeader:this.props.hideCheckoutHeader,isCheckoutDialogShown:this.state.isCheckoutDialogShown,isCometView:this.props.isCometView,isExtensionActive:p,isExtensionActiveForVerification:r,isPINActiveAndExtensionsDisplay:s&&w,isProcessing:this.state.step===q.PAYMENT_PROCESSING,loadingView:f,nuxContainer:d,onBackButtonClick:function(){a.__handleBackButtonClick(!1)},onDialogClose:this.__handleDialogClose,payActionRowContainer:l,priceTable:k,showUpfrontAddressCollection:this.state.showUpfrontAddressCollection,renderInline:t,renderInlineWithPadding:u,userFacingErrorNotice:B,verificationFlowContainer:x,pinFlowContainer:e}))};d.__scrollToTop=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__scrollToTop")};d.__shouldUseBackButtonOnConfirmedExit=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__shouldUseBackButtonOnConfirmedExit")};d.__connectAltPay=function(a){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__connectAltPay")};d.__connectPayPal=function(a){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__connectPayPal")};d.__getExtensionManager=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getExtensionManager")};d.__getCheckoutFlowView=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getCheckoutFlowView")};d.__getNUXContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getNUXContainer")};d.__getPSDAgreementNUXContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getPSDAgreementNUXContainer")};d.__getLoadingView=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getLoadingView")};d.__getConfirmationContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getConfirmationContainer")};d.__getEntityHeaderContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getEntityHeaderContainer")};d.__getPayActionRowContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getPayActionRowContainer")};d.__getPINFlowContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getPINFlowContainer")};d.__getVerificationFlowContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getVerificationFlowContainer")};d.__getUserFacingErrorNotice=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getUserFacingErrorNotice")};d.__getContactSupportContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getContactSupportContainer")};d.__isExitCheckoutConfirmDialogEnabled=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__isExitCheckoutConfirmDialogEnabled")};d.__isExtensionDisplayWhenValidatePIN=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__isExtensionDisplayWhenValidatePIN")};d.__getCheckoutAlertDialog=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getCheckoutAlertDialog")};d.__getExitCheckoutConfirmDialog=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getExitCheckoutConfirmDialog")};d.__getExitCheckoutConfirmDialogCancelButtonLabel=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getExitCheckoutConfirmDialogCancelButtonLabel")};d.__getExitCheckoutConfirmDialogConfirmButtonLabel=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getExitCheckoutConfirmDialogConfirmButtonLabel")};d.__getDonationLargeAmountConfirmDialog=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getDonationLargeAmountConfirmDialog")};d.__getAltPayCancelledDialogButtonLabel=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getAltPayCancelledDialogButtonLabel")};d.__getPriceTableComponent=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getPriceTableComponent")};d.__getAPI=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getAPI")};d.__getLogger=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getLogger")};d.__startChannelManager=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__startChannelManager")};return c}(b("React").Component);f.propTypes={checkoutExtraProps:d.object,configuration:a.isRequired,dialogTitle:d.node,enableCheckoutNUX:d.bool,extraDataForLogging:d.object,hideCheckoutHeader:d.bool,onCheckoutClosed:d.func,onCheckoutSuccessCallback:d.func,onConfirmationClosed:d.func,paymentModuleFlowType:d.oneOf(Object.values(b("FBPaymentsModulesFlowType"))).isRequired};f.defaultProps={paymentModuleFlowType:b("FBPaymentsModulesFlowType").CHECKOUT};e.exports=f}),null);
__d("FBPaymentsBanner.react",["cx","FDSText.react","FlexLayout.react","Image.react","React","TextWithEntities.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=72;function a(a){a=a.banner;if(!a)return null;var c=a.description_with_entity,d=a.image_url;a=a.title;return b("React").createElement("div",{className:"_8blz"},b("React").createElement(b("FlexLayout.react"),{justify:"all",align:"center"},b("React").createElement(b("FlexLayout.react"),{align:"center"},b("React").createElement(b("FlexLayout.react"),null,b("React").createElement(b("Image.react"),{src:d,width:h,height:h,className:"_3-91"})),b("React").createElement(b("FlexLayout.react"),{direction:"vertical"},b("React").createElement(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold"},a),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body2"},b("React").createElement(b("TextWithEntities.react"),c))))))}e.exports=a}),null);
__d("FBPaymentsCheckoutV2FlowViewBase.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=440;c=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.__isNUX=function(){return!!this.props.nuxContainer};c.__isExtensionActive=function(){return this.props.isExtensionActive};c.__isLoading=function(){return!!this.props.loadingView};c.__isConfirmation=function(){return!!this.props.confirmationContainer};c.__shouldHideExtensionBecauseExtensionActiveForVerification=function(){return this.props.isExtensionActiveForVerification&&!this.props.isPINActiveAndExtensionsDisplay};c.__shouldShowNUX=function(){return this.__isNUX()};c.__shouldShowCountdownTimer=function(){return!!this.props.countdownTimerEndTime&&!this.__isLoading()&&!this.__isConfirmation()};c.__shouldShowHeader=function(){return!this.props.hideCheckoutHeader&&!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isLoading()&&!this.__isConfirmation()&&!this.__shouldHideExtensionBecauseExtensionActiveForVerification()&&!this.__shouldShowContactSupportScreen()&&!this.__shouldShowPINFlow()};c.__shouldShowLoading=function(){return this.__isLoading()};c.__shouldShowContactSupportScreen=function(){return!!this.props.contactSupportContainer};c.__shouldShowVerificationFlow=function(){return!!this.props.verificationFlowContainer};c.__shouldShowPINFlow=function(){return!!this.props.pinFlowContainer};c.__shouldDisableForProcessing=function(){return this.props.isProcessing};c.__shouldShowConfirmation=function(){return this.__isConfirmation()};c.__shouldShowEntityHeader=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isLoading()&&!this.__isConfirmation()&&!this.__shouldHideExtensionBecauseExtensionActiveForVerification()&&!this.__shouldShowContactSupportScreen()};c.__shouldShowPriceTable=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isLoading()&&!this.__isConfirmation()&&!this.__shouldHideExtensionBecauseExtensionActiveForVerification()&&!this.__shouldShowUpfrontAddressCollection()&&!!this.props.priceTable&&!this.__shouldShowContactSupportScreen()};c.__shouldShowExtensions=function(){return!this.__isNUX()&&!this.__isLoading()&&!this.__isConfirmation()&&!this.__shouldShowContactSupportScreen()};c.__shouldShowPayActionRow=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isLoading()&&!this.__isConfirmation()&&!this.__shouldHideExtensionBecauseExtensionActiveForVerification()&&!this.__shouldShowUpfrontAddressCollection()&&!this.__shouldShowContactSupportScreen()};c.__shouldShowUpfrontAddressCollection=function(){return this.props.showUpfrontAddressCollection};c.__maybeShowCheckoutError=function(){return!!this.props.checkoutErrors&&!this.__shouldShowContactSupportScreen()&&!this.__isExtensionActive()};c.__shouldShowDialogTitle=function(){return!this.__shouldShowContactSupportScreen()};c.getBackButtonText=function(){return g._("Atr\u00e1s")};c.getCancelButtonText=function(){return g._("Cancelar")};c.getCheckoutHeaderTitle=function(){return this.props.dialogTitle||g._("Pagar")};return b}(b("React").Component);c.defaultProps={dialogWidth:a};e.exports=c}),null);
__d("FBPaymentsCountdownTimerBadge.react",["cx","FBPaymentsCountdownTimer.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props,d=c.className;c=babelHelpers.objectWithoutPropertiesLoose(c,["className"]);return(a=b("React")).createElement("span",{className:d},a.createElement(b("FDSText.react"),{size:"meta1"},a.createElement("span",{className:"_6xqk"},a.createElement(b("FBPaymentsCountdownTimer.react"),c))))};return c}(b("React").Component);e.exports=a}),null);
__d("FBPaymentsCheckoutV2FlowView.react",["cx","DialogExpansion","FBPaymentsBanner.react","FBPaymentsCheckoutV2FlowViewBase.react","FBPaymentsCountdownTimerBadge.react","FBPaymentsLoadingView.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUINotice.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$FBPaymentsCheckoutV2FlowView1=function(){c.props.onDialogClose()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.__getFlowVersionStyleClass=function(){return"_3kok"};d.renderCheckoutError=function(){var a=this.props.checkoutErrors,c;a&&(a.global?c=b("React").createElement("div",{className:"_3-98"},b("React").createElement(b("XUINotice.react"),{className:"_q-q","data-testid":"payment_checkout_error",use:"warn"},a.global,a.additional)):this.props.userFacingErrorNotice&&(c=b("React").createElement("div",{className:"_3-98"},this.props.userFacingErrorNotice)));return c};d.render=function(){__p&&__p();var a;if(this.__shouldShowVerificationFlow())a=this.props.verificationFlowContainer;else{var c=null;this.__shouldShowHeader()&&!!this.props.checkoutHeader&&(c=this.props.checkoutHeader);var d=b("React").createElement("div",null,b("React").createElement("div",{className:this.__maybeShowCheckoutError()?"":"hidden_elem"},this.renderCheckoutError()),b("React").createElement("div",{className:this.__shouldShowContactSupportScreen()?"":"hidden_elem"},this.props.contactSupportContainer),b("React").createElement("div",{className:this.__shouldShowNUX()?"":"hidden_elem"},this.props.nuxContainer),b("React").createElement("div",{className:this.__shouldShowLoading()?"":"hidden_elem"},this.props.loadingView),b("React").createElement("div",{className:this.__shouldShowConfirmation()?"":"hidden_elem"},this.props.confirmationContainer),b("React").createElement("div",{className:"_1jnq"},b("React").createElement(b("FBPaymentsLoadingView.react"),{loadingIndicatorVisible:!1,overlay:!0,visible:this.__shouldDisableForProcessing()}),b("React").createElement(b("FBPaymentsBanner.react"),{banner:this.props.banner}),b("React").createElement("div",{className:(this.__shouldShowEntityHeader()?"":"hidden_elem")+" _2pit"},this.props.entityHeaderContainer),b("React").createElement("div",{className:(this.__shouldShowPriceTable()?"":"hidden_elem")+" _2ph_"},this.props.priceTable),b("React").createElement("div",{className:(this.__shouldShowExtensions()?"":"hidden_elem")+(!this.props.renderInline&&!this.__isExtensionActive()&&!this.__shouldHideExtensionBecauseExtensionActiveForVerification()?" _1j8c":"")},this.props.extensionContainers)),b("React").createElement("div",{className:this.__shouldShowPayActionRow()?"":"hidden_elem"},this.props.payActionRowContainer));if(this.props.renderInline)return b("React").createElement("div",{className:(this.props.renderInlineWithPadding?"_2ph_":"")+" _3kok"},c,d,this.props.altPayCancelledDialog);c=this.props.countdownTimerEndTime;c=this.__shouldShowCountdownTimer()&&c?b("React").createElement(b("FBPaymentsCountdownTimerBadge.react"),{className:"_3-91",endTime:c}):null;c=this.__shouldShowDialogTitle()?b("React").createElement(b("XUIDialogTitle.react"),{className:"_qu3",showCloseButton:!this.props.disableClose},this.getCheckoutHeaderTitle(),c):null;a=b("React").createElement("div",null,c,b("React").createElement(b("XUIDialogBody.react"),null,d))}return this.props.isCometView?b("React").createElement("div",{className:this.__getFlowVersionStyleClass()},a):b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIDialog.react"),{label:"CheckoutDialog",behaviors:{DialogExpansion:b("DialogExpansion")},className:this.__getFlowVersionStyleClass(),"data-testid":"payment_checkout_root",isStrictlyControlled:!0,layerHideOnBlur:!1,onHide:this.$FBPaymentsCheckoutV2FlowView1,shown:this.props.isCheckoutDialogShown,width:this.props.dialogWidth},a),this.props.exitCheckoutConfirmDialog,this.props.donationLargeAmountConfirmDialog,this.props.altPayCancelledDialog)};d.__shouldShowOrderSummary=function(){return!this.__isNUX()&&!this.__isLoading()&&!this.__isConfirmation()&&!this.__shouldHideExtensionBecauseExtensionActiveForVerification()};return c}(b("FBPaymentsCheckoutV2FlowViewBase.react"));e.exports=a}),null);
__d("FBPaymentsCheckoutV2StoreState",["FBPaymentsCheckoutStep","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=(a=b("immutable")).List;c=a.Map;d=a.OrderedMap;f=a.OrderedSet;var i=a.Set,j=h([(g=b("FBPaymentsCheckoutStep")).INITIALIZING,g.NUX,g.PSD_AGREEMENT_NUX,g.ADDRESS_COLLECT]);g={activeExtension:null,activeExtensionForVerification:null,autoPayOnReady:!1,buttonPrice:null,cachedRequestData:null,checkoutErrors:{},checkoutRestoreData:{},checkoutStep:g.INITIALIZING,cmpi3DSResult:null,contactInfoData:null,contentConfiguration:null,disableUpfrontAddressCollect:!1,extensionDataMap:c(),extensionDataPreparerMap:c(),extensionFlagsMap:d(),extensionsToTriggerUpdateCheckout:i(),extensionsToVerify:f(),extensionUserFacingErrorMap:c(),freeTrialData:null,frequencySelectorData:null,isAddressNUX:!1,isCheckoutDialogShown:!0,isUpdatingCheckout:!1,isSecondaryPaymentMethodChecked:!1,linearCheckoutSteps:j,nationalitySelectorData:null,onGoingAPICalls:i(),paymentMethodData:null,paymentProcessingMessage:"",paymentSessionID:null,priceSelectorData:null,receiverInfo:null,showContactSupportFlow:!1,showExitCheckoutConfirmDialog:!1,showDonationLargeAmountConfirmDialog:!1,showHardErrorOnExtensions:{showError:!1,extensionsNotReady:h()},showVerificationFlow:!1,termsAndPolicies:null,termsAndPoliciesError:!1,updateCheckoutLoadError:null,altPayCancelledError:null,optInData:null,isPINCreationNeeded:!0,banner:null};var k={hasInitializationError:!1,isInitialized:!1,isReady:!1,needsVerification:!1};d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.mergeCheckoutRestoreData=function(a){var b=this.checkoutRestoreData;b=babelHelpers["extends"]({},b,a);return this.set("checkoutRestoreData",b)};d.$FBPaymentsCheckoutV2StoreState1=function(){return this.isCheckoutInitialized(this.contentConfiguration)};d.isCheckoutInitialized=function(a){__p&&__p();if(!a)return!1;if(!this.termsAndPolicies)return!1;for(var a=this.extensionFlagsMap.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!d.isInitialized)return!1}return!0};d.areAllExtensionsReady=function(){return this.$FBPaymentsCheckoutV2StoreState2(this.extensionFlagsMap)};d.$FBPaymentsCheckoutV2StoreState2=function(a){__p&&__p();for(var a=a.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!d.isReady)return!1}return!0};d.updateLinearSteps=function(a,c,d){var e=this.linearCheckoutSteps;e=e.filter(function(e){switch(e){case b("FBPaymentsCheckoutStep").NUX:return a;case b("FBPaymentsCheckoutStep").PSD_AGREEMENT_NUX:return c;case b("FBPaymentsCheckoutStep").ADDRESS_COLLECT:return!d}return!0});return this.set("linearCheckoutSteps",e)};d.updateAddressNUXAndLinearSteps=function(a){if(a)return this.set("isAddressNUX",!0);else{a=this.linearCheckoutSteps;var c=a.indexOf(b("FBPaymentsCheckoutStep").ADDRESS_COLLECT);c>=0&&(a=a["delete"](c));return this.set("isAddressNUX",!1).set("linearCheckoutSteps",a)}};d.updateToNextLinearStep=function(){var a=this.linearCheckoutSteps,c=a.first();a=a.shift();if(!c)return this.updateStepBasedOnReadiness(this.extensionFlagsMap);else if(c===b("FBPaymentsCheckoutStep").ADDRESS_COLLECT&&!this.isAddressNUX)return this.updateStepBasedOnReadiness(this.extensionFlagsMap);return this.set("checkoutStep",c).set("linearCheckoutSteps",a)};d.updateStepBasedOnReadiness=function(a){a=this.$FBPaymentsCheckoutV2StoreState2(a)?b("FBPaymentsCheckoutStep").READY_TO_PAY:b("FBPaymentsCheckoutStep").INCOMPLETE;return this.autoPayOnReady&&a===b("FBPaymentsCheckoutStep").READY_TO_PAY?this.set("checkoutStep",b("FBPaymentsCheckoutStep").PAYMENT_PROCESSING).set("autoPayOnReady",!1):this.set("checkoutStep",a)};d.$FBPaymentsCheckoutV2StoreState3=function(a){var c=this.checkoutStep;if(c===b("FBPaymentsCheckoutStep").READY_TO_PAY||c===b("FBPaymentsCheckoutStep").INCOMPLETE)return this.updateStepBasedOnReadiness(a);else if(c===b("FBPaymentsCheckoutStep").INITIALIZING)return this.$FBPaymentsCheckoutV2StoreState1()?this.updateToNextLinearStep():this;else return this};d.$FBPaymentsCheckoutV2StoreState4=function(a,c){var d=this.extensionsToVerify,e=this.activeExtensionForVerification,f=this.checkoutStep;if(this.checkoutStep===b("FBPaymentsCheckoutStep").VERIFICATION)if(!c.needsVerification)d=d["delete"](a),d.isEmpty()?(e=null,f=b("FBPaymentsCheckoutStep").PAYMENT_PROCESSING):e=d.first();else if(!e)return this.set("checkoutStep",b("FBPaymentsCheckoutStep").READY_TO_PAY);return this.set("extensionsToVerify",d).set("activeExtensionForVerification",e).set("checkoutStep",f)};d.updateExtension=function(a,b,c,d){if(!this.isExtensionInUse(a))return this;var e=this.extensionFlagsMap.set(a,c);b=this.extensionDataMap.set(a,b);d=this.extensionUserFacingErrorMap.set(a,d);var f=this.showHardErrorOnExtensions;f.extensionsNotReady.contains(a)&&(f={showError:!1,extensionsNotReady:h()});return this.set("extensionFlagsMap",e).set("extensionDataMap",b).set("showHardErrorOnExtensions",f).set("extensionUserFacingErrorMap",d).$FBPaymentsCheckoutV2StoreState3(e).$FBPaymentsCheckoutV2StoreState4(a,c)};d.getExtensionName=function(a){return a.identifier==="CUSTOM_EXTENSION"?a.extensionKey:a.identifier};d.updateForNewContentConfiguration=function(a){var b=this,c=this.extensionFlagsMap,d=a.purchaseInfo;d.forEach(function(a){a=b.getExtensionName(a);c.has(a)||(c=c.set(a,k))});return this.set("contentConfiguration",a).set("extensionFlagsMap",c)};d.updateTermsAndPolicies=function(a){return this.set("termsAndPolicies",a).$FBPaymentsCheckoutV2StoreState3(this.extensionFlagsMap)};d.isExtensionInUse=function(a){return this.extensionFlagsMap.has(a)};d.setOrUnsetActiveExtension=function(a,b){if(b&&this.activeExtension===null)return this.set("activeExtension",a);else if(!b&&this.activeExtension===a)return this.set("activeExtension",null);return this};d.setOrUnsetActiveExtensionForVerification=function(a,b){if(b&&this.activeExtensionForVerification===null)return this.set("activeExtensionForVerification",a);else if(!b&&this.activeExtensionForVerification===a)return this.set("activeExtensionForVerification",null);return this};d.clearCheckoutErrors=function(){return this.set("checkoutErrors",{})};d.setCheckoutErrors=function(a){return this.set("checkoutErrors",a)};d.setCachedRequestData=function(a){return this.set("cachedRequestData",a)};d.enterVerificationFlow=function(a){a={global:a};return this.set("showVerificationFlow",!0).setCheckoutErrors(a)};d.exitIncompleteVerificationFlow=function(){return this.set("showVerificationFlow",!1).set("checkoutStep",b("FBPaymentsCheckoutStep").READY_TO_PAY)};d.exitPassedVerificationFlow=function(){return this.set("showVerificationFlow",!1).clearCheckoutErrors()};d.contactSupportClick=function(){return this.set("showContactSupportFlow",!0)};d.exitIncompleteContactSupport=function(){return this.set("showContactSupportFlow",!1)};d.exitCompletedContactSupport=function(){return this.set("showContactSupportFlow",!1).$FBPaymentsCheckoutV2StoreState3(this.extensionFlagsMap)};d.getIsAnyAPICallsOngoing=function(){return this.onGoingAPICalls.size!==0};return c}(a.Record(g));e.exports=d}),null);
__d("FBPaymentsCouponCodeActions",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("FBPaymentsCheckoutConstants").Extensions;var g={EXTENSION_NAME:a.COUPON_CODE,types:b("keyMirror")({COUPON_CODE_ENTERED:null,COUPON_CODE_REMOVED:null,DISMISS_FORM:null,DISPLAY_FORM:null,SAVE_COUPON_CODE:null}),displayForm:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.DISPLAY_FORM})},dismissForm:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.DISMISS_FORM})},couponCodeEntered:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.COUPON_CODE_ENTERED,data:a})},saveCouponCode:function(){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.SAVE_COUPON_CODE,updateData:{}})},couponCodeRemoved:function(){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.COUPON_CODE_REMOVED,updateData:{}})}};e.exports=g}),null);
__d("FBPaymentsCouponCodeExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={couponCode:null,couponCodeExtensionConfig:null,isApplied:!1,isCouponValid:!1,isFormFieldDisplayed:!1,isInitialized:!1,isLoading:!1,message:null,placeholderText:null,updateCheckoutTrigger:!1};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.toggleUpdateCheckoutTrigger=function(){return this.set("updateCheckoutTrigger",!this.updateCheckoutTrigger)};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsCouponCodeExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCouponCodeActions","FBPaymentsCouponCodeExtensionState","FBPaymentsDispatcher","FluxReduceStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCheckoutConstants").Extensions,h=b("FBPaymentsCouponCodeActions").types;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsCouponCodeExtensionState"))()};d.getExtensionName=function(){return g.COUPON_CODE};d.reduce=function(a,c){__p&&__p();var d=c.data;switch(c.type){case h.DISPLAY_FORM:return a.set("isFormFieldDisplayed",!0);case h.DISMISS_FORM:return a.set("couponCode",null).set("isCouponValid",!1).set("isApplied",!1).set("isFormFieldDisplayed",!1).set("message",null);case h.COUPON_CODE_ENTERED:return a.set("couponCode",d.couponCode).set("isCouponValid",!1).set("isApplied",!1).set("message",null);case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsCouponCodeExtensionStore1(a,d):a;case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:case b("FBPaymentsCheckoutActions").types.UPDATE_CONTENT_CONFIGURATION:case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);a=a.set("isLoading",!1);c=b("FBPaymentsCheckoutConfigurationStore").getCouponCodeExtensionConfig();a=a.set("isInitialized",!!c);a=a.set("couponCodeExtensionConfig",c);d=!!(c==null?void 0:c.couponValid);var e=c==null?void 0:c.message;a=a.set("isCouponValid",d);!d&&a.couponCode!=null&&(a=a.set("isFormFieldDisplayed",!0));a.couponCode||(a=a.set("couponCode",c==null?void 0:c.prefilledContent));a=a.set("message",e).set("placeholderText",c==null?void 0:c.placeholderText).set("isApplied",a.couponCode!=null);return a;default:return a}};d.$FBPaymentsCouponCodeExtensionStore1=function(a,b){switch(b.extensionActionType){case h.COUPON_CODE_REMOVED:return a.set("isFormFieldDisplayed",!1).set("couponCode",null).set("isApplied",!1).set("isLoading",!0);case h.SAVE_COUPON_CODE:return a.toggleUpdateCheckoutTrigger().set("isFormFieldDisplayed",!1).set("isLoading",!0)}return a};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return!1};d.isReady=function(){return!0};d.getData=function(){var a=this.getState();return{couponCode:a.couponCode,updateCheckoutTrigger:a.updateCheckoutTrigger}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){return{}};d.needsPrePaymentVerification=function(){return!1};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsCheckoutExtensionStore",["FBPaymentsLinkHelper","FluxReduceStore","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.maybeRestoreFromCurrentURI=function(a){var c=b("FBPaymentsLinkHelper").getCurrentURI();c=c.getQueryData();return this.maybeRestoreFromQueryData(a,c)};d.maybeRestoreFromQueryData=function(a,c){return b("abstractMethod")("FBPaymentsCheckoutExtensionStore","maybeRestoreFromQueryData")};d.getCurrentURIQueryData=function(){var a=b("FBPaymentsLinkHelper").getCurrentURI();return a.getQueryData()};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("FBPaymentsCustomOptionsExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={customOptionFormData:null,isCustomOptionFormValid:!1,selectedOption:null,showForm:!1,isInitialized:!1,extraData:{}};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.setCollectedDataKey=function(a){a=babelHelpers["extends"]({},this.extraData,{collectedDataKey:a});return this.set("extraData",a)};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsCustomOptionsExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsCustomOptionsActions","FBPaymentsCustomOptionsExtensionState","FBPaymentsCustomOptionsExtensionUtil","FBPaymentsDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCustomOptionsActions").types,h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsCheckoutConstants").RestoreKey;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsCustomOptionsExtensionState"))()};d.getExtensionName=function(){return h.CUSTOM_OPTIONS};d.reduce=function(a,c){__p&&__p();var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsCustomOptionsExtensionStore1(a,d):a;case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:case b("FBPaymentsCheckoutActions").types.UPDATE_CONTENT_CONFIGURATION:case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);c=b("FBPaymentsCheckoutConfigurationStore").getCustomOptionsExtensionConfig();var e=a.selectedOption,f=!1;e||(a=this.maybeRestoreFromCurrentURI(a),e=a.selectedOption);a=a.set("isInitialized",!!c);c&&(a=a.setCollectedDataKey(c.collectedDataKey),c.options.some(function(a){if(e&&a.optionId===e.optionId){f=b("FBPaymentsCustomOptionsExtensionUtil").isSameOption(a,e);return!0}return!1}),f||(e=b("FBPaymentsCustomOptionsExtensionUtil").getPreSelectedOptionFromExtensionConfig(c),a=a.set("selectedOption",e)));return a;case b("FBPaymentsCustomOptionsActions").types.ADD_CUSTOM_OPTION_CLICK:return a.set("showForm",!0);case b("FBPaymentsCustomOptionsActions").types.NEW_CUSTOM_OPTION_FORM_DATA_CHANGE:return a.set("customOptionFormData",d.customOptionFormData).set("isCustomOptionFormValid",d.isCustomOptionFormValid);default:return a}};d.$FBPaymentsCustomOptionsExtensionStore1=function(a,c){__p&&__p();var d=c.updateData;switch(c.extensionActionType){case g.CUSTOM_OPTION_SELECTED:c=b("FBPaymentsCheckoutConfigurationStore").getCustomOptionsExtensionConfig();c=((c=c)!=null?c.options:c)||[];var e=d.selectedOptionID;c=c.find(function(a){return a.optionId===e});return a.set("selectedOption",c);case g.SAVE_NEW_CUSTOM_OPTION:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);return a.set("customOptionFormData",null).set("isCustomOptionFormValid",!1).set("selectedOption",d.newOption).set("showForm",!1)}return a};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return!1};d.isReady=function(){return!!this.getState().selectedOption};d.getData=function(){var a=this.getState(),b=a.selectedOption;return{selectedOption:b,optionPriceList:(b=b)!=null?b.optionPriceList:b,extraData:a.extraData}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){var a,b=this.getState();return a={},a[i.CUSTOM_OPTIONS_SELECTED_OPTION]=JSON.stringify(b.selectedOption),a};d.maybeRestoreFromQueryData=function(a,b){b=b[i.CUSTOM_OPTIONS_SELECTED_OPTION];return b?a.set("selectedOption",JSON.parse(b)):a};d.needsPrePaymentVerification=function(){return!1};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsFreeTrialExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={freeTrialExtensionConfig:{},isInitialized:!0,showHardError:!1};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsFreeTrialExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsDispatcher","FBPaymentsFreeTrialExtensionState","isEmpty"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("FBPaymentsCheckoutConstants").Extensions;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsFreeTrialExtensionState"))()};d.getExtensionName=function(){return h.FREE_TRIAL};d.reduce=function(a,c){switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:case b("FBPaymentsCheckoutActions").types.UPDATE_CONTENT_CONFIGURATION:case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);c=b("FBPaymentsCheckoutConfigurationStore").getFreeTrialExtensionConfig();a=a.set("isInitialized",!!c);a=a.set("freeTrialExtensionConfig",c);return a;default:return a}};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return!1};d.isReady=function(){return!(g||(g=b("isEmpty")))(this.getState().freeTrialExtensionConfig)};d.getData=function(){var a=this.getState().freeTrialExtensionConfig;return{formattedDescription:a.formattedDescription,nextBillTime:a.nextBillTime,subscriptionFrequency:a.subscriptionFrequency,subscriptionPrice:a.subscriptionPrice,trialFrequency:a.trialFrequency,trialPeriod:a.trialPeriod,trialType:a.trialType}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){return{}};d.needsPrePaymentVerification=function(){return!1};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsFrequencySelectorActions",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("FBPaymentsCheckoutConstants").Extensions;var g={EXTENSION_NAME:a.FREQUENCY_SELECTOR,types:b("keyMirror")({FREQUENCY_SELECTOR_OPTION_CLICK:null,FREQUENCY_SELECTOR_LOADED:null}),frequencySelectorOptionClick:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.FREQUENCY_SELECTOR_OPTION_CLICK,updateData:a})},frequencySelectorLoaded:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.FREQUENCY_SELECTOR_LOADED,updateData:{frequencySelectorOptionsData:a}})}};e.exports=g}),null);
__d("FBPaymentsFrequencySelectorExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={fetchError:!1,frequencyOptions:null,isInitialized:!1,selectedIndex:0,selectedOption:{},showDAFDisclaimer:!1,showHardError:!1};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.setFetchError=function(){return this.set("isInitialized",!1).set("fetchError",!0)};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsFrequencySelectorExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsDispatcher","FBPaymentsFrequencySelectorActions","FBPaymentsFrequencySelectorExtensionState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsFrequencySelectorActions").types,h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsCheckoutConstants").RestoreKey;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsFrequencySelectorExtensionState"))()};d.getExtensionName=function(){return h.FREQUENCY_SELECTOR};d.reduce=function(a,c){__p&&__p();var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsFrequencySelectorExtensionStore1(a,d):a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);c=b("FBPaymentsCheckoutConfigurationStore").getFrequencySelectorExtensionConfig();d=c==null?void 0:c.frequencyOptions;if(d!=null){var e=this.maybeRestoreFromCurrentURI(a).selectedOption.type,f=d.findIndex(function(a){return String(a.type)===e});f=f===-1?0:f;c=c==null?void 0:c.showDAFDisclaimer;return a.set("selectedIndex",f).set("selectedOption",d[f]).set("frequencyOptions",d).set("showDAFDisclaimer",!!c).set("isInitialized",!0)}else return a.setFetchError();default:return a}};d.$FBPaymentsFrequencySelectorExtensionStore1=function(a,b){__p&&__p();var c=b.updateData;switch(b.extensionActionType){case g.FREQUENCY_SELECTOR_OPTION_CLICK:return a.set("selectedIndex",c.index).set("selectedOption",c.selectedOption);case g.FREQUENCY_SELECTOR_LOADED:var d=this.maybeRestoreFromCurrentURI(a).selectedOption.type;b=c.frequencySelectorOptionsData;c=b.findIndex(function(a){return String(a.type)===d});c=c===-1?0:c;return a.set("selectedIndex",c).set("selectedOption",b[c]).set("frequencyOptions",b).set("isInitialized",!0)}return a};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return this.getState().fetchError};d.isReady=function(){return this.getState().selectedIndex!==-1?!0:!1};d.getData=function(){var a=this.getState().selectedOption;return{subscriptionPeriod:a.period,subscriptionType:a.type}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){var a,b=this.getState();return a={},a[i.FREQUENCY_SELECTOR_SELECTED_TYPE]=b.selectedOption.type,a};d.maybeRestoreFromQueryData=function(a,b){b=b[i.FREQUENCY_SELECTOR_SELECTED_TYPE];return a.set("selectedOption",{type:b})};d.needsPrePaymentVerification=function(){return!1};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsNationalitySelectorActions",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("FBPaymentsCheckoutConstants").Extensions;var g={EXTENSION_NAME:a.NATIONALITY_SELECTOR,types:b("keyMirror")({NATIONALITY_SELECTOR_LOADED:null}),nationalitySelectorLoaded:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.NATIONALITY_SELECTOR_LOADED,updateData:{nationalitySelectorOptionsData:a}})}};e.exports=g}),null);
__d("FBPaymentsNationalitySelectorExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={fetchError:!1,nationalityOptions:null,isInitialized:!1,selectedIndex:0,selectedOption:{},showNationalityDisclaimer:!1,showHardError:!1};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.setFetchError=function(){return this.set("isInitialized",!1).set("fetchError",!0)};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsNationalitySelectorExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsDispatcher","FBPaymentsNationalitySelectorActions","FBPaymentsNationalitySelectorExtensionState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsNationalitySelectorActions").types,h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsCheckoutConstants").RestoreKey;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsNationalitySelectorExtensionState"))()};d.getExtensionName=function(){return h.NATIONALITY_SELECTOR};d.reduce=function(a,c){__p&&__p();var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsNationalitySelectorExtensionStore1(a,d):a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);c=b("FBPaymentsCheckoutConfigurationStore").getNationalitySelectorExtensionConfig();d=c==null?void 0:c.nationalityOptions;if(d!=null){var e=this.maybeRestoreFromCurrentURI(a).selectedOption.isCitizen;c=d.findIndex(function(a){return String(a.isCitizen)===e});c=c===-1?0:c;return a.set("selectedIndex",c).set("selectedOption",d[c]).set("nationalityOptions",d).set("isInitialized",!0)}else return a.setFetchError();default:return a}};d.$FBPaymentsNationalitySelectorExtensionStore1=function(a,b){var c=b.updateData;switch(b.extensionActionType){case g.NATIONALITY_SELECTOR_LOADED:var d=this.maybeRestoreFromCurrentURI(a).selectedOption.isCitizen;b=c.nationalitySelectorOptionsData;c=b.findIndex(function(a){return a.isCitizen===d});c=c===-1?0:c;return a.set("selectedIndex",c).set("selectedOption",b[c]).set("nationalityOptions",b).set("isInitialized",!0)}return a};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return this.getState().fetchError};d.isReady=function(){return this.getState().selectedIndex!==-1?!0:!1};d.getData=function(){var a=this.getState().selectedOption;return{isCitizen:a.isCitizen}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){var a,b=this.getState();return a={},a[i.NATIONALITY_SELECTOR_SELECTED_TYPE]=b.selectedOption.isCitizen,a};d.maybeRestoreFromQueryData=function(a,b){b=b[i.NATIONALITY_SELECTOR_SELECTED_TYPE];return a.set("selectedOption",{type:b})};d.needsPrePaymentVerification=function(){return!1};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsPriceSelectorConfigStore",["FBPaymentsCheckoutActions","FBPaymentsDispatcher","FBPaymentsModulesAPIShared","FBPaymentsPriceSelectorActions","FluxLoadObjectStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW,b("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_ERROR,b("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_LOADED]};d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_LOADED:c=this.makeImmutableKey(d.requestData);return this.__handleOne(a,c,d.priceSelectorConfig);case b("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_ERROR:c=this.makeImmutableKey(d.requestData);return this.__handleOne(a,c,d.error);default:return a}};d.makeImmutableKey=function(a){return b("immutable").fromJS(a)};d.get=function(b){b=this.makeImmutableKey(b);return a.prototype.get.call(this,b)};d.__load=function(a){a=a.toJS();b("FBPaymentsModulesAPIShared").fetchPriceSelectorConfiguration(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsPriceSelectorExtensionState",["FBPaymentsCheckoutConstants","FBPaymentsStringHelper","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCheckoutConstants").RestoreKey;a={customAmount:"",customAmountInputErrorMessage:null,fetchError:!1,isInitialized:!1,priceSelectorConfiguration:null,selectedIndex:-1,showHardError:!1};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.setConfiguration=function(a){var c="";if(a){var d;d=(d=a.customAmount)==null?void 0:d.placeholderText;d&&!isNaN(d)&&b("gkx")("941422")&&(c=d)}return this.set("isInitialized",!0).set("priceSelectorConfiguration",a).set("selectedIndex",parseInt(a.defaultSelected,10)).set("customAmount",c)};d.setFetchError=function(){return this.set("isInitialized",!1).set("fetchError",!0)};d.maybeRestoreFromQueryData=function(a){var c=this,d=a[g.PRICE_SELECTOR_CUSTOM_AMOUNT],e=d&&b("FBPaymentsStringHelper").isNumber(d)&&parseInt(d,10)>0;e&&(c=c.set("customAmount",d));e=a[g.PRICE_SELECTOR_SELECTED_INDEX];d=parseInt(e,10);a=b("FBPaymentsStringHelper").isNumber(e)&&d>=-1;a&&(c=c.set("selectedIndex",d));return c};return c}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsPriceSelectorExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsDispatcher","FBPaymentsPriceSelectorActions","FBPaymentsPriceSelectorConfigStore","FBPaymentsPriceSelectorExtensionState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsPriceSelectorActions").types,h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsCheckoutConstants").RestoreKey;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsPriceSelectorExtensionState"))()};d.getExtensionName=function(){return h.PRICE_SELECTOR};d.reduce=function(a,c){__p&&__p();var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsPriceSelectorExtensionStore1(a,d):a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);c=b("FBPaymentsCheckoutConfigurationStore").getPriceSelectorExtensionConfig();c=c==null?void 0:c.priceSelectorConfigData;if(c!=null)return this.maybeRestoreFromCurrentURI(a.setConfiguration(c));else return a.setFetchError();case g.PRICE_SELECTOR_LOADED:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsPriceSelectorConfigStore").getDispatchToken()]);c=b("FBPaymentsPriceSelectorConfigStore").makeImmutableKey(d.requestData);d=b("FBPaymentsPriceSelectorConfigStore").get(c);c=d.getValueEnforcing();d=a.setConfiguration(c);return this.maybeRestoreFromCurrentURI(d);case g.PRICE_SELECTOR_ERROR:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsPriceSelectorConfigStore").getDispatchToken()]);return a.setFetchError();default:return a}};d.$FBPaymentsPriceSelectorExtensionStore1=function(a,b){var c=b.updateData;switch(b.extensionActionType){case g.PRICE_SELECTOR_SET_CUSTOM_AMOUNT:return a.set("selectedIndex",-1).set("customAmount",c.customAmount).set("customAmountInputErrorMessage",c.validationResult.errorMessage);case g.PRICE_SELECTOR_CUSTOM_AMOUNT_FOCUS:return a.set("selectedIndex",-1);case g.PRICE_SELECTOR_BUTTON_CLICK:return a.set("selectedIndex",c.index).set("customAmount","").set("customAmountInputErrorMessage",null)}return a};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return this.getState().fetchError};d.isReady=function(){var a=this.getState();if(a.customAmountInputErrorMessage||a.fetchError||!a.priceSelectorConfiguration)return!1;return a.customAmount||a.selectedIndex!==-1?!0:!1};d.getData=function(){var a=this.getState();a=a.priceSelectorConfiguration;if(!a)return{currency:"",selectedAmount:""};a=a.getCurrency();return{currency:a,selectedAmount:this.$FBPaymentsPriceSelectorExtensionStore2()}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){var a,b=this.getState();return a={},a[i.PRICE_SELECTOR_SELECTED_INDEX]=b.selectedIndex,a[i.PRICE_SELECTOR_CUSTOM_AMOUNT]=b.customAmount,a};d.maybeRestoreFromQueryData=function(a,b){return a.maybeRestoreFromQueryData(b)};d.needsPrePaymentVerification=function(){return!1};d.$FBPaymentsPriceSelectorExtensionStore2=function(){var a=this.getState(),b=a.priceSelectorConfiguration;return!b?"":this.$FBPaymentsPriceSelectorExtensionStore3()?a.customAmount:b.getSelectedAmountFromIndex(a.selectedIndex)};d.$FBPaymentsPriceSelectorExtensionStore3=function(){var a=this.getState();return!!a.customAmount||a.selectedIndex<0};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsUserInfoOptInActions",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("FBPaymentsCheckoutConstants").Extensions;var g={EXTENSION_NAME:a.USER_INFO_OPT_IN,types:b("keyMirror")({OPT_IN_TOGGLED:null}),toggleOptIn:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.OPT_IN_TOGGLED,data:a}),b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.OPT_IN_TOGGLED,updateData:{}})}};e.exports=g}),null);
__d("FBPaymentsUserInfoOptInExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={userInfoOptInExtensionConfig:null,isInitialized:!1,optIn:!1,disclaimerText:null,privacyPolicyText:null,privacyPolicyRanges:null};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsUserInfoOptInExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsDispatcher","FBPaymentsUserInfoOptInActions","FBPaymentsUserInfoOptInExtensionState","isEmpty"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsUserInfoOptInActions").types;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsUserInfoOptInExtensionState"))()};d.getExtensionName=function(){return h.USER_INFO_OPT_IN};d.reduce=function(a,c){__p&&__p();var d=c.data;switch(c.type){case i.OPT_IN_TOGGLED:return a.set("optIn",d.optIn);case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:case b("FBPaymentsCheckoutActions").types.UPDATE_CONTENT_CONFIGURATION:case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);c=b("FBPaymentsCheckoutConfigurationStore").getUserInfoOptInExtensionConfig();a=a.set("isInitialized",!!c);a=a.set("userInfoOptInExtensionConfig",c);d=!!(c==null?void 0:c.optIn);var e=c==null?void 0:c.disclaimer;c=c==null?void 0:c.privacyPolicy;a=a.set("optIn",d).set("disclaimerText",e==null?void 0:e.text).set("privacyPolicyText",c==null?void 0:c.text).set("privacyPolicyRanges",c==null?void 0:c.ranges);return a;default:return a}};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return!1};d.isReady=function(){return!(g||(g=b("isEmpty")))(this.getState().userInfoOptInExtensionConfig)};d.getData=function(){var a=this.getState();return{optIn:a.optIn}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){return{}};d.needsPrePaymentVerification=function(){return!1};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("PaymentSubscriptionTrialType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FREE:"free"})}),null);
__d("FBPaymentsCheckoutV2StoreBase",["fbt","invariant","FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutStep","FBPaymentsCheckoutV2StoreState","FBPaymentsContactInfoActions","FBPaymentsCouponCodeExtensionStore","FBPaymentsCustomOptionsExtensionStore","FBPaymentsDispatcher","FBPaymentsFreeTrialExtensionStore","FBPaymentsFrequencySelectorExtensionStore","FBPaymentsNationalitySelectorExtensionStore","FBPaymentsPaymentMethodActions","FBPaymentsPerfLogger","FBPaymentsPriceListHelper","FBPaymentsPriceSelectorActions","FBPaymentsPriceSelectorExtensionStore","FBPaymentsUserInfoOptInExtensionStore","FluxReduceStore","PaymentSubscriptionTrialType","abstractMethod","gkx","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FBPaymentsCheckoutConstants").Extensions,j=b("immutable").List,k=b("immutable").OrderedSet,l=b("FBPaymentsCheckoutActions").types,m=b("FBPaymentsContactInfoActions").types,n=b("FBPaymentsPriceSelectorActions").types,o=b("FBPaymentsPaymentMethodActions").types;a=function(a){__p&&__p();babelHelpers.inheritsLoose(d,a);var c=d.prototype;c.getInitialState=function(){return new(b("FBPaymentsCheckoutV2StoreState"))()};function d(){return a.call(this,b("FBPaymentsDispatcher"))||this}c.reduce=function(a,c){__p&&__p();var d=c.data;switch(c.type){case l.INITIALIZE_CHECKOUT:a=this.$FBPaymentsCheckoutV2StoreBase1(a).set("disableUpfrontAddressCollect",d.disableUpfrontAddressCollect).updateLinearSteps(d.enableCheckoutNUX,d.enablePSDAgreementNUX,d.disableUpfrontAddressCollect).updateToNextLinearStep();return a;case l.SHOW_HARD_ERROR_ON_EXTENSIONS:return a.set("showHardErrorOnExtensions",d);case l.UPDATE_CHECKOUT_STEP:return a.set("checkoutStep",d);case l.SET_IS_UPDATING_CHECKOUT:return a.set("isUpdatingCheckout",!0);case l.UPDATE_CHECKOUT_LOAD_ERROR:return a.set("updateCheckoutLoadError",d).set("isUpdatingCheckout",!1);case l.TERMS_AND_POLICIES_LOADED:return a.updateTermsAndPolicies(d);case l.TERMS_AND_POLICIES_ERROR:return a.set("termsAndPoliciesError",!0);case l.NUX_CONTINUE_BUTTON_CLICK:return a.updateToNextLinearStep();case l.ENABLE_AUTO_PAY_ON_READY:return a.set("autoPayOnReady",!0);case l.PAY_BUTTON_CLICK:return this.$FBPaymentsCheckoutV2StoreBase2(a,d);case l.PAYMENT_PROCESSING_CALLBACK_LOADING:return a.set("paymentProcessingMessage",d.paymentProcessingMessage).set("checkoutStep",b("FBPaymentsCheckoutStep").PAYMENT_PROCESSING_EXTENDED);case l.PAYMENT_PROCESSING_CALLBACK_DONE:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);return a.set("checkoutStep",b("FBPaymentsCheckoutStep").CONFIRMATION);case l.PAYMENT_PROCESSING_ERROR:case l.PAYMENT_PROCESSING_EXTENSION_DATA_PREP_ERROR:case l.PAYMENT_PROCESSING_CALLBACK_ERROR:return a.set("checkoutStep",b("FBPaymentsCheckoutStep").READY_TO_PAY).setCheckoutErrors(d);case l.SUCCESSFUL_3DS:return a.set("cmpi3DSResult",d.cmpiLookupResult);case l.UPDATE_CHECKOUT_INFO:a=this.$FBPaymentsCheckoutV2StoreBase1(a);d.shouldCollectAddressUpfront&&(a=this.$FBPaymentsCheckoutV2StoreBase3(a,!0));return a.updateTermsAndPolicies(d.termsAndPolicies).set("paymentSessionID",d.paymentSessionID).set("receiverInfo",d.receiverInfo).set("extensionsToTriggerUpdateCheckout",d.extensionsToTriggerUpdateCheckout).set("banner",d.banner);case l.UPDATE_CONTENT_CONFIGURATION:return this.$FBPaymentsCheckoutV2StoreBase1(a);case l.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case l.TOGGLE_IS_CHECKOUT_DIALOG_SHOWN:return a.set("isCheckoutDialogShown",d);case l.TOGGLE_IS_SECONDARY_PAYMENT_METHOD_CHECKED:return a.set("isSecondaryPaymentMethodChecked",d);case l.EXTENSION_UPDATE:return this.$FBPaymentsCheckoutV2StoreBase4(a,c.data);case l.CUSTOM_EXTENSION_UPDATE:return this.$FBPaymentsCheckoutV2StoreBase5(a,c.data);case l.REGISTER_EXTENSION_DATA_PREPARER:var e=a.extensionDataPreparerMap.set(d.extensionName,d.extensionDataPreparer);return a.set("extensionDataPreparerMap",e);case l.REQUEST_ACTIVE_EXTENSION:return a.setOrUnsetActiveExtension(d.extensionName,d.active);case l.REQUEST_ACTIVE_EXTENSION_FOR_VERIFICATION:a=a.setOrUnsetActiveExtensionForVerification(d.extensionName,d.active);return this.$FBPaymentsCheckoutV2StoreBase4(a,d);case n.PRICE_SELECTOR_LOADED:case n.PRICE_SELECTOR_ERROR:return this.$FBPaymentsCheckoutV2StoreBase6(a);case m.CONTACT_NAME_LOADED:case m.CONTACT_NAME_ERROR:case m.CONTACT_EMAILS_LOADED:case m.CONTACT_EMAILS_ERROR:case m.CONTACT_PHONE_NUMBERS_LOADED:case m.CONTACT_PHONE_NUMBERS_ERROR:return this.$FBPaymentsCheckoutV2StoreBase7(a);case o.PAYMENT_METHODS_LOADED:case o.PAYMENT_METHODS_ERROR:return this.$FBPaymentsCheckoutV2StoreBase8(a);case m.MAILING_ADDRESSES_LOADED:case m.MAILING_ADDRESSES_ERROR:return this.$FBPaymentsCheckoutV2StoreBase3(a,c.type===m.MAILING_ADDRESSES_LOADED);case l.CACHE_REQUEST_DATA:return a.setCachedRequestData(c.data);case l.ENTER_VERIFICATION_FLOW:return a.enterVerificationFlow(d.userFacingMessage);case l.EXIT_INCOMPLETE_VERIFICATION_FLOW:return a.exitIncompleteVerificationFlow();case l.EXIT_PASSED_VERIFICATION_FLOW:return a.exitPassedVerificationFlow();case l.COMPLETE_UPFRONT_ADDRESS_COLLECT:return a.updateToNextLinearStep();case l.CONTACT_SUPPORT_CLICK:return a.contactSupportClick();case l.EXIT_INCOMPLETE_CONTACT_SUPPORT:return a.exitIncompleteContactSupport();case l.EXIT_COMPLETED_CONTACT_SUPPORT:return a.exitCompletedContactSupport();case l.SHOW_EXIT_CHECKOUT_CONFIRM_DIALOG:return a.set("showExitCheckoutConfirmDialog",d.showDialog);case l.SHOW_DONATION_LARGE_AMOUNT_CONFIRM_DIALOG:return a.set("showDonationLargeAmountConfirmDialog",d.showDialog);case l.ADD_ONGOING_API_CALL:return a.set("onGoingAPICalls",a.onGoingAPICalls.add(d));case l.REMOVE_ONGOING_API_CALL:return a.set("onGoingAPICalls",a.onGoingAPICalls.remove(d));case l.REMOVE_PAYMENT_SESSION_ID:return a.set("paymentSessionID",null);case l.UPDATE_PAYMENT_SESSION_ID:return a.set("paymentSessionID",d);case l.ALT_PAY_FLOW_CANCELLED:return a.set("altPayCancelledError",d);case l.UPDATE_PIN_CREATION_NEEDED:return a.set("isPINCreationNeeded",!d);default:return a}};c.$FBPaymentsCheckoutV2StoreBase1=function(a){b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCustomOptionsExtensionStore").getDispatchToken(),b("FBPaymentsCouponCodeExtensionStore").getDispatchToken(),this.__getContactInfoExtensionStore().getDispatchToken(),this.__getShippingAddressExtensionStore().getDispatchToken(),this.__getPaymentMethodExtensionStore().getDispatchToken(),b("FBPaymentsPriceSelectorExtensionStore").getDispatchToken(),b("FBPaymentsFrequencySelectorExtensionStore").getDispatchToken(),b("FBPaymentsUserInfoOptInExtensionStore").getDispatchToken()]);var c=b("FBPaymentsCheckoutConfigurationStore").getContentConfiguration();c&&(a=a.updateForNewContentConfiguration(c),a.isExtensionInUse(i.CUSTOM_OPTIONS)&&(a=this.$FBPaymentsCheckoutV2StoreBase9(a)),a.isExtensionInUse(i.COUPON_CODE)&&(a=this.$FBPaymentsCheckoutV2StoreBase10(a)),a.isExtensionInUse(i.CONTACT_INFO)&&(a=this.$FBPaymentsCheckoutV2StoreBase7(a)),a.isExtensionInUse(i.SHIPPING_ADDRESS)&&(a=this.$FBPaymentsCheckoutV2StoreBase3(a)),a.isExtensionInUse(i.PAYMENT_METHOD)&&(a=this.$FBPaymentsCheckoutV2StoreBase8(a)),a.isExtensionInUse(i.FREE_TRIAL)&&(a=this.$FBPaymentsCheckoutV2StoreBase11(a)),a.isExtensionInUse(i.PRICE_SELECTOR)&&(a=this.$FBPaymentsCheckoutV2StoreBase6(a)),a.isExtensionInUse(i.FREQUENCY_SELECTOR)&&(a=this.$FBPaymentsCheckoutV2StoreBase12(a)),a.isExtensionInUse(i.NATIONALITY_SELECTOR)&&(a=this.$FBPaymentsCheckoutV2StoreBase13(a)),a.isExtensionInUse(i.USER_INFO_OPT_IN)&&(a=this.$FBPaymentsCheckoutV2StoreBase14(a)));return a.set("isUpdatingCheckout",!1)};c.$FBPaymentsCheckoutV2StoreBase2=function(a,c){__p&&__p();c===void 0&&(c=!1);if(a.isUpdatingCheckout)return a;var d=j(),e=k();for(var f=a.extensionFlagsMap.entries(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var l=i[0];i=i[1];i.isReady||(d=d.push(l));i.needsVerification&&(e=e.add(l))}i=a.clearCheckoutErrors();if(!d.isEmpty())return i.set("showHardErrorOnExtensions",{showError:!0,extensionsNotReady:j.of(d.first())});if(!e.isEmpty()){i=i.set("extensionsToVerify",e).set("activeExtensionForVerification",e.first()).set("checkoutStep",b("FBPaymentsCheckoutStep").VERIFICATION);return i}if(c){i=i.set("showDonationLargeAmountConfirmDialog",{showDialog:!0});return i}b("FBPaymentsPerfLogger").logPayButtonClicked();i=i.set("checkoutStep",b("FBPaymentsCheckoutStep").PAYMENT_PROCESSING);return i};c.$FBPaymentsCheckoutV2StoreBase4=function(a,b){__p&&__p();b=b.extensionName;switch(b){case i.CONTACT_INFO:return this.$FBPaymentsCheckoutV2StoreBase7(a);case i.COUPON_CODE:return this.$FBPaymentsCheckoutV2StoreBase10(a);case i.CUSTOM_OPTIONS:return this.$FBPaymentsCheckoutV2StoreBase9(a);case i.FREQUENCY_SELECTOR:return this.$FBPaymentsCheckoutV2StoreBase12(a);case i.NATIONALITY_SELECTOR:return this.$FBPaymentsCheckoutV2StoreBase13(a);case i.PRICE_SELECTOR:return this.$FBPaymentsCheckoutV2StoreBase6(a);case i.PAYMENT_METHOD:return this.$FBPaymentsCheckoutV2StoreBase8(a);case i.SHIPPING_ADDRESS:return this.$FBPaymentsCheckoutV2StoreBase3(a,!1);case i.USER_INFO_OPT_IN:return this.$FBPaymentsCheckoutV2StoreBase14(a);default:return a}};c.$FBPaymentsCheckoutV2StoreBase3=function(a,c){__p&&__p();if(!a.isExtensionInUse(i.SHIPPING_ADDRESS))return a;var d=this.__getShippingAddressExtensionStore();b("FBPaymentsDispatcher").waitFor([d.getDispatchToken()]);if(c&&!a.disableUpfrontAddressCollect){c=d.shouldCollectAddressUpfront();a=a.updateAddressNUXAndLinearSteps(c)}c=d.getData();var e=d.getPartialCheckoutRestoreData(),f={hasInitializationError:d.hasInitializationError(),isReady:d.isReady(),isInitialized:d.isInitialized(),needsVerification:d.needsPrePaymentVerification()};d=d.getUserFacingError();return a.mergeCheckoutRestoreData(e).updateExtension(i.SHIPPING_ADDRESS,c,f,d)};c.$FBPaymentsCheckoutV2StoreBase7=function(a){var c=this.__getContactInfoExtensionStore();b("FBPaymentsDispatcher").waitFor([c.getDispatchToken()]);var d=c.getData(),e=c.getPartialCheckoutRestoreData();c={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};return a.set("contactInfoData",d).mergeCheckoutRestoreData(e).updateExtension(i.CONTACT_INFO,d,c)};c.$FBPaymentsCheckoutV2StoreBase10=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsCouponCodeExtensionStore")).getDispatchToken()]);var d=c.getData(),e=c.getPartialCheckoutRestoreData();c={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};return a.mergeCheckoutRestoreData(e).updateExtension(i.COUPON_CODE,d,c)};c.$FBPaymentsCheckoutV2StoreBase9=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsCustomOptionsExtensionStore")).getDispatchToken()]);var d=c.getData(),e=c.getPartialCheckoutRestoreData();c={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};return a.mergeCheckoutRestoreData(e).updateExtension(i.CUSTOM_OPTIONS,d,c)};c.$FBPaymentsCheckoutV2StoreBase12=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsFrequencySelectorExtensionStore")).getDispatchToken()]);var d=c.getPartialCheckoutRestoreData(),e=c.getData();c={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};return a.set("frequencySelectorData",e).mergeCheckoutRestoreData(d).updateExtension(i.FREQUENCY_SELECTOR,e,c)};c.$FBPaymentsCheckoutV2StoreBase13=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsNationalitySelectorExtensionStore")).getDispatchToken()]);var d=c.getPartialCheckoutRestoreData(),e=c.getData();c={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};return a.set("nationalitySelectorData",e).mergeCheckoutRestoreData(d).updateExtension(i.NATIONALITY_SELECTOR,e,c)};c.$FBPaymentsCheckoutV2StoreBase6=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsPriceSelectorExtensionStore")).getDispatchToken()]);var d=c.getData(),e=c.getPartialCheckoutRestoreData();c={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};var f;d.currency!==""&&(f={amount:d.selectedAmount,currency:d.currency});return a.set("priceSelectorData",d).set("buttonPrice",f).mergeCheckoutRestoreData(e).updateExtension(i.PRICE_SELECTOR,d,c)};c.$FBPaymentsCheckoutV2StoreBase8=function(a){var c=this.__getPaymentMethodExtensionStore();b("FBPaymentsDispatcher").waitFor([c.getDispatchToken()]);var d=c.getData(),e={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};c=c.getUserFacingError();var f=a.isSecondaryPaymentMethodChecked?d:babelHelpers["extends"]({},d,{secondaryPaymentMethod:null});return a.set("paymentMethodData",d).updateExtension(i.PAYMENT_METHOD,f,e,c)};c.$FBPaymentsCheckoutV2StoreBase11=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsFreeTrialExtensionStore")).getDispatchToken()]);var d=c.getData(),e={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};c=c.getUserFacingError();return a.set("freeTrialData",d).updateExtension(i.FREE_TRIAL,d,e,c)};c.$FBPaymentsCheckoutV2StoreBase14=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsUserInfoOptInExtensionStore")).getDispatchToken()]);var d=c.getData(),e={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};c=c.getUserFacingError();return a.set("optInData",d).updateExtension(i.USER_INFO_OPT_IN,d,e,c)};c.$FBPaymentsCheckoutV2StoreBase5=function(a,c){var d=c.extensionStore;b("FBPaymentsDispatcher").waitFor([d.getDispatchToken()]);c=c.extensionKey;var e=d.getData(),f={hasInitializationError:d.hasInitializationError(),isReady:d.isReady(),isInitialized:d.isInitialized(),needsVerification:d.needsPrePaymentVerification()};d=d.getPartialCheckoutRestoreData();return a.updateExtension(c,e,f).mergeCheckoutRestoreData(d)};c.getExtensionsWithHardError=function(){return this.getState().showHardErrorOnExtensions};c.getShowHardErrorOnExtension=function(a){var b=this.getExtensionsWithHardError();return b&&b.showError&&b.extensionsNotReady.includes(a)};c.isCheckoutInitialized=function(a){return this.getState().isCheckoutInitialized(a)};c.hasAnyInitializationError=function(){__p&&__p();var a=this.getState();if(b("gkx")("676854"))return!0;if(a.updateCheckoutLoadError||a.termsAndPoliciesError)return!0;for(var a=a.extensionFlagsMap.values(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.hasInitializationError)return!0}return!1};c.getFinalPriceList=function(a){__p&&__p();var c=this.getState().extensionDataMap;a=((a=a)!=null?a.priceList:a)||[];var d=[];for(var c=c.values(),e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=c.length)break;h=c[f++]}else{f=c.next();if(f.done)break;h=f.value}h=h;var i=h.subscriptionPrice,j=h.trialType;if(b("PaymentSubscriptionTrialType")[j]==="free"){j={amount:"0",currency:i.currency};i=g._("Prueba gratuita");i={label:i,price:j};return[i]}j=h.optionPriceList;j&&d.push(j)}i=b("FBPaymentsPriceListHelper").mergePriceLists(a,d);return i};c.areAllExtensionsReady=function(){return this.getState().areAllExtensionsReady()};c.shouldShowUpfrontAddressCollection=function(){var a=this.getState(),c=a.checkoutStep===b("FBPaymentsCheckoutStep").ADDRESS_COLLECT;c&&(a.disableUpfrontAddressCollect&&h(0,2211,b("FBPaymentsCheckoutStep").ADDRESS_COLLECT));return c};c.shouldConnectPayPalInCheckoutContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2StoreBase","shouldConnectPayPalInCheckoutContainer")};c.__getContactInfoExtensionStore=function(){return b("abstractMethod")("FBPaymentsCheckoutV2StoreBase","__getContactInfoExtensionStore")};c.__getPaymentMethodExtensionStore=function(){return b("abstractMethod")("FBPaymentsCheckoutV2StoreBase","__getPaymentMethodExtensionStore")};c.__getShippingAddressExtensionStore=function(){return b("abstractMethod")("FBPaymentsCheckoutV2StoreBase","__getShippingAddressExtensionStore")};return d}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("FBPaymentsContactInfoExtensionState",["FBPaymentsCheckoutConstants","FBPaymentsContactEmail","FBPaymentsContactPhoneNumber","FBPaymentsNormalizers","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCheckoutConstants").ContactInfoTypes;a={contactEmailList:b("immutable").List(),contactInfoDisclaimer:null,contactName:"",contactPhoneNumbers:b("immutable").List(),isContactEmailInitialized:!1,isContactEmailRequired:!0,isContactNameInitialized:!1,isContactNameRequired:!0,isContactPhoneInitialized:!1,isContactPhoneRequired:!0,isNewContactEmailValid:!1,isNewContactPhoneNumberValid:!1,isNewContactNameValid:!1,newContactEmail:"",newContactPhoneNumber:"",selectedContactEmail:null,selectedContactPhoneNumber:null,validationContactEmailErrorMessage:null,validationContactNameErrorMessage:null,validationContactPhoneNumberErrorMessage:null};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.setRequiredContactInfo=function(a){var b=a.includes(g.NAME),c=a.includes(g.EMAIL);a=a.includes(g.PHONE);return this.set("isContactNameRequired",b).set("isContactEmailRequired",c).set("isContactPhoneRequired",a)};d.setDefaultContactName=function(a){a=this.contactName!==""?this.contactName:a;return this.set("isContactNameInitialized",!0).set("contactName",a).set("isNewContactNameValid",!!a)};d.setContactNameInput=function(a,b){return this.set("contactName",a).set("isNewContactNameValid",b.isValid).set("validationContactNameErrorMessage",b.errorMessage)};d.initializeContactEmails=function(a){var b=a.filter(function(a){return a.isDefault}).first();b||(b=a.first());var c="",d=!1,e=null;this.newContactEmail!==""?(c=this.newContactEmail,d=!0,e=this.contactEmailList.filter(function(a){return a.normalizedEmailAddress===c}).first()):b&&(c=b.normalizedEmailAddress,e=b,d=!0);return this.set("contactEmailList",a).set("isContactEmailInitialized",!0).set("selectedContactEmail",e).set("newContactEmail",c).set("isNewContactEmailValid",d)};d.initializeContactPhoneNumbers=function(a){var b=a.filter(function(a){return a.isDefault}).first();b||(b=a.first());var c="",d=!1,e=null;this.newContactPhoneNumber!==""?(c=this.newContactPhoneNumber,d=!0,e=this.findPhoneNumberIfExists(c)):b&&(e=b,c=b.intlNumberWithPlus,d=!0);return this.set("contactPhoneNumbers",a).set("isContactPhoneInitialized",!0).set("selectedContactPhoneNumber",e).set("newContactPhoneNumber",c).set("isNewContactPhoneNumberValid",d)};d.setEmailInput=function(a,b){var c=this.contactEmailList.filter(function(b){return b.normalizedEmailAddress===a}).first();return this.set("newContactEmail",a).set("selectedContactEmail",c).set("isNewContactEmailValid",b.isValid).set("validationContactEmailErrorMessage",b.errorMessage)};d.selectEmail=function(a){var b=this.contactEmailList.filter(function(b){return b.id===a}).first(),c=b==null?void 0:b.normalizedEmailAddress,d=c!=null;return this.set("selectedContactEmail",b).set("newContactEmail",c).set("isNewContactEmailValid",d).set("validationContactEmailErrorMessage",null)};d.selectNewSavedEmail=function(a,c){c=new(b("FBPaymentsContactEmail"))({id:c,normalizedEmailAddress:a});var d=this.contactEmailList;d=d.push(c);return this.set("selectedContactEmail",c).set("newContactEmail",a).set("contactEmailList",d)};d.setPhoneNumberInput=function(a,b){var c=this.findPhoneNumberIfExists(a);return this.set("newContactPhoneNumber",a).set("selectedContactPhoneNumber",c).set("isNewContactPhoneNumberValid",b.isValid).set("validationContactPhoneNumberErrorMessage",b.errorMessage)};d.findPhoneNumberIfExists=function(a){var c=this.contactPhoneNumbers.filter(function(c){return b("FBPaymentsNormalizers").stripNonNumeric(c.intlNumberWithPlus)===b("FBPaymentsNormalizers").stripNonNumeric(a)}).first();return c};d.selectPhoneNumber=function(a){var b=this.contactPhoneNumbers.filter(function(b){return b.id===a}).first(),c=b==null?void 0:b.intlNumberWithPlus,d=c!=null;return this.set("selectedContactPhoneNumber",b).set("newContactPhoneNumber",c).set("isNewContactPhoneNumberValid",d).set("validationContactPhoneNumberErrorMessage",null)};d.selectNewSavedPhoneNumber=function(a,c,d){d=new(b("FBPaymentsContactPhoneNumber"))({id:d,intlNumberWithPlus:a,formattedIntlNumberWithPlus:c});c=this.contactPhoneNumbers;c=c.push(d);return this.set("selectedContactPhoneNumber",d).set("newContactPhoneNumber",a).set("contactPhoneNumbers",c)};d.prefillData=function(a){return this.set("newContactEmail",a.contactEmail||"").set("contactName",a.contactName||"").set("newContactPhoneNumber",a.contactPhoneNumber||"")};d.initializeDisclaimer=function(a){return this.set("contactInfoDisclaimer",a)};return c}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsContactInfoExtensionStoreBase",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsContactEmail","FBPaymentsContactInfoActions","FBPaymentsContactInfoExtensionState","FBPaymentsContactInfoTypes","FBPaymentsContactPhoneNumber","FBPaymentsDispatcher","abstractMethod","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCheckoutConstants").Extensions,h=b("FBPaymentsCheckoutConstants").RestoreKey,i=b("FBPaymentsContactInfoActions").types;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("FBPaymentsDispatcher"))||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsContactInfoExtensionState"))()};d.getExtensionName=function(){return g.CONTACT_INFO};d.__getContactInfoStore=function(){return b("abstractMethod")("FBPaymentsContactInfoExtensionStoreBase","__getContactInfoStore")};d.reduce=function(a,c){__p&&__p();var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsContactInfoExtensionStoreBase1(a,d):a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:return this.$FBPaymentsContactInfoExtensionStoreBase2(a);case i.CONTACT_NAME_LOADED:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);c=this.__getContactInfoStore().get(b("FBPaymentsContactInfoTypes").NAME).getValueEnforcing().first();c=a.setDefaultContactName(c);return this.maybeRestoreContactNameFromQueryData(c);case i.CONTACT_NAME_ERROR:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);c=a.setDefaultContactName("");return this.maybeRestoreContactNameFromQueryData(c);case i.CONTACT_EMAILS_LOADED:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);c=this.__getContactInfoStore().get(b("FBPaymentsContactInfoTypes").EMAIL).getValueEnforcing();c=a.initializeContactEmails(c);return this.maybeRestoreContactEmailFromQueryData(c);case i.CONTACT_EMAILS_ERROR:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);return a.initializeContactEmails(b("immutable").List());case i.CONTACT_EMAIL_SAVED:return a.selectNewSavedEmail(d.email,d.id);case i.CONTACT_PHONE_NUMBERS_LOADED:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);c=this.__getContactInfoStore().get(b("FBPaymentsContactInfoTypes").PHONE_NUMBER).getValueEnforcing();c=a.initializeContactPhoneNumbers(c);return this.maybeRestoreContactPhoneFromQueryData(c);case i.CONTACT_PHONE_NUMBERS_ERROR:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);return a.initializeContactPhoneNumbers(b("immutable").List());case i.CONTACT_PHONE_NUMBER_SAVED:return a.selectNewSavedPhoneNumber(d.intlNumberWithPlus,d.formattedIntlNumberWithPlus,d.id);case i.SET_PREFILLED_DATA:return a.prefillData(d);default:return a}};d.$FBPaymentsContactInfoExtensionStoreBase1=function(a,b){var c=b.updateData;switch(b.extensionActionType){case i.CONTACT_INFO_TYPES_CHANGED:return a.setRequiredContactInfo(c.contactInfoTypes);case i.CONTACT_NAME_UPDATED:return a.setContactNameInput(c.contactName,c.validationResult);case i.CONTACT_EMAIL_UPDATED:return a.setEmailInput(c.newContactEmail,c.validationResult);case i.CONTACT_PHONE_NUMBER_UPDATED:return a.setPhoneNumberInput(c.newContactPhoneNumber,c.validationResult)}return a};d.$FBPaymentsContactInfoExtensionStoreBase2=function(a){__p&&__p();var c,d,e;b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);var f=b("FBPaymentsCheckoutConfigurationStore").getContactInfoExtensionConfig();c=(c=f==null?void 0:(c=f.contactInfoData)==null?void 0:(c=c.name)==null?void 0:c.full_name)!=null?c:"";d=(d=f==null?void 0:(d=f.contactInfoData)==null?void 0:(d=d.emails)==null?void 0:d.available_emails)!=null?d:[];e=(e=f==null?void 0:(e=f.contactInfoData)==null?void 0:(e=e.phones)==null?void 0:e.available_phones)!=null?e:[];var g=b("immutable").List(),h=b("immutable").List();for(var d=d,i=Array.isArray(d),j=0,d=i?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=d.length)break;k=d[j++]}else{j=d.next();if(j.done)break;k=j.value}k=k;g=g.push(b("FBPaymentsContactEmail").fromJS(k))}for(var k=e,j=Array.isArray(k),i=0,k=j?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(i>=k.length)break;d=k[i++]}else{i=k.next();if(i.done)break;d=i.value}e=d;h=h.push(b("FBPaymentsContactPhoneNumber").fromJS(e))}i=f==null?void 0:(d=f.contactInfoData)==null?void 0:(e=d.disclaimer)==null?void 0:e.text;a=a.setDefaultContactName(c).initializeContactEmails(g).initializeContactPhoneNumbers(h).initializeDisclaimer(i);a=this.maybeRestoreContactNameFromQueryData(a);a=this.maybeRestoreContactEmailFromQueryData(a);a=this.maybeRestoreContactPhoneFromQueryData(a);return a};d.isInitialized=function(){var a=this.getState(),b=!0;a.isContactNameRequired&&(b=b&&a.isContactNameInitialized);a.isContactEmailRequired&&(b=b&&a.isContactEmailInitialized);a.isContactPhoneRequired&&(b=b&&a.isContactPhoneInitialized);return b};d.hasInitializationError=function(){return!1};d.isReady=function(){var a=this.getState(),b=!0;a.isContactNameRequired&&(b=b&&!!a.contactName&&a.isNewContactNameValid);b&&a.isContactEmailRequired&&(b=!!a.selectedContactEmail||!!a.newContactEmail&&a.isNewContactEmailValid);b&&a.isContactPhoneRequired&&(b=!!a.selectedContactPhoneNumber||!!a.newContactPhoneNumber&&a.isNewContactPhoneNumberValid);return b};d.getData=function(){var a=this.getState(),b,c,d,e;a.isContactNameRequired&&a.contactName&&a.isNewContactNameValid&&(b=a.contactName);a.isContactEmailRequired&&(a.selectedContactEmail&&(c=a.selectedContactEmail.normalizedEmailAddress,d=a.selectedContactEmail.id));a.isContactPhoneRequired&&(a.selectedContactPhoneNumber&&(e=a.selectedContactPhoneNumber.id));return{name:b,email:c,emailID:d,phoneNumberID:e}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){var a,b=this.getData();b=(a={},a[h.CONTACT_INFO_NAME]=b.name,a[h.CONTACT_INFO_EMAIL_ID]=b.emailID,a[h.CONTACT_INFO_PHONE_NUMBER_ID]=b.phoneNumberID,a);return b};d.maybeRestoreContactNameFromQueryData=function(a){var b=this.getCurrentURIQueryData();b=b[h.CONTACT_INFO_NAME];return b?a.set("contactName",b):a};d.maybeRestoreContactEmailFromQueryData=function(a){var b=this.getCurrentURIQueryData();b=b[h.CONTACT_INFO_EMAIL_ID];return b?a.selectEmail(b):a};d.maybeRestoreContactPhoneFromQueryData=function(a){var b=this.getCurrentURIQueryData();b=b[h.CONTACT_INFO_PHONE_NUMBER_ID];return b?a.selectPhoneNumber(b):a};d.needsPrePaymentVerification=function(){return!1};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=a}),null);
__d("FBPaymentsContactInfoExtensionStore",["FBPaymentsContactInfoExtensionStoreBase","FBPaymentsContactInfoStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getContactInfoStore=function(){return b("FBPaymentsContactInfoStore")};return c}(b("FBPaymentsContactInfoExtensionStoreBase"));e.exports=new a()}),null);
__d("AffirmPopupManager",[],(function(a,b,c,d,e,f){"use strict";a={_instances:{},register:function(a,b){Object.prototype.hasOwnProperty.call(this._instances,a),this._instances[a]=b},processPopup:function(a){var b=a.instance_id;!Object.prototype.hasOwnProperty.call(this._instances,b);b=this._instances[b];b.close(a)}};e.exports=a}),null);
__d("XFBSbxAffirmInitController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/payments/affirmInit/",{checkout_object:{type:"String",required:!0}})}),null);
__d("XPaymentsRedirectController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/payments/redirect/",{type:{type:"String"},instance_id:{type:"String"},change_method:{type:"Int"},checkout_token:{type:"String"}})}),null);
__d("AffirmPopup",["AffirmPopupManager","PopupWindow","XFBSbxAffirmInitController","XPaymentsRedirectController","guid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.width=600,this.height=600,this.timerID=0,this.pollingInterval=100,this.checkoutObject=a.affirmCheckoutObject,this.cancelHandler=a.onCancel,this.successHandler=a.onSuccess,this.$1="affirmPopup$"+b("guid")(),b("AffirmPopupManager").register(this.$1,this)}var c=a.prototype;c.open=function(){var a=b("XPaymentsRedirectController").getURIBuilder().setString("type","ra").setString("instance_id",this.$1).getURI().setDomain("www.facebook.com").setProtocol("https").toString();a=babelHelpers["extends"]({merchant:{user_confirmation_url:a,user_cancel_url:a,user_confirmation_url_action:"GET",name:"Facebook"}},this.checkoutObject);a=JSON.stringify(a);a=b("XFBSbxAffirmInitController").getURIBuilder().setString("checkout_object",a).getURI().setDomain("www.fbsbx.com").setProtocol("https").toString();this.popup=b("PopupWindow").open(a,this.height,this.width);this.setupPopupOpenCheck()};c.setupPopupOpenCheck=function(){this.timerID=setInterval(function(){this.popup&&this.popup.closed&&(this.closePopup(),this.cancelHandler&&this.cancelHandler())}.bind(this),this.pollingInterval)};c.close=function(a){this.closePopup(),a.checkout_token?this.successHandler(a):this.cancelHandler()};c.closePopup=function(){this.popup&&(this.popup.close(),this.popup=null)};return a}();e.exports=a}),null);
__d("FBPaymentsPayPalBillingAgreementTypes",[],(function(a,b,c,d,e,f){"use strict";a={MIB:"mib",CIB:"cib"};e.exports=a}),null);
__d("FBPaymentsPaymentMethodSelectorExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={affirmCredentialID:null,billingCountry:null,checkoutRestoreData:{},connectPayPalURL:null,convertPayPalError:null,creditCardVerificationData:{},extensionUserFacingError:null,fetchError:!1,isConvertingPayPal:!1,isCreditCardVerificationDataValid:!1,isInitialized:!1,isLoading:!1,isNUXInlineCardFormMode:!1,isNUXInlineCardFormSavingCreditCard:!1,isPUXInlineCardFormMode:!1,isPUXNewPaymentOptionTabEnabled:!1,isSaving:!1,isURIReturnedFromCancelPayPal:!1,needVerification:!1,newCredentialID:null,newPaymentOptionData:null,onlyShowFirstExistingPaymentMethod:!1,paymentMethodsInfo:null,saveErrors:null,selectedBank:null,selectedBillingCountry:null,selectedNewPaymentOptionType:null,selectedPaymentMethod:null,selectedPaymentMethodID:null,selectedPaymentMethodOrNewPaymentOption:null,selectedSecondaryPaymentMethod:null,shouldVerifyCSC:!1,showHardError:!1,verificationData:null,paymentItemType:null};c=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.setPaymentMethodsInfo=function(a){return this.set("paymentMethodsInfo",a)};c.setFetchError=function(){return this.set("isInitialized",!1).set("fetchError",!0)};c.setConnectPayPalURL=function(a){return this.set("connectPayPalURL",a)};c.setNeedVerification=function(a){return this.set("needVerification",a)};c.setSelectedBank=function(a){return this.set("selectedBank",a)};c.setSelectedBillingCountry=function(a){return this.set("selectedBillingCountry",a)};c.setSelectedPaymentMethod=function(a){return this.set("selectedPaymentMethod",a)};c.setSelectedPaymentMethodID=function(a){return this.set("selectedPaymentMethodID",a)};c.setSelectedPaymentMethodOrNewPaymentOption=function(a){return this.set("selectedPaymentMethodOrNewPaymentOption",a)};c.setSelectedSecondaryPaymentMethod=function(a){return this.set("selectedSecondaryPaymentMethod",a)};c.setIsLoading=function(a){return this.set("isLoading",a)};c.setIsSaving=function(a){return this.set("isSaving",a)};c.setNewCredentialID=function(a){return this.set("newCredentialID",a)};c.setNewPaymentOptionData=function(a){return this.set("newPaymentOptionData",a)};c.setSaveErrors=function(a){return this.set("saveErrors",a)};c.setSelectedNewPaymentOptionType=function(a){return this.set("selectedNewPaymentOptionType",a)};c.setIsNUXInlineCardFormSavingCreditCard=function(a){return this.set("isNUXInlineCardFormSavingCreditCard",a)};c.setNewCredentialIDewPaymentOptionData=function(a){return this.set("newPaymentOptionData",a)};c.setIsConvertingPayPal=function(a){return this.set("isConvertingPayPal",a)};c.setConvertPayPalError=function(a){return this.set("convertPayPalError",a)};c.setShouldVerifyCSC=function(a){return this.set("shouldVerifyCSC",a)};c.setBillingCountry=function(a){return this.set("billingCountry",a)};c.setPaymentMethodInfo=function(a){return this.set("paymentMethodsInfo",a)};c.setIsNUXInlineCardFormMode=function(a){return this.set("isNUXInlineCardFormMode",a)};c.setIsPUXInlineCardFormMode=function(a){return this.set("isPUXInlineCardFormMode",a)};c.setIsPUXNewPaymentOptionTabEnabled=function(a){return this.set("isPUXNewPaymentOptionTabEnabled",a)};c.setIsInitialized=function(a){return this.set("isInitialized",a)};c.setCheckoutRestoreData=function(a){return this.set("checkoutRestoreData",a)};c.setCreditCardVerificationData=function(a){return this.set("creditCardVerificationData",a)};c.setIsCreditCardVerificationDataValid=function(a){return this.set("isCreditCardVerificationDataValid",a)};c.setPaymentItemType=function(a){return this.set("paymentItemType",a)};c.setVerificationData=function(a){return this.set("verificationData",a)};c.maybeSetExtensionUserFacingError=function(a){return a&&a.errorCode?this.set("extensionUserFacingError",a):this};c.clearExtensionUserFacingError=function(){return this.set("extensionUserFacingError",null)};c.setShowOnlyFirstPaymentMethod=function(a){return this.set("onlyShowFirstExistingPaymentMethod",a)};c.setAffirmCredentialID=function(a){return this.set("affirmCredentialID",a)};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsPaymentMethodSelectorExtensionStoreBase",["FBLogger","FBPayments3DS","FBPaymentsAffirmMonthlyPayment","FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutHelper","FBPaymentsCreditCard","FBPaymentsDispatcher","FBPaymentsLinkHelper","FBPaymentsModulesAPIShared","FBPaymentsModulesAPIUtils","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodActions","FBPaymentsPaymentMethodSelectorExtensionState","FBPaymentsPaymentMethodsInfo","FBPaymentsPaymentMethodTypes","FBPaymentsPayPalBillingAgreement","FBPaymentsPayPalBillingAgreementTypes","FluxReduceStore","abstractMethod","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsPaymentMethodActions").types,h=b("FBPaymentsCheckoutConstants").Extensions;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("FBPaymentsDispatcher"))||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsPaymentMethodSelectorExtensionState"))()};d.__getPaymentMethodStore=function(){return b("abstractMethod")("FBPaymentsPaymentMethodSelectorExtensionStoreBase","__getPaymentMethodStore")};d.__getAPI=function(){return b("abstractMethod")("FBPaymentsPaymentMethodSelectorExtensionStoreBase","__getAPI")};d.__connectPayPal=function(a){return b("abstractMethod")("FBPaymentsPaymentMethodSelectorExtensionStoreBase","__connectPayPal")};d.__connectAffirm=function(a){return b("abstractMethod")("FBPaymentsPaymentMethodSelectorExtensionStoreBase","__connectAffirm")};d.getExtensionName=function(){return h.PAYMENT_METHOD};d.reduce=function(a,c){__p&&__p();var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:c=c==null?void 0:(c=c.data)==null?void 0:c.paymentType;return a.setPaymentItemType(c);case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase1(a,d):a;case b("FBPaymentsCheckoutActions").types.REQUEST_ACTIVE_EXTENSION_FOR_VERIFICATION:return d.extensionName===this.getExtensionName()&&!d.active?a.setConvertPayPalError(null).setSaveErrors(null).clearExtensionUserFacingError():a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:return this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase2(a);case g.PAYMENT_METHODS_LOADED:b("FBPaymentsDispatcher").waitFor([this.__getPaymentMethodStore().getDispatchToken()]);return this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase3(a,d);case g.PAYMENT_METHODS_ERROR:b("FBPaymentsDispatcher").waitFor([this.__getPaymentMethodStore().getDispatchToken()]);return a.setFetchError();case g.CONNECT_PAYPAL:this.__connectPayPal(d);break;case g.CONNECT_AFFIRM:var e=(c=a)!=null?(c=c.paymentMethodsInfo)!=null?c.accountID:c:c;c=function(a){a=a.checkout_token;a={payment_account_id:e,checkout_token:a};b("FBPaymentsModulesAPIShared").createAffirmCredentialIDRelayGraphQL(a,d.onAuthorizeSuccess,d.onError)};c={affirmCheckoutObject:d.affirmCheckoutObject,checkoutExtraProps:d.checkoutExtraProps,paymentAccountID:e,checkoutConfig:d.checkoutConfig,onSuccess:c,onCancel:d.onCancel,onError:d.onError};this.__connectAffirm(c);break}return a};d.isInitialized=function(){var a=this.getState();return a.isInitialized};d.hasInitializationError=function(){var a=this.getState();return a.fetchError};d.isReady=function(){var a=!1,b=this.getState();b.selectedPaymentMethodOrNewPaymentOption&&b.selectedPaymentMethodOrNewPaymentOption.type==="newPaymentOption"||b.isNUXInlineCardFormMode?a=this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase4(b.selectedNewPaymentOptionType,b.newPaymentOptionData):this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase5(b)&&(a=!0);return a};d.getData=function(){__p&&__p();var a=this.getState(),c={newPaymentOptionType:a.selectedNewPaymentOptionType,selectedBillingCountry:a.selectedBillingCountry,paymentMethod:a.selectedPaymentMethod,paymentMethodID:a.selectedPaymentMethodID,secondaryPaymentMethod:a.selectedSecondaryPaymentMethod},d=a.verificationData?a.verificationData.csc:null;this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase5(a)&&(c=babelHelpers["extends"]({bank:a.selectedBank,csc:d},c));if(a.selectedNewPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY){var e=(d=a.selectedPaymentMethodOrNewPaymentOption)!=null?d.id:d;d=(d=a.paymentMethodsInfo)!=null?d.newPaymentOptions:d;d=e&&d&&d.find(function(a){return a.altPayID===e});a=(a=a.newPaymentOptionData)==null?void 0:(a=a.data)==null?void 0:(a=a.parsed)==null?void 0:a.internationalNumberWithPlus;d=d&&{fee:d.fee,pricepoint_id:d.pricepointID,payment_provider:d.paymentProvider,msisdn:a};c=babelHelpers["extends"]({},c,{altPayData:d})}return c};d.getUserFacingError=function(){return this.getState().extensionUserFacingError};d.getPartialCheckoutRestoreData=function(){return{}};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase6=function(a,b,c,d,e){d={ccNumberBin:d,credentialId:a,ccCountryCode:b,itemType:e,accountCurrency:c};return d};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase1=function(a,c){__p&&__p();var d=c.updateData;switch(c.extensionActionType){case g.EXISTING_PAYMENT_METHODS_CLICK:c=d.paymentMethod;if(c.type===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD){a=a.setSelectedBillingCountry(c.countryCode);if(b("FBPaymentsCheckoutHelper").shouldUse3DS2Flow(a.paymentItemType)){var e;e=this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase6(c.id,c.countryCode,((e=a.paymentMethodsInfo)==null?void 0:e.currency)||"",null,a.paymentItemType||"");this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase7(e)}}return a.setNeedVerification(this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase8(c)).setSelectedBank(null).setSelectedNewPaymentOptionType(null).setSelectedPaymentMethod(c).setSelectedPaymentMethodID(c.id).setSelectedPaymentMethodOrNewPaymentOption({id:c.id,type:"paymentMethod"});case g.SECONDARY_PAYMENT_METHOD_CHECKBOX_CLICK:return a.setSelectedSecondaryPaymentMethod(d.paymentMethod);case g.BANK_CLICK:return a.setSelectedBank(d.selectedBank);case g.NEW_PAYMENT_OPTION_SAVED:return a.setSelectedBank(null).setSelectedPaymentMethod(null).setSelectedPaymentMethodID(null).setSelectedPaymentMethodOrNewPaymentOption(null).setIsLoading(!0).setIsSaving(!1).setNewCredentialID(d.newCredentialID).setNewPaymentOptionData(null);case g.NEW_PAYMENT_OPTION_SAVED_ERROR:return a.setIsSaving(!1).setSaveErrors(d.saveErrors);case g.CANCEL_SAVE_NEW_PAYMENT_OPTION:return a.setIsSaving(!1);case g.NEW_PAYMENT_OPTION_CLICK:return a.setSelectedNewPaymentOptionType(d.selectedNewPaymentOptionType).setSelectedPaymentMethodOrNewPaymentOption({id:(e=d.altPayID)!=null?e:d.selectedNewPaymentOptionType,type:"newPaymentOption"}).setSelectedPaymentMethod(null).setSelectedPaymentMethodID(null).setNeedVerification(!1);case g.SAVE_CREDIT_CARD_CHECKBOX_CLICK:return a.setIsNUXInlineCardFormSavingCreditCard(d.isNUXInlineCardFormSavingCreditCard);case g.NEW_PAYMENT_OPTION_FORM_DATA_UPDATED:c=d.newPaymentOptionData;if(c.newPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD){e=(e=c)!=null?(e=e.data)!=null?e.country:e:e;a=a.setSelectedBillingCountry(e||a.selectedBillingCountry)}if(b("FBPaymentsCheckoutHelper").shouldUse3DS2Flow(a.paymentItemType)&&c.newPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD){var f;e=b("FBPayments3DS").getBinNumberFromCreditCard(c.data.creditCardNumber);f=b("FBPayments3DS").getBinNumberFromCreditCard(((f=a.newPaymentOptionData)==null?void 0:f.data.creditCardNumber)||"");if(e!==null&&e!==f){f=this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase6(null,a.selectedBillingCountry||"",((f=a.paymentMethodsInfo)==null?void 0:f.currency)||"",e,a.paymentItemType||"");this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase7(f)}}return a.setNewPaymentOptionData(c);case g.CONVERT_PAYPAL_BA_TO_CIB_ERROR:return a.setIsConvertingPayPal(!1).setConvertPayPalError(d.convertPayPalError).maybeSetExtensionUserFacingError(d.convertPayPalError);case g.SET_SHOULD_VERIFY_CSC:return a.setShouldVerifyCSC(d.shouldVerifyCSC);case g.CANCEL_ACTIVE_STATE_CLICK:return a.setNewPaymentOptionData(d.newPaymentOptionData).setSaveErrors(null);case g.CREDIT_CARD_VERIFICATION_FORM_VALIDATION:return a.setCreditCardVerificationData(d.creditCardVerificationData).setIsCreditCardVerificationDataValid(d.isCreditCardVerificationDataValid);case g.BEFORE_CONVERT_PAYPAL_BA_TO_CIB:return a.setIsConvertingPayPal(!0).setConvertPayPalError(null).clearExtensionUserFacingError();case g.CONVERT_PAYPAL_BA_TO_CIB_V2:e=a.selectedPaymentMethod&&a.selectedPaymentMethod.set(b("FBPaymentsPayPalBillingAgreement").MutableProperties.BA_TYPE,b("FBPaymentsPayPalBillingAgreementTypes").CIB).set(b("FBPaymentsPayPalBillingAgreement").MutableProperties.CIB_CONVERSION_NEEDED,!1);return a.setSelectedPaymentMethod(e).setNeedVerification(!1).setVerificationData({verified:!0}).setIsConvertingPayPal(!1).setConvertPayPalError(null).clearExtensionUserFacingError();case g.CLEAR_SAVE_ERRORS:return a.setSaveErrors(null);case g.UPDATE_VERIFICATION_DATA:return a.setVerificationData(d.verificationData);case g.SELECT_SAVED_NEW_PAYMENT_OPTIONS:return a.setSelectedPaymentMethod(d).setSelectedPaymentMethodID(d.id).setSelectedPaymentMethodOrNewPaymentOption({id:d.id,type:"paymentMethod"});case g.SET_FAKE_SELECTED_PAYMENT_METHOD:return a.setSelectedPaymentMethod({selectedPaymentMethod:new(b("FBPaymentsCreditCard"))({id:0})});case g.BEFORE_SAVE_NEW_PAYMENT_OPTIONS:return a.setSaveErrors(null).setIsSaving(!0);case g.COMPLETE_CREDIT_CARD_VERIFICATION:return a.setIsSaving(!1).setVerificationData(d.verificationData);case g.UPDATE_CREDIT_CARD_ERROR:return a.setIsSaving(!1).setSaveErrors(d.saveErrors);case g.BEFORE_UPDATE_CREDIT_CARD:return a.setSaveErrors(null).setIsSaving(!0).setVerificationData({verified:!1});case g.ONLY_SHOW_FIRST_PAYMENT_OPTION:return a.setShowOnlyFirstPaymentMethod(d.onlyShowFirstExistingPaymentMethod);case g.SET_AFFIRM_CREDENTIAL_ID:return a.setAffirmCredentialID(d)}return a};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase3=function(a,b){var c=this.__getPaymentMethodStore().makeImmutableKey(b.requestData);c=this.__getPaymentMethodStore().get(c);a=a.setIsLoading(c.isLoading());c=c.getValueEnforcing();return this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase9(a,c,b.requestData)};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase9=function(a,c,d){__p&&__p();var e=c.paymentMethods,f=c.secondaryPaymentMethods.first(),g=c.newPaymentOptions,h=e.size===0,i=!h,j=g.find(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL})||{},k=c.billingCountry;a=a.setPaymentMethodsInfo(c).setBillingCountry(k).setSelectedBillingCountry(a.selectedBillingCountry||k).setIsNUXInlineCardFormMode(h).setIsPUXInlineCardFormMode(i).setIsPUXNewPaymentOptionTabEnabled(i).setConnectPayPalURL(j.url).setIsInitialized(!0);f&&(a=a.setSelectedSecondaryPaymentMethod(f));if(a.newCredentialID){c=e.find(function(b){return b.id===a.newCredentialID});if(c){a=a.setSelectedBank(null).setSelectedPaymentMethod(c).setSelectedPaymentMethodID(c.id).setSelectedBillingCountry(((h=c)!=null?h.countryCode:h)||k).setNewCredentialID(null).setNeedVerification(this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase8(c))}}else if(!a.selectedPaymentMethod){i=d.affirmCredentialID;if(i){a=a.setSelectedPaymentMethod(new(b("FBPaymentsAffirmMonthlyPayment"))({id:i})).setSelectedPaymentMethodID(i).setSelectedPaymentMethodOrNewPaymentOption({id:i,type:"paymentMethod"});return a}j=b("FBPaymentsLinkHelper").isCurrentURIReturnedFromPaypal();a=a.set("isURIReturnedFromCancelPayPal",b("FBPaymentsLinkHelper").isCurrentURIReturnedFromCancelPaypal());f=e.find(function(a){return a.isSelected});h=g.find(function(a){return a.isSelected});c=j?e.findLast(function(a){return a.getType()===b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT})||f:f;d=e.first();if(c){a=a.setSelectedBank(null).setSelectedPaymentMethod(c).setSelectedPaymentMethodID(c.id).setSelectedBillingCountry(((i=c)!=null?i.countryCode:i)||k).setNeedVerification(this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase8(c)).setSelectedPaymentMethodOrNewPaymentOption({id:c.id,type:"paymentMethod"})}else if(h){f=(j=h.altPayID)!=null?j:h.type;a=a.setSelectedNewPaymentOptionType(h.type).setSelectedPaymentMethodOrNewPaymentOption({id:f,type:"newPaymentOption"})}else if(d){a=a.setSelectedBank(null).setSelectedPaymentMethod(d).setSelectedPaymentMethodID(d.id).setSelectedBillingCountry(((e=d)!=null?e.countryCode:e)||k).setNeedVerification(this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase8(d)).setSelectedPaymentMethodOrNewPaymentOption({id:d.id,type:"paymentMethod"})}else{i=g.first();i&&(a=a.setSelectedNewPaymentOptionType(i.type).setSelectedPaymentMethodOrNewPaymentOption({id:i.type,type:"newPaymentOption"}))}if(b("FBPaymentsCheckoutHelper").shouldUse3DS2Flow(a.paymentItemType)&&((c=a.selectedPaymentMethod)==null?void 0:c.type)===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD){e=this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase6(((j=a.selectedPaymentMethod)==null?void 0:j.id)||"",((h=a.selectedPaymentMethod)==null?void 0:h.countryCode)||"",((f=a.paymentMethodsInfo)==null?void 0:f.currency)||"",null,a.paymentItemType||"");this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase7(e)}}return a};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase7=function(a){b("promiseDone")(b("FBPayments3DS").getCardPaymentMethodInfo(a),function(a){},function(a){})};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase2=function(a){__p&&__p();var c;b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);var d=b("FBPaymentsCheckoutConfigurationStore").getPaymentMethodExtensionConfig();c=(c=d==null?void 0:(c=d.paymentMethodData)==null?void 0:c.available_payment_credential_options)!=null?c:[];var e=[],f=[];c.map(function(a){__p&&__p();var c=a.payment_credential_option,d=a.is_selected;a=a.onboarding_bubble;c=babelHelpers["extends"]({},c,{is_selected:d,onboarding_bubble:a});switch(c.credential_type){case b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT_FROM_GRAPHQL:case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD_FROM_GRAPHQL:case b("FBPaymentsPaymentMethodTypes").DUMMY_PAYMENT_METHOD_FROM_GRAPHQL:e.push(c);break;case b("FBPaymentsPaymentMethodTypes").GIFTCARD_BALANCE_FROM_GRAPHQL:b("gkx")("914984")&&e.push(c);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD_FROM_GRAPHQL:case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL_FROM_GRAPHQL:case b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM_FROM_GRAPHQL:case b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY_FROM_GRAPHQL:f.push(c);break;default:b("FBLogger")("purchase_experience").warn("Unsupported payment option: %s",c.credential_type)}});c=b("FBPaymentsModulesAPIUtils").parseAddressFormConfig(d==null?void 0:(c=d.paymentMethodData)==null?void 0:c.addressFormConfig);d=new(b("FBPaymentsPaymentMethodsInfo"))({accountID:"",addressFormConfig:c,paymentMethods:e,billingCountry:(c=d==null?void 0:(c=d.paymentMethodData)==null?void 0:(c=c.userInfo)==null?void 0:c.geo_country)!=null?c:"",currency:(c=d==null?void 0:(c=d.paymentMethodData)==null?void 0:(d=c.userInfo)==null?void 0:d.currency)!=null?c:"",newPaymentOptions:f});return this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase9(a,d,{affirmCredentialID:a.affirmCredentialID})};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase5=function(a){__p&&__p();if(a.isSaving)return!1;var c=a.paymentMethodsInfo;if(!c)return!1;c=a.selectedPaymentMethod;if(!c)return!1;if(a.needVerification&&!a.isCreditCardVerificationDataValid)return!1;c=c.type||"";c=c===b("FBPaymentsPaymentMethodTypes").NET_BANKING;return c&&!a.selectedBank?!1:!0};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase4=function(a,c){switch(a){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:case b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY:return!!c&&c.isValid;default:return!0}};d.needsPrePaymentVerification=function(){var a=!1,c=this.getState();if(!c.selectedPaymentMethod)return!1;c=c.selectedPaymentMethod;c.type===b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT&&(a=c.cibConversionNeeded);return a};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase8=function(a){var c=!1;if(a.type===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD){a=this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase10(a);c=a.length!==0}return c};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase10=function(a){if(!a)return[];var c=this.getState();c=c.shouldVerifyCSC;switch(a.type){case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD:a=new Set(a.getVerifyFields());c&&a.add("csc");return Array.from(a);default:return[]}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("FBPaymentsPaymentMethodStoreBase",["FBPaymentsCheckoutActions","FBPaymentsDispatcher","FBPaymentsModulesAPIShared","FBPaymentsPaymentMethodActions","FBPaymentsPaymentMethodsInfo","FBPaymentsPayPalBillingAgreement","FBPaymentsPayPalBillingAgreementTypes","FluxLoadObjectStore","immutable","abstractMethod","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("FBPaymentsDispatcher"))||this;c.$FBPaymentsPaymentMethodStoreBase1=null;return c}var d=c.prototype;d.reduce=function(a,c){__p&&__p();var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsPaymentMethodActions").types.FETCH_PAYMENT_METHODS:c=this.makeImmutableKey(d);var e=this.getCached(c);if(e.isEmpty()){this.get(d);return a}else{this.__load(c);return this.__setUpdating(a,[c])}case b("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_LOADED:c=this.makeImmutableKey(d.requestData);return this.__handleOne(a,c,d.paymentMethodsInfo);case b("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_ERROR:c=this.makeImmutableKey(d.requestData);return this.__handleOne(a,c,d.error);case b("FBPaymentsPaymentMethodActions").types.CONVERT_PAYPAL_BA_TO_CIB:c=this.makeImmutableKey(d.key);e=this.getCached(c);var f=e.getValueEnforcing(),g=f.paymentMethods;g=g.update(g.findIndex(function(a){return a.id===d.payPalBAID}),function(a){return a.set(b("FBPaymentsPayPalBillingAgreement").MutableProperties.BA_TYPE,b("FBPaymentsPayPalBillingAgreementTypes").CIB)});f=f.set(b("FBPaymentsPaymentMethodsInfo").MutableProperties.PAYMENT_METHODS,g);e=e.setValue(f);return a.set(c,e);default:return a}};d.makeImmutableKey=function(a){return b("immutable").fromJS(a)};d.get=function(b,c){this.$FBPaymentsPaymentMethodStoreBase1=c;c=this.makeImmutableKey(b);return a.prototype.get.call(this,c)};d.__load=function(a){a=a.toJS();a.isGuestCheckout?b("FBPaymentsModulesAPIShared").fetchPaymentMethodsInfoRelayGraphQL(a,this.$FBPaymentsPaymentMethodStoreBase1):b("gkx")("676862")?b("FBPaymentsModulesAPIShared").fetchPaymentMethodsInfoGraphQL(a):this.__getAPI().fetchPaymentMethodsInfo(a,this.$FBPaymentsPaymentMethodStoreBase1)};d.__getAPI=function(){return b("abstractMethod")("FBPaymentsPaymentMethodStoreBase","__getAPI")};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("FBPaymentsPaymentMethodStore",["FBPaymentsModulesAPI","FBPaymentsPaymentMethodStoreBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getAPI=function(){return b("FBPaymentsModulesAPI")};return c}(b("FBPaymentsPaymentMethodStoreBase"));e.exports=new a()}),null);
__d("FBPaymentsPaymentMethodExtensionStore",["invariant","AffirmPopup","FBPaymentsLoggerConstants","FBPaymentsModulesAPI","FBPaymentsPaymentMethodSelectorExtensionStoreBase","FBPaymentsPaymentMethodStore","FBPaymentsPerfLogger","PaypalPopup","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=100,j=500;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getPaymentMethodStore=function(){return b("FBPaymentsPaymentMethodStore")};d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.__connectPayPal=function(a){__p&&__p();var c=this,d=this.getState();d=d.connectPayPalURL;d||g(0,2786);d=new(h||(h=b("URI")))(d);d=d.getQueryData();var e=babelHelpers["extends"]({placement:"cm_payment_methods_tab"},d);delete e.redirect_url;d=new(b("PaypalPopup"))(e).setIsDigitalGoodsFlow(!1).setIsFinalDigitalGoodFlow(!0).setWidth(j).setHeight(j).setHandler(function(b){b.payment_type=a.paymentType,b.paypal_ba_type=e.paypal_ba_type,b.session_id=a.logger.getSessionID(),c.__getAPI().completePayPal(b,a.onSuccess,a.onError)}).setCancelHandler(a.onCancel).setPollingInterval(i);b("FBPaymentsPerfLogger").logPaymentEvent(b("FBPaymentsLoggerConstants").PerformanceLogging.PAYPAL_FLOW_OPENED);d.open()};d.__connectAffirm=function(a){a=new(b("AffirmPopup"))(a);a.open()};return c}(b("FBPaymentsPaymentMethodSelectorExtensionStoreBase"));e.exports=new a()}),null);
__d("FBPaymentsShippingAddressActions",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("FBPaymentsCheckoutConstants").Extensions;var g={EXTENSION_NAME:a.SHIPPING_ADDRESS,types:b("keyMirror")({ADDRESS_FORM_CONFIG_FETCH_ERROR:null,ADDRESS_FORM_CONFIG_FETCHED:null,CLEAR_SAVE_ERRORS:null,MAILING_ADDRESS_EDIT_CANCELED:null,MAILING_ADDRESS_EDIT_SELECTED:null,MAILING_ADDRESS_ENTERED_CLEARED:null,MAILING_ADDRESS_EXTENSION_HIDDEN_CHANGED:null,MAILING_ADDRESS_SAVE_ERROR:null,MAILING_ADDRESS_SAVED:null,MAILING_ADDRESS_SELECTED:null,MAILING_ADDRESS_SUGGESTED:null,MAILING_ADDRESS_SUGGESTED_CLEARED:null,NEW_MAILING_ADDRESS_FORM_DATA_CHANGE:null,SAVE_MAILING_ADDRESS:null,TOGGLE_MAILING_ADDRESS_FORM:null}),mailingAddressExtensionHiddenStatusChanged:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_EXTENSION_HIDDEN_CHANGED,updateData:a})},mailingAddressSelected:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_SELECTED,updateData:a})},mailingAddressSuggested:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_SUGGESTED,updateData:a})},mailingAddressSuggestedCleared:function(){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_SUGGESTED_CLEARED,updateData:{}})},mailingAddressEnteredCleared:function(){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_ENTERED_CLEARED,updateData:{}})},mailingAddressEditCanceled:function(){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_EDIT_CANCELED,updateData:{}})},mailingAddressEditSelected:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_EDIT_SELECTED,updateData:a})},saveMailingAddress:function(){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.SAVE_MAILING_ADDRESS,updateData:{}})},mailingAddressSaved:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_SAVED,updateData:a})},mailingAddressSaveError:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_SAVE_ERROR,updateData:a})},addressFormConfigFetched:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.ADDRESS_FORM_CONFIG_FETCHED,updateData:a})},addressFormConfigFetchError:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.ADDRESS_FORM_CONFIG_FETCH_ERROR,updateData:a})},newMailingAddressFormDataChange:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.NEW_MAILING_ADDRESS_FORM_DATA_CHANGE,data:a})},toggleMailingAddressForm:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.TOGGLE_MAILING_ADDRESS_FORM,data:a})},clearSaveErrors:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.CLEAR_SAVE_ERRORS,data:{}})}};e.exports=g}),null);
__d("FBPaymentsShippingAddressExtensionState",["FBPaymentsMailingAddress","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={addressFormConfig:null,addressFormConfigFetchErrors:null,editedAddressCounter:0,enteredAddress:null,extensionUserFacingError:null,isExtensionHidden:!1,isMailingAddressListInitialized:!1,isNewAddressValid:!1,isSaving:!1,mailingAddresses:b("immutable").List(),newAddress:null,saveErrors:null,selectedAddress:null,selectedEditAddress:null,suggestedAddress:null,showForm:!1,userGeoCountry:null};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.initializeMailingAddresses=function(a){var b=a.filter(function(a){return a.isDefault}).first();b||(b=a.first());return this.set("mailingAddresses",a).set("selectedAddress",b).set("isMailingAddressListInitialized",!0)};d.setSuggestedAddress=function(a){return this.set("suggestedAddress",a).set("enteredAddress",b("FBPaymentsMailingAddress").fromFormData(this.newAddress))};d.setSuggestedAddressCleared=function(){return this.set("suggestedAddress",null).set("newAddress",this.enteredAddress!=null?this.enteredAddress.toFormData():null)};d.setSelectedEditMailingAddress=function(a){a=this.$FBPaymentsShippingAddressExtensionState1(a);return this.set("selectedEditAddress",a)};d.setSelectedMailingAddress=function(a){a=this.$FBPaymentsShippingAddressExtensionState1(a);return this.set("selectedAddress",a)};d.addSavedMailingAddress=function(a){var b=this.$FBPaymentsShippingAddressExtensionState2(a.id);return b<0?this.set("mailingAddresses",this.mailingAddresses.push(a)).set("selectedAddress",a):this.set("mailingAddresses",this.mailingAddresses.set(b,a)).set("selectedAddress",a).set("editedAddressCounter",this.editedAddressCounter+1)};d.maybeSetSelectedEditMailingAddress=function(a,b){return!a||!b?this.set("selectedEditAddress",null):this.setSelectedEditMailingAddress(b)};d.maybeSetExtensionUserFacingError=function(a){return a&&a.errorCode?this.set("extensionUserFacingError",a):this};d.clearExtensionUserFacingError=function(){return this.set("extensionUserFacingError",null)};d.$FBPaymentsShippingAddressExtensionState1=function(a){return this.mailingAddresses.find(function(b){return b.id===a})};d.$FBPaymentsShippingAddressExtensionState2=function(a){return this.mailingAddresses.findIndex(function(b){return b.id===a})};return c}(b("immutable").Record(a));e.exports=c}),null);
__d("FundraiserDonationEmailCheckboxActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CHECKBOX_TOGGLED:null,INITIALIZE_CHECKBOX:null});e.exports=a}),null);
__d("FBPaymentsShippingAddressExtensionStoreBase",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsContactInfoActions","FBPaymentsContactInfoTypes","FBPaymentsDispatcher","FBPaymentsMailingAddress","FBPaymentsModulesAPIUtils","FBPaymentsShippingAddressActions","FBPaymentsShippingAddressExtensionState","FundraiserDonationEmailCheckboxActionTypes","abstractMethod","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCheckoutConstants").CustomExtensionKeys,h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsCheckoutConstants").RestoreKey,j=b("FBPaymentsContactInfoActions").types,k=b("FBPaymentsShippingAddressActions").types;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("FBPaymentsDispatcher"))||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsShippingAddressExtensionState"))()};d.getExtensionName=function(){return h.SHIPPING_ADDRESS};d.__getContactInfoStore=function(){return b("abstractMethod")("FBPaymentsContactInfoExtensionStoreBase","__getContactInfoStore")};d.reduce=function(a,c){__p&&__p();var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsShippingAddressExtensionStoreBase1(a,d):a;case b("FBPaymentsCheckoutActions").types.CUSTOM_EXTENSION_UPDATE:var e=(c==null?void 0:c.data)||{},f=e.extensionKey;e=e.extensionActionType;if(f===g.GIFT_AID_CHECKBOX&&e===b("FundraiserDonationEmailCheckboxActionTypes").CHECKBOX_TOGGLED){c=!!(c==null?void 0:(f=c.data)==null?void 0:(e=f.updateData)==null?void 0:e.isChecked);return a.set("isExtensionHidden",!c)}return a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:return this.$FBPaymentsShippingAddressExtensionStoreBase2(a);case j.MAILING_ADDRESSES_LOADED:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);f=this.__getContactInfoStore().get(b("FBPaymentsContactInfoTypes").MAILING_ADDRESS).getValueEnforcing();e=a.initializeMailingAddresses(f);return this.maybeRestoreFromCurrentURI(e);case j.MAILING_ADDRESSES_ERROR:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);return a.initializeMailingAddresses(b("immutable").List());case k.TOGGLE_MAILING_ADDRESS_FORM:return a.set("showForm",d.showForm).set("newAddress",null).set("isNewAddressValid",!1).set("saveErrors",null).maybeSetSelectedEditMailingAddress(d.showForm,d.selectedEditAddressID).set("suggestedAddress",null).set("enteredAddress",null).clearExtensionUserFacingError();case k.NEW_MAILING_ADDRESS_FORM_DATA_CHANGE:return a.set("newAddress",d.newAddress).set("isNewAddressValid",d.isNewAddressValid);case k.CLEAR_SAVE_ERRORS:return a.set("saveErrors",null).clearExtensionUserFacingError();default:return a}};d.$FBPaymentsShippingAddressExtensionStoreBase1=function(a,b){__p&&__p();var c=b.updateData;switch(b.extensionActionType){case k.MAILING_ADDRESS_EDIT_CANCELED:return a.set("isSaving",!1).set("showForm",!1).set("saveErrors",null).set("selectedEditAddress",null).set("suggestedAddress",null).set("enteredAddress",null);case k.MAILING_ADDRESS_EDIT_SELECTED:return a.setSelectedEditMailingAddress(c.selectedEditAddressID);case k.MAILING_ADDRESS_SELECTED:return a.setSelectedMailingAddress(c.selectedAddressID);case k.MAILING_ADDRESS_SUGGESTED:return a.set("isSaving",!1).setSuggestedAddress(c.suggestedAddress);case k.MAILING_ADDRESS_SUGGESTED_CLEARED:return a.setSuggestedAddressCleared();case k.MAILING_ADDRESS_ENTERED_CLEARED:return a.set("enteredAddress",null).set("suggestedAddress",null);case k.SAVE_MAILING_ADDRESS:return a.set("saveErrors",null).set("isSaving",!0).clearExtensionUserFacingError();case k.MAILING_ADDRESS_SAVED:b=c.newAddress;return a.addSavedMailingAddress(b).set("isSaving",!1).set("showForm",!1).set("selectedEditAddress",null).set("suggestedAddress",null).set("enteredAddress",null);case k.MAILING_ADDRESS_SAVE_ERROR:return a.set("saveErrors",c.error).set("isSaving",!1).maybeSetExtensionUserFacingError(c.error);case k.ADDRESS_FORM_CONFIG_FETCHED:return a.set("addressFormConfigFetchErrors",null).set("addressFormConfig",c.addressFormConfig).set("userGeoCountry",c.userGeoCountry);case k.ADDRESS_FORM_CONFIG_FETCH_ERROR:return a.set("addressFormConfigFetchErrors",c.error);case k.MAILING_ADDRESS_EXTENSION_HIDDEN_CHANGED:return a.set("isExtensionHidden",c.isHidden)}return a};d.$FBPaymentsShippingAddressExtensionStoreBase2=function(a){__p&&__p();var c;b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);var d=b("FBPaymentsCheckoutConfigurationStore").getShippingAddressExtensionConfig();c=(c=d==null?void 0:(c=d.shippingAddressData)==null?void 0:c.available_shipping_addresses)!=null?c:[];var e=b("immutable").List();for(var c=c,f=Array.isArray(c),g=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;e=e.push(b("FBPaymentsMailingAddress").fromJS(h))}g=d==null?void 0:(h=d.shippingAddressData)==null?void 0:h.address_form_config;f=b("FBPaymentsModulesAPIUtils").parseAddressFormConfig(g);g=d==null?void 0:(c=d.shippingAddressData)==null?void 0:(h=c.address_form_config)==null?void 0:h.default_country;var i=d==null?void 0:(c=d.shippingAddressData)==null?void 0:c.selected_shipping_address_id;h=e.filter(function(a){return a.id===i}).first();h||(h=e.first());d=a.set("mailingAddresses",e).set("selectedAddress",h).set("isMailingAddressListInitialized",!0).set("addressFormConfig",f).set("userGeoCountry",g);return this.maybeRestoreFromCurrentURI(d)};d.isInitialized=function(){var a=this.getState();return a.isExtensionHidden||a.isMailingAddressListInitialized&&!!a.addressFormConfig};d.hasInitializationError=function(){var a=this.getState();return!a.isExtensionHidden&&!!a.addressFormConfigFetchErrors};d.isReady=function(){var a=this.getState();return a.isExtensionHidden||!a.isSaving&&!!a.selectedAddress&&this.isInitialized()};d.getData=function(){var a,b=this.getState();a=b.isExtensionHidden?null:(a=b.selectedAddress)==null?void 0:a.id;return{selectedMailingAddressID:a,editedAddressCounter:b.editedAddressCounter}};d.getUserFacingError=function(){return this.getState().extensionUserFacingError};d.getPartialCheckoutRestoreData=function(){var a,b=this.getData();return a={},a[i.MAILING_ADDRESS_SELECTED_ID]=b.selectedMailingAddressID,a};d.maybeRestoreFromQueryData=function(a,b){b=b[i.MAILING_ADDRESS_SELECTED_ID];return b?a.setSelectedMailingAddress(b):a};d.needsPrePaymentVerification=function(){return!1};d.hasMailingAddresses=function(){return this.getState().mailingAddresses.size>0};d.shouldCollectAddressUpfront=function(){var a=this.getState();return!a.isExtensionHidden&&!this.hasMailingAddresses()};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=a}),null);
__d("FBPaymentsShippingAddressExtensionStore",["FBPaymentsContactInfoStore","FBPaymentsShippingAddressExtensionStoreBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getContactInfoStore=function(){return b("FBPaymentsContactInfoStore")};return c}(b("FBPaymentsShippingAddressExtensionStoreBase"));e.exports=new a()}),null);
__d("FBPaymentsCheckoutV2Store",["FBPaymentsCheckoutV2StoreBase","FBPaymentsContactInfoExtensionStore","FBPaymentsPaymentMethodExtensionStore","FBPaymentsPINStore","FBPaymentsShippingAddressExtensionStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldConnectPayPalInCheckoutContainer=function(){return!1};d.__getContactInfoExtensionStore=function(){return b("FBPaymentsContactInfoExtensionStore")};d.__getPaymentMethodExtensionStore=function(){return b("FBPaymentsPaymentMethodExtensionStore")};d.__getShippingAddressExtensionStore=function(){return b("FBPaymentsShippingAddressExtensionStore")};d.__getPINVerificationExtensionStore=function(){return b("FBPaymentsPINStore")};return c}(b("FBPaymentsCheckoutV2StoreBase"));e.exports=new a()}),null);
__d("FBPaymentsComponentWithErrorBoundaryContainer",["FBPaymentsErrorBoundary.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){return d.apply(this,arguments)||this}var e=c.prototype;e.render=function(){return b("React").createElement(b("FBPaymentsErrorBoundary.react"),null,b("React").createElement(a,this.props))};return c}(b("React").PureComponent);return c}e.exports={create:a}}),null);
__d("FBPaymentsConfirmationConstants",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a={Extensions:b("keyMirror")({CUSTOM_EXTENSION:null})};e.exports=a}),null);
__d("FBPaymentsConfirmationContainerBase.react",["fbt","FBPaymentsConfirmationConstants","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBPaymentsConfirmationConstants").Extensions;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={extensionData:new Map()};return b}var d=c.prototype;d.handleConfirmationExtensionUpdate=function(a,b){var c={extensionData:this.state.extensionData};c.extensionData.set(a,b.data);this.setState(c);this.props.onExtensionsUpdate(c.extensionData)};d.$1=function(a){var c=this,d=this.getExtensionName(a),e=a["class"];e=a.identifier===h.CUSTOM_EXTENSION?e:this.__getConfirmationExtensionManager().getConfirmationExtensionContainer(d);if(!e)throw Error("Unimplemented payments confirmation extension "+d);return b("React").createElement(e,{extensionConfiguration:a,onConfirmationExtensionUpdate:function(a){c.handleConfirmationExtensionUpdate(d,a)}})};d.getExtensionName=function(a){return a.extensionKey||a.identifier};d.getCustomReceiptText=function(){var a=this.props.paymentInfo&&this.props.paymentInfo.paymentItemType;return a==="nmor_checkout_experiences"?g._("Revisar los detalles del pedido"):null};d.render=function(){__p&&__p();var a=this.__getView(),c=[],d=this.props.configuration.confirmationExtensions;for(var e=0;d&&e<d.length;e++){var f=d[e],g=this.getExtensionName(f);c.push(b("React").createElement("div",{key:g+e},this.$1(f)))}g=this.props.configuration;f=g.confirmationText;d=g.customConfirmationImage;e=g.doneButtonText;var h=g.doneButtonTrackingNodeType,i=g.enableReceiptFooterLink,j=g.forceHideReceiptCTA,k=g.merchantLogoUrl,l=g.receiptUrl,m=g.subscriptionConfirmationDetails,n=g.hideDoneButton;g=g.isPaymentStatusPending;return b("React").createElement(a,{confirmationText:f,customConfirmationImage:d,customReceiptText:this.getCustomReceiptText(),doneButtonText:e,doneButtonTrackingNodeType:h,enableReceiptFooterLink:i,forceHideReceiptCTA:j,handleConfirmationDone:this.props.onConfirmationDoneClick,merchantLogoUrl:k,receiptUrl:l,subscriptionConfirmationDetails:m,isPaymentStatusPending:g,hideDoneButton:n},c)};d.__getView=function(){return b("abstractMethod")("FBPaymentsConfirmationContainerBase","__getView")};d.__getConfirmationExtensionManager=function(){return b("abstractMethod")("FBPaymentsConfirmationContainerBase","__getConfirmationExtensionManager")};return c}(b("React").Component);e.exports=a}),null);
__d("FBPaymentsConfirmationExtensionInterface.react",["FBPaymentsCheckoutConfigurationTypes","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=b("FBPaymentsCheckoutConfigurationTypes").ConfirmationExtensionPropTypes;d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("React").Component);d.propTypes={extensionConfiguration:c,onConfirmationExtensionUpdate:a.func.isRequired};e.exports=d}),null);
__d("FBPaymentsConfirmationExtensionManagerBase",["FBPaymentsConfirmationConstants","FBPaymentsConfirmationExtensionInterface.react","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsConfirmationConstants").Extensions;a=function(){__p&&__p();function a(){}var c=a.prototype;c.getConfirmationExtensionContainer=function(a){if(!g[a])throw Error("Non-existent payments confirmation extension "+a);var b=this.__getConfirmationExtensionMap().get(a);if(!b)throw Error("Unimplemented payments confirmation extension "+a);return b};c.__getConfirmationExtensionMap=function(){return b("abstractMethod")("FBPaymentsConfirmationExtensionManagerBase","__getConfirmationExtensionMap")};return a}();e.exports=a}),null);
__d("FBPaymentsConfirmationExtensionManager",["FBPaymentsConfirmationExtensionManagerBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this)||this;b.confirmationExtensionMap=new Map();return b}var c=b.prototype;c.__getConfirmationExtensionMap=function(){return this.confirmationExtensionMap};return b}(b("FBPaymentsConfirmationExtensionManagerBase"));e.exports=new a()}),null);
__d("FBPaymentsConfirmationViewBase.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getConfirmationText=function(){return this.props.confirmationText||b("React").createElement("span",null,g._("\u00a1Gracias por tu compra!"))};d.getConfirmationTitle=function(){return g._("Confirmaci\u00f3n")};d.getReceiptText=function(){return this.props.customReceiptText||g._("Ver recibo")};d.getDoneButtonText=function(){return this.props.doneButtonText||g._("Listo")};return c}(b("React").Component);e.exports=a}),null);
__d("FBPaymentsSubscriptionConfirmationView.react",["cx","FBPaymentsTextWithEntities.react","FDSText.react","FlexLayout.react","Image.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.renewTitle?b("React").createElement(b("FDSText.react"),{color:"positive",display:"block",margin:"_3-96",size:"body1",weight:"bold"},a.renewTitle):null;return b("React").createElement("div",{className:"_40c7 _52ju _68_r _28cv"},b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_2pio"},b("React").createElement(b("Image.react"),{className:"_2pij",height:36,src:a.image,width:36}),b("React").createElement(b("FlexLayout.react"),{direction:"vertical"},b("React").createElement(b("FDSText.react"),{color:"primary",size:"body1",weight:"bold"},a.name),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1"},a.subtitle))),c,b("React").createElement(b("FBPaymentsTextWithEntities.react"),{textWithEntities:a.renewMessage}))}e.exports=a}),null);
__d("FBPaymentsConfirmationView.react",["cx","ix","CurrentUser","FBPaymentsConfirmationViewBase.react","FBPaymentsDialogActions","FBPaymentsLinkHelper","FBPaymentsReceiptDialog.react","FBPaymentsSubscriptionConfirmationView.react","Image.react","Link.react","React","TrackingNodes","URI","XUIButton.react","XUIGrayText.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=36;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$FBPaymentsConfirmationView1=function(a){var c=new(i||(i=b("URI")))(a).getProtocol();c=c!=="http"&&c!=="https"&&c!=="";if(c){c=b("FBPaymentsLinkHelper").parseInAppUrl(a);var d=c.clientType;c=c.productID;b("FBPaymentsDialogActions").showDialog(b("FBPaymentsReceiptDialog.react"),{actorID:b("CurrentUser").getAccountID(),onDialogToggle:this.$FBPaymentsConfirmationView2,receiptID:c,receiptClientType:d})}else window.open(a,"_blank")};d.$FBPaymentsConfirmationView2=function(a){a||b("FBPaymentsDialogActions").hideDialog()};d.$FBPaymentsConfirmationView3=function(){var a=this,c=this.props.receiptUrl;if(!c||this.props.forceHideReceiptCTA||this.props.isPaymentStatusPending)return null;return this.props.enableReceiptFooterLink?b("React").createElement("div",{className:"_2ppt"},b("React").createElement(b("Link.react"),{"data-testid":"see_receipt_button",onClick:function(){return a.$FBPaymentsConfirmationView1(c)}},this.getReceiptText())):b("React").createElement("div",{className:"_2ppt"},b("React").createElement(b("XUIButton.react"),{"data-testid":"see_receipt_button",label:this.getReceiptText(),onClick:function(){return a.$FBPaymentsConfirmationView1(c)},size:"xlarge"}))};d.render=function(){var a=this.props.customConfirmationImage?this.props.customConfirmationImage:this.props.isPaymentStatusPending?b("React").createElement(b("Image.react"),{src:h("661256")}):b("React").createElement(b("Image.react"),{className:"_3fai",src:h("94361")}),c=b("React").createElement(b("XUIGrayText.react"),{className:"_2ppu"},this.getConfirmationText()),d=this.props.merchantLogoUrl?b("React").createElement(b("Image.react"),{className:"_2ppv",height:j,src:this.props.merchantLogoUrl}):null,e=this.props.doneButtonTrackingNodeType?b("TrackingNodes").getTrackingInfo(this.props.doneButtonTrackingNodeType):void 0;e=this.props.hideDoneButton?null:b("React").createElement(b("XUIButton.react"),{"data-ft":e,"data-testid":"confirmation_screen_done_button",label:this.getDoneButtonText(),onClick:this.props.handleConfirmationDone,size:"xlarge",use:"confirm"});var f=this.props.subscriptionConfirmationDetails?b("React").createElement("div",{className:"_2o1p"},b("React").createElement(b("FBPaymentsSubscriptionConfirmationView.react"),this.props.subscriptionConfirmationDetails)):null,g=this.props.enableReceiptFooterLink?b("React").createElement("div",null,this.props.children,this.$FBPaymentsConfirmationView3()):b("React").createElement("div",null,this.$FBPaymentsConfirmationView3(),this.props.children);return b("React").createElement("div",{"data-testid":"payment_confirmation_screen"},b("React").createElement("div",{className:"_2ppw"},b("React").createElement("div",{className:"_2owm"+(f?"":" _2o1p")},a,c,d),f,g),b("React").createElement("div",{className:"_5kyc _2ph_ _52jw"},e))};return c}(b("FBPaymentsConfirmationViewBase.react"));e.exports=a}),null);
__d("FBPaymentsConfirmationContainer.react",["FBPaymentsConfirmationContainerBase.react","FBPaymentsConfirmationExtensionManager","FBPaymentsConfirmationView.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getConfirmationExtensionManager=function(){return b("FBPaymentsConfirmationExtensionManager")};d.__getView=function(){return b("FBPaymentsConfirmationView.react")};d.render=function(){return a.prototype.render.call(this)};return c}(b("FBPaymentsConfirmationContainerBase.react"));a.propTypes=b("FBPaymentsConfirmationContainerBase.react").propTypes;e.exports=a}),null);
__d("FBPaymentsContactSupportActions",["FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g={types:b("keyMirror")({BACK_BUTTON_CLICK:null,DONE_BUTTON_CLICK:null,FORM_DATA_CHANGE:null,SUBMIT_SUPPORT_FORM:null,SUPPORT_FORM_SUBMIT_ERROR:null,SUPPORT_FORM_SUBMIT_SUCCESS:null}),formDataChange:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.FORM_DATA_CHANGE,data:a})},submitSupportForm:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.SUBMIT_SUPPORT_FORM,data:{}})},supportFormSubmitSuccess:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.SUPPORT_FORM_SUBMIT_SUCCESS,data:a})},supportFormSubmitError:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.SUPPORT_FORM_SUBMIT_ERROR,data:a})},backButtonClick:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.BACK_BUTTON_CLICK,data:{}})},doneButtonClick:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.DONE_BUTTON_CLICK,data:{}})}};e.exports=g}),null);
__d("FBPaymentsContactSupportConstants",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a={Screens:b("keyMirror")({SUPPORT_FORM:null,CONFIRMATION:null})};e.exports=a}),null);
__d("FBPaymentsContactSupportStoreState",["FBPaymentsContactSupportConstants","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsContactSupportConstants").Screens;a={error:null,formData:null,isFormValid:!1,isLoading:!1,screen:g.SUPPORT_FORM,screenConfig:null};c=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.reset=function(){return this.$FBPaymentsContactSupportStoreState1().set("formData",{}).set("isFormValid",!1).set("isLoading",!1).clearError()};c.clearError=function(){return this.set("error",null)};c.$FBPaymentsContactSupportStoreState1=function(){return this.set("screen",g.SUPPORT_FORM).set("screenConfig",null)};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsContactSupportStore",["FBPaymentsContactSupportActions","FBPaymentsContactSupportConstants","FBPaymentsContactSupportStoreState","FBPaymentsDispatcher","FluxReduceStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsContactSupportConstants").Screens;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsContactSupportStoreState"))()};d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsContactSupportActions").types.FORM_DATA_CHANGE:return a.set("formData",d.formData).set("isFormValid",d.isFormValid);case b("FBPaymentsContactSupportActions").types.SUBMIT_SUPPORT_FORM:return a.set("isLoading",!0);case b("FBPaymentsContactSupportActions").types.SUPPORT_FORM_SUBMIT_SUCCESS:return a.set("screen",g.CONFIRMATION).set("isLoading",!1).set("screenConfig",d.screenConfig);case b("FBPaymentsContactSupportActions").types.SUPPORT_FORM_SUBMIT_ERROR:return a.set("isLoading",!1).set("error",d);case b("FBPaymentsContactSupportActions").types.BACK_BUTTON_CLICK:case b("FBPaymentsContactSupportActions").types.DONE_BUTTON_CLICK:return a.reset();default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsContactSupport.react",["invariant","FBPaymentsContactSupportActions","FBPaymentsContactSupportConstants","FBPaymentsContactSupportStore","FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","FBPaymentsUniversalErrorUtils","FluxContainer","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBPaymentsContactSupportConstants").Screens,i=b("FBPaymentsLoggerConstants").LoggerFlowStep,j=b("FBPaymentsLoggerConstants").LoggerEvent;function a(a,c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);var f=d.prototype;f.componentDidMount=function(){this.props.logger.setFlowStep(i.CONTACT_SUPPORT).setEventName(j.DISPLAY).addToExtraData("error_flow_step",this.props.extraInfo.flowStep).log()};function d(a){__p&&__p();var c;c=e.call(this,a)||this;c.state={error:null,formData:null,isFormValid:!1,isLoading:!1,screen:h.SUPPORT_FORM,screenConfig:null};c.$1=function(){c.props.logger.setFlowStep(i.CONTACT_SUPPORT).setEventName(j.DONE).addToExtraData("extra_info",JSON.stringify(c.props.extraInfo)).log(),b("FBPaymentsContactSupportActions").doneButtonClick(),c.props.onClose&&c.props.onClose()};c.$2=function(){c.props.logger.setFlowStep(i.CONTACT_SUPPORT).setEventName(j.BACK_CLICK).addToExtraData("extra_info",JSON.stringify(c.props.extraInfo)).log(),b("FBPaymentsContactSupportActions").backButtonClick(),c.props.onBackClick&&c.props.onBackClick()};c.$3=function(){var a=c.props.extraInfo,d=a.errorCode;a=a.flowStep;c.props.logger.setFlowStep(i.CONTACT_SUPPORT).setEventName(j.CLICK).addToExtraData("contact_support_error_code",d.toString()).addToExtraData("error_flow_step",a).log();b("FBPaymentsContactSupportActions").submitSupportForm();var e=c.state.formData;e!=null&&e!==""||g(0,3959);c.props.logger.setFlowStep(i.CONTACT_SUPPORT).setEventName(j.API_INIT).addToExtraData("contact_support_error_code",d.toString()).addToExtraData("error_flow_step",a).log();b("FBPaymentsModulesAPIShared").createPaymentsSRTJob(e,c.props.extraInfo,c.props.logger.getSessionID(),c.$4,c.$5)};c.$4=function(a,d){c.props.logger.setFlowStep(i.CONTACT_SUPPORT).setEventName(j.SUCCESS).addToExtraData("error_flow_step",c.props.extraInfo.flowStep).addToExtraData("srt_job_id",a).log(),b("FBPaymentsContactSupportActions").supportFormSubmitSuccess({screenConfig:d})};c.$5=function(a){var d=b("FBPaymentsUniversalErrorUtils").getErrorCode(a),e=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(a),f=b("FBPaymentsUniversalErrorUtils").getServerErrorMessage(a);c.props.logger.setFlowStep(i.CONTACT_SUPPORT).setEventName(j.FAIL).setUserFacingMessage(e).setErrorMessage(f).setUserFacingErrorCode(d).setErrorCode(d).addToExtraData("error_flow_step",c.props.extraInfo.flowStep).log();b("FBPaymentsContactSupportActions").supportFormSubmitError(a)};b("FBPaymentsDispatcher").explicitlyRegisterStores(c.constructor.getStores());return c}d.getStores=function(){return[b("FBPaymentsContactSupportStore")]};d.calculateState=function(a){a=b("FBPaymentsContactSupportStore").getState();a={error:a.error,formData:a.formData,isFormValid:a.isFormValid,isLoading:a.isLoading,screen:a.screen,screenConfig:a.screenConfig};return a};f.handleFormDataChange=function(a){b("FBPaymentsContactSupportActions").formDataChange({formData:a,isFormValid:!!a})};f.render=function(){var d=this.state.screen,e;if(d){d=c.getScreen(d);e=b("React").createElement(d,{error:this.state.error,isFormValid:this.state.isFormValid,isLoading:this.state.isLoading,onBackClick:this.$2,onDoneClick:this.$1,onSubmitClick:this.$3,onFormDataChange:this.handleFormDataChange,screenConfig:this.state.screenConfig})}return b("React").createElement(a,{screen:e})};return d}(b("React").PureComponent);return b("FluxContainer").create(d)}e.exports={create:a}}),null);
__d("FBPaymentsContactSupportHelper",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getSupportFormLabel:function(){return g._("Intenta que el servicio de ayuda comprenda mejor cu\u00e1l ha sido el error.")},getSupportFormPlaceholder:function(){return g._("Describe tu problema")},getCancelButtonText:function(){return g._("Cancelar")},getSubmitButtonText:function(){return g._("Enviar")},getDoneButtonText:function(){return g._("Aceptar")},getSupportFormScreenTitle:function(){return g._("Contactar con el servicio de ayuda")},getSubmissionErrorTitle:function(){return g._("No se ha podido enviar el mensaje")},getSubmissionErrorDescription:function(){return g._("Vuelve a intentarlo")}};e.exports=a}),null);
__d("FBPaymentsContactSupportConfirmationScreen.react",["cx","invariant","FBPaymentsContactSupportHelper","FDSButton.react","FDSText.react","React","XUIDialogBody.react","XUIDialogTitle.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){this.props.screenConfig||h(0,2249);var a=this.props.screenConfig,c=a.description;a=a.title;return b("React").createElement("div",null,b("React").createElement(b("XUIDialogTitle.react"),{className:"_6k1k _qu2",showCloseButton:!0},a),b("React").createElement(b("XUIDialogBody.react"),{useCustomPadding:!0},b("React").createElement("div",{className:"_qu2"},b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-8t _3-8q",size:"body1"},c)),b("React").createElement("div",null,b("React").createElement(b("FDSButton.react"),{label:b("FBPaymentsContactSupportHelper").getDoneButtonText(),onClick:this.props.onDoneClick,size:"large",margin:"_3-8j",use:"primary"}))))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsContactSupportScreenManagerBase",["FBPaymentsContactSupportConstants","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsContactSupportConstants").Screens;a=function(){__p&&__p();function a(){this.screenMap=new Map(),this.__createScreenMap()}var c=a.prototype;c.getScreen=function(a){if(!g[a])throw Error("Non-existent contact support screen "+a);var b=this.screenMap.get(a);if(!b)throw Error("Unimplemented contact support screen "+a);return b};c.__createScreenMap=function(){return b("abstractMethod")("FBPaymentsContactSupportScreenManagerBase","__createScreenMap")};return a}();e.exports=a}),null);
__d("FBPaymentsContactSupportSupportFormScreen.react",["cx","FBPaymentsContactSupportHelper","FBPaymentsLoadingView.react","FBPaymentsUserFacingErrorNotice.react","FDSButton.react","FDSText.react","React","SUIBusinessTheme","SUITextArea.react","XUIDialogBody.react","XUIDialogTitle.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-8t _3-8-",size:"header4",weight:"bold"},b("FBPaymentsContactSupportHelper").getSupportFormLabel()),b("React").createElement(b("SUITextArea.react"),{margin:"_3-8t _3-8x _3-96",onChange:this.props.onFormDataChange,placeholder:b("FBPaymentsContactSupportHelper").getSupportFormPlaceholder(),rows:5,theme:b("SUIBusinessTheme"),width:"95%"}))};d.$2=function(){return b("React").createElement("div",null,b("React").createElement(b("FDSButton.react"),{label:b("FBPaymentsContactSupportHelper").getCancelButtonText(),onClick:this.props.onBackClick,size:"large",margin:"_3-8o _3-9b _3-90"}),b("React").createElement(b("FDSButton.react"),{isDisabled:this.props.isFormValid!==!0||this.props.isLoading,label:b("FBPaymentsContactSupportHelper").getSubmitButtonText(),onClick:this.props.onSubmitClick,size:"large",margin:"_3-8o",use:"primary"}))};d.$3=function(){return this.props.error?b("React").createElement("div",{className:"_3-8t"},b("React").createElement(b("FBPaymentsUserFacingErrorNotice.react"),{description:b("FBPaymentsContactSupportHelper").getSubmissionErrorDescription(),title:b("FBPaymentsContactSupportHelper").getSubmissionErrorTitle(),use:"caution"})):null};d.render=function(){var a;return(a=b("React")).createElement("div",null,a.createElement(b("XUIDialogTitle.react"),{className:"_6k1k _qu2",showCloseButton:!0},b("FBPaymentsContactSupportHelper").getSupportFormScreenTitle()),a.createElement(b("XUIDialogBody.react"),{className:"_1jnq",useCustomPadding:!0},this.$3(),this.$1(),this.$2(),a.createElement(b("FBPaymentsLoadingView.react"),{overlay:this.props.isLoading,showLockSpinner:!0,visible:this.props.isLoading})))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsContactSupportScreenManager",["FBPaymentsContactSupportConfirmationScreen.react","FBPaymentsContactSupportConstants","FBPaymentsContactSupportScreenManagerBase","FBPaymentsContactSupportSupportFormScreen.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsContactSupportConstants").Screens;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__createScreenMap=function(){this.screenMap.set(g.SUPPORT_FORM,b("FBPaymentsContactSupportSupportFormScreen.react")),this.screenMap.set(g.CONFIRMATION,b("FBPaymentsContactSupportConfirmationScreen.react"))};return c}(b("FBPaymentsContactSupportScreenManagerBase"));e.exports=new a()}),null);
__d("FBPaymentsContactSupportView.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",null,this.props.screen)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsContactInfoExtension",["invariant","Promise","FBPaymentsContactInfoActions","FBPaymentsContactInfoTypes","FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","FBPaymentsUniversalErrorUtils","FluxContainer","React","shallowArrayEqual"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBPaymentsLoggerConstants").LoggerEvent,i=b("FBPaymentsLoggerConstants").LoggerFlowStep;function a(a,c,d,e,f){__p&&__p();f=function(f){__p&&__p();babelHelpers.inheritsLoose(j,f);function j(a){__p&&__p();var c;c=f.call(this,a)||this;c.state={contactInfoDisclaimer:null,contactName:"",isContactEmailRequired:!0,isContactNameRequired:!0,isContactPhoneRequired:!0,isNewContactEmailValid:!1,isNewContactNameValid:!1,isNewContactPhoneNumberValid:!1,newContactEmail:"",newContactPhoneNumber:"",selectedContactEmail:null,selectedContactPhoneNumber:null,showHardError:!1,validationContactEmailErrorMessage:null,validationContactNameErrorMessage:null,validationContactPhoneNumberErrorMessage:null};c.handleContactInfoDataPreparation=function(){__p&&__p();var a=c.state,d=a.isContactEmailRequired,e=a.isContactPhoneRequired,f=a.selectedContactEmail;a=a.selectedContactPhoneNumber;if((f||!d)&&(a||!e))return null;var g=null;if(!f&&d){var j=c.state.newContactEmail;c.props.logger.setFlowStep(i.ADD_EMAIL).setEventName(h.API_INIT).log();g=new(b("Promise"))(function(a,d){b("FBPaymentsModulesAPIShared").addUserContactEmail(j,c.$1(),c.props.logger.getSessionID(),function(d){b("FBPaymentsContactInfoActions").newSavedContactEmail({id:d,email:j}),c.props.logger.setFlowStep(i.ADD_EMAIL).setEventName(h.SUCCESS).log(),a({success:!0,data:{emailAddress:j,emailID:d}})},function(d){var e=b("FBPaymentsUniversalErrorUtils").getErrorCode(d),f=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(d),g=b("FBPaymentsUniversalErrorUtils").getServerErrorMessage(d);c.props.logger.setFlowStep(i.ADD_EMAIL).setEventName(h.FAIL).setUserFacingMessage(f).setErrorMessage(g).setUserFacingErrorCode(e).setErrorCode(e).log();a({success:!1,error:d})})})}f=null;if(!a&&e){var k=c.state.newContactPhoneNumber,l={raw_input:k,payment_type:c.$1(),logging_id:c.props.logger.getSessionID()};c.props.logger.setFlowStep(i.ADD_PHONE).setEventName(h.API_INIT).log();f=new(b("Promise"))(function(a,d){b("FBPaymentsModulesAPIShared").addContactPhoneNumber(l,function(d){b("FBPaymentsContactInfoActions").newSavedContactPhoneNumber({id:d,intlNumberWithPlus:k,formattedIntlNumberWithPlus:k}),c.props.logger.setFlowStep(i.ADD_PHONE).setEventName(h.SUCCESS).log(),a({success:!0,data:{phoneNumberID:d}})},function(d){var e=b("FBPaymentsUniversalErrorUtils").getErrorCode(d),f=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(d),g=b("FBPaymentsUniversalErrorUtils").getServerErrorMessage(d);c.props.logger.setFlowStep(i.ADD_PHONE).setEventName(h.FAIL).setUserFacingMessage(f).setErrorMessage(g).setUserFacingErrorCode(e).setErrorCode(e).log();a({success:!1,error:d})})})}return b("Promise").all([g,f]).then(function(a){var b={},c=!0,d;a.forEach(function(a){if(!a)return;a.success?b=babelHelpers["extends"]({},b,a.data):(c=!1,d=a.error)});return!c?{success:!1,error:d}:{success:!0,data:b}})};b("FBPaymentsDispatcher").explicitlyRegisterStores(c.constructor.getStores(a));var d=c.getPrefilledDataFromProps(a);d&&b("FBPaymentsContactInfoActions").setPrefilledData(d);d=c.getContactInfoTypesFromProps(a);b("FBPaymentsContactInfoActions").contactInfoTypesChanged({contactInfoTypes:d});return c}var k=j.prototype;k.componentDidUpdate=function(a){var c=this.getContactInfoTypesFromProps(this.props);a=this.getContactInfoTypesFromProps(a);b("shallowArrayEqual")(c,a)||b("FBPaymentsContactInfoActions").contactInfoTypesChanged({contactInfoTypes:c})};k.getContactInfoTypesFromProps=function(a){a.extensionConfiguration.identifier!=="CONTACT_INFO"&&g(0,2820,a.extensionConfiguration.identifier);return a.extensionConfiguration.contactInfoTypes};k.getPrefilledDataFromProps=function(a){a.extensionConfiguration.identifier!=="CONTACT_INFO"&&g(0,2820,a.extensionConfiguration.identifier);return a.extensionConfiguration.extensionPrefillData};j.getStores=function(a){if(a.isUsingUpdateCheckoutInfoAPI)return[e,c];else return[e,d,c]};j.calculateState=function(a,f){f.isUsingUpdateCheckoutInfoAPI||(d.get(b("FBPaymentsContactInfoTypes").NAME),d.get(b("FBPaymentsContactInfoTypes").EMAIL),d.get(b("FBPaymentsContactInfoTypes").PHONE_NUMBER));a=f.extensionConfiguration.identifier;f=e.getShowHardErrorOnExtension(a);a=c.getState();f={isContactNameRequired:a.isContactNameRequired,contactName:a.contactName,isNewContactNameValid:a.isNewContactNameValid,validationContactNameErrorMessage:a.validationContactNameErrorMessage,isContactEmailRequired:a.isContactEmailRequired,selectedContactEmail:a.selectedContactEmail,newContactEmail:a.newContactEmail,isNewContactEmailValid:a.isNewContactEmailValid,validationContactEmailErrorMessage:a.validationContactEmailErrorMessage,isContactPhoneRequired:a.isContactPhoneRequired,selectedContactPhoneNumber:a.selectedContactPhoneNumber,newContactPhoneNumber:a.newContactPhoneNumber,isNewContactPhoneNumberValid:a.isNewContactPhoneNumberValid,validationContactPhoneNumberErrorMessage:a.validationContactPhoneNumberErrorMessage,showHardError:f,contactInfoDisclaimer:a.contactInfoDisclaimer};return f};k.componentDidMount=function(){b("FBPaymentsContactInfoActions").registerExtensionDataPreparer(this.handleContactInfoDataPreparation)};k.handleContactNameChange=function(a,c,d){b("FBPaymentsContactInfoActions").contactNameUpdated({contactName:c,validationResult:d})};k.handleNewContactEmailChange=function(a,c,d){b("FBPaymentsContactInfoActions").newContactEmailUpdated({newContactEmail:c,validationResult:d})};k.handleNewContactPhoneNumberChange=function(a,c,d){b("FBPaymentsContactInfoActions").newContactPhoneNumberUpdated({newContactPhoneNumber:c,validationResult:d})};k.$2=function(){var a=this.props.extensionConfiguration;return a.identifier!=="CONTACT_INFO"?null:a.customContent};k.$1=function(){return this.props.checkoutConfiguration.paymentInfo.paymentItemType};k.render=function(){var c=this.$2();return b("React").createElement(a,babelHelpers["extends"]({},this.state,{customContent:c,isActive:this.props.isActive,onContactNameChange:this.handleContactNameChange,onNewContactEmailChange:this.handleNewContactEmailChange,onNewContactPhoneNumberChange:this.handleNewContactPhoneNumberChange}))};return j}(b("React").PureComponent);return b("FluxContainer").create(f,{withProps:!0})}e.exports={create:a}}),null);
__d("FBPaymentsContactInfoSelectorViewV2Base.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getHardErrorMessage=function(){return g._("Introduce tu informaci\u00f3n.")};c.getContactInformationLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.title:a:a)||g._("Informaci\u00f3n de contacto")};c.getCustomContentIconSrc=function(){var a;return(a=this.props)!=null?(a=a.customContent)!=null?a.iconSrc:a:a};c.getContactEmailLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.emailFieldLabel:a:a)||g._("Direcci\u00f3n de correo electr\u00f3nico")};c.getContactNameLabel=function(){return g._("Nombre completo")};c.getContactPhoneNumberLabel=function(){return g._("N\u00famero de tel\u00e9fono")};return b}(b("React").Component);e.exports=a}),null);
__d("FBPaymentsSimpleExtensionView.react",["cx","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("div",{className:"_3itb"},b("React").createElement(b("FDSText.react"),{margin:"_3-8o",size:"header3"},a.title),a.children)}e.exports=a}),null);
__d("FBPaymentsContactInfoSelectorViewV2.react",["ix","cx","FBPaymentsContactInfoSelectorViewV2Base.react","FBPaymentsEmailFormField.react","FBPaymentsNameFormField.react","FBPaymentsPhoneNumberFormField.react","FBPaymentsSimpleExtensionView.react","FDSText.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderContactEmailInput=function(){return!this.props.isContactEmailRequired?null:b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("FBPaymentsEmailFormField.react"),{className:"_3vg0","data-testid":"contact_info_email_field",enableFloatingLabel:!0,errorMessage:this.props.validationContactEmailErrorMessage,label:this.getContactEmailLabel(),name:"email",onChange:this.props.onNewContactEmailChange,showFieldLevelErrors:!0,showHardError:this.props.showHardError,value:this.props.newContactEmail}))};d.renderContactNameInput=function(){return!this.props.isContactNameRequired?null:b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("FBPaymentsNameFormField.react"),{className:"_3vg0","data-testid":"contact_info_name_field",enableFloatingLabel:!0,errorMessage:this.props.validationContactNameErrorMessage,height:"tall",label:this.getContactNameLabel(),name:"name",onChange:this.props.onContactNameChange,showFieldLevelErrors:!0,showHardError:this.props.showHardError,value:this.props.contactName}))};d.renderContactPhoneNumberInput=function(){return!this.props.isContactPhoneRequired?null:b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("FBPaymentsPhoneNumberFormField.react"),{className:"_3vg0","data-testid":"contact_info_phone_number_field",enableFloatingLabel:!0,errorMessage:this.props.validationContactPhoneNumberErrorMessage,height:"tall",label:this.getContactPhoneNumberLabel(),name:"phoneNumber",onChange:this.props.onNewContactPhoneNumberChange,showFieldLevelErrors:!0,showHardError:this.props.showHardError,value:this.props.newContactPhoneNumber}))};d.renderContactInfoSectionDisclaimer=function(){return this.props.contactInfoDisclaimer==null?null:b("React").createElement(b("FDSText.react"),{display:"block"},this.props.contactInfoDisclaimer)};d.render=function(){return b("React").createElement(b("FBPaymentsSimpleExtensionView.react"),{iconSrc:g("394675"),title:this.getContactInformationLabel()},this.renderContactInfoSectionDisclaimer(),this.renderContactNameInput(),this.renderContactEmailInput(),this.renderContactPhoneNumberInput())};return c}(b("FBPaymentsContactInfoSelectorViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsCouponCodeExtension",["FBPaymentsCheckoutConstants","FBPaymentsLoggerConstants","FBPaymentsCheckoutActions","FBPaymentsCouponCodeActions","FBPaymentsCouponCodeExtensionStore","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCheckoutConstants").Extensions,h=b("FBPaymentsLoggerConstants").LoggerEvent,i=b("FBPaymentsLoggerConstants").LoggerFlowStep;function a(a){__p&&__p();var c=function(d){__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){__p&&__p();var a,c;for(var e=arguments.length,f=new Array(e),j=0;j<e;j++)f[j]=arguments[j];return(a=c=d.call.apply(d,[this].concat(f))||this,c.state={couponCode:null,isApplied:!1,isCouponValid:!1,isFormFieldDisplayed:!1,isLoading:!1,message:null,placeholderText:null},c.handleActionButtonClick=function(){b("FBPaymentsCouponCodeActions").displayForm(),c.props.logger.setFlowStep(i.COUPON_CODE).setEventName(h.CLICK).log()},c.handleActionButtonRowClick=function(){b("FBPaymentsCouponCodeActions").displayForm(),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:g.COUPON_CODE,active:!0}),c.props.logger.setFlowStep(i.COUPON_CODE).setEventName(h.CLICK).log()},c.handleCancelClick=function(){b("FBPaymentsCouponCodeActions").dismissForm(),c.props.logger.setFlowStep(i.COUPON_CODE_FORM).setEventName(h.CLICK).updateExtraData({button_name:"cancel"}).updateExtraData({coupon:c.state.couponCode}).log()},c.handleCancelActiveStateClick=function(){b("FBPaymentsCouponCodeActions").dismissForm(),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:g.COUPON_CODE,active:!1}),c.props.logger.setFlowStep(i.COUPON_CODE_FORM).setEventName(h.CLICK).updateExtraData({button_name:"cancel"}).updateExtraData({coupon:c.state.couponCode}).log()},c.handleSaveClick=function(){var a;b("FBPaymentsCouponCodeActions").saveCouponCode();a=(a=c.props)==null?void 0:(a=a.checkoutExtraProps)==null?void 0:a.onCouponCodeApplied;a&&a(c.state.couponCode);c.props.logger.setFlowStep(i.COUPON_CODE_FORM).setEventName(h.CLICK).updateExtraData({button_name:"save"}).updateExtraData({coupon:c.state.couponCode}).log()},c.handleRemoveClick=function(){var a;b("FBPaymentsCouponCodeActions").couponCodeRemoved();a=(a=c.props)==null?void 0:(a=a.checkoutExtraProps)==null?void 0:a.onCouponCodeRemoved;a&&a();c.props.logger.setFlowStep(i.COUPON_CODE).setEventName(h.CLICK).updateExtraData({button_name:"remove"}).log()},a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.componentDidMount=function(){this.props.logger.setFlowStep(i.COUPON_CODE).setEventName(h.DISPLAY).updateExtraData({coupon:this.state.couponCode}).log()};e.componentDidUpdate=function(a,c){!c.isFormFieldDisplayed&&this.state.isFormFieldDisplayed&&this.props.logger.setFlowStep(i.COUPON_CODE_FORM).setEventName(h.DISPLAY).updateExtraData({coupon:this.state.couponCode}).log(),!c.isCouponValid&&this.state.isCouponValid&&this.state.isApplied&&b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:g.COUPON_CODE,active:!1})};c.getStores=function(){return[b("FBPaymentsCouponCodeExtensionStore")]};c.calculateState=function(){var a=b("FBPaymentsCouponCodeExtensionStore").getState();a={couponCode:a.couponCode,isApplied:a.isApplied,isCouponValid:a.isCouponValid,isFormFieldDisplayed:a.isFormFieldDisplayed,isLoading:a.isLoading,message:a.message,placeholderText:a.placeholderText};return a};e.handleInputChange=function(a,c,d){b("FBPaymentsCouponCodeActions").couponCodeEntered({couponCode:c})};e.render=function(){var c=this.state.couponCode!=null&&this.state.couponCode.trim().length>0;return b("React").createElement(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isReadyToSave:c,onActionButtonClick:this.handleActionButtonClick,onCancelActiveStateClick:this.handleCancelActiveStateClick,onCancelClick:this.handleCancelClick,onInputChange:this.handleInputChange,onRemoveClick:this.handleRemoveClick,onRowClicked:this.handleActionButtonRowClick,onSaveClick:this.handleSaveClick}))};return c}(b("React").PureComponent);return b("FluxContainer").create(c)}e.exports={create:a}}),null);
__d("FBPaymentsCouponCodeViewV2Base.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getFormTitle=function(){return g._("Promociones")};c.getPlaceholderText=function(){var a;return(a=this.props.placeholderText)!=null?a:g._("Introduce un c\u00f3digo promocional")};c.getActionButtonText=function(){return g._("A\u00f1adir c\u00f3digo de promoci\u00f3n")};c.getCouponCodeCancelText=function(){return g._("Cancelar")};c.getCouponCodeSaveText=function(){return g._("Solicitar")};c.getCouponCodeRemoveText=function(){return g._("Eliminar")};c.getCouponCodeErrorMessage=function(){return g._("El cup\u00f3n proporcionado no es v\u00e1lido.")};return b}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsCouponCodeViewV2.react",["cx","FBPaymentsCouponCodeViewV2Base.react","FBPaymentsFormField.react","FBPaymentsToastView.react","FDSText.react","React","ShimButton.react","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$FBPaymentsCouponCodeViewV21=function(){return b("React").createElement(b("ShimButton.react"),{className:"_69gb _69gc","data-testid":"coupon_code_action",onClick:this.props.onActionButtonClick},b("React").createElement(b("FDSText.react"),{size:"body1",color:"highlight",display:"block"},this.getActionButtonText()))};d.$FBPaymentsCouponCodeViewV22=function(){var a;a=this.props.isApplied&&!this.props.isCouponValid?b("React").createElement(b("FBPaymentsToastView.react"),{text:(a=this.props.message)!=null?a:this.getCouponCodeErrorMessage(),type:"user_level_error",visible:!0}):null;return b("React").createElement("div",null,b("React").createElement("div",{className:"_69gd _69gc _69lh"+(!this.props.isCouponValid&&this.props.message!=null?" _69li":"")},b("React").createElement(b("FBPaymentsFormField.react"),{className:"_3vg0","data-testid":"coupon_code_field",enableFloatingLabel:!1,hideBorder:!0,name:"couponCode",initiallyFocused:!0,onChange:this.props.onInputChange,placeholder:this.getPlaceholderText(),showHardError:!1,value:this.props.couponCode===null?void 0:this.props.couponCode}),b("React").createElement(b("ShimButton.react"),{className:"_69ge _69gb","data-testid":"coupon_code_cancel_button",onClick:this.props.onCancelClick},b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3"},this.getCouponCodeCancelText())),b("React").createElement(b("ShimButton.react"),{className:"_69ge _69gb","data-testid":"coupon_code_apply_button",onClick:this.props.isReadyToSave?this.props.onSaveClick:void 0},b("React").createElement(b("FDSText.react"),{color:this.props.isReadyToSave?"highlight":"disabled",display:"block",size:"body3"},this.getCouponCodeSaveText()))),a)};d.$FBPaymentsCouponCodeViewV23=function(){var a;return(a=b("React")).createElement("div",{className:"_69gd _69gc _69lj"},a.createElement("div",{className:"_69lk"},a.createElement(b("FDSText.react"),{color:"primary",display:"block",size:"body2"},this.props.couponCode),a.createElement(b("FDSText.react"),{color:"positive",display:"block",size:"body3"},this.props.message)),a.createElement(b("ShimButton.react"),{className:"_69ge _69gb","data-testid":"coupon_code_remove_button",onClick:this.props.onRemoveClick},a.createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3"},this.getCouponCodeRemoveText())))};d.$FBPaymentsCouponCodeViewV24=function(){if(this.props.isLoading)return b("React").createElement("div",{className:"_2ph_ _75n3"},b("React").createElement(b("XUISpinner.react"),{size:"small"}));else if(this.props.isApplied&&this.props.isCouponValid)return this.$FBPaymentsCouponCodeViewV23();else if(this.props.isFormFieldDisplayed)return this.$FBPaymentsCouponCodeViewV22();else return this.$FBPaymentsCouponCodeViewV21()};d.render=function(){return b("React").createElement("div",{className:"_3itb"},this.$FBPaymentsCouponCodeViewV24())};return c}(b("FBPaymentsCouponCodeViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsCustomOptionsExtension",["invariant","FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCustomOptionsActions","FBPaymentsCustomOptionsExtensionStore","FBPaymentsLoggerConstants","FluxContainer","React","guid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBPaymentsCheckoutConstants").CollectedDataKey,i=b("FBPaymentsCheckoutConstants").Extensions,j=b("FBPaymentsLoggerConstants").LoggerEvent,k=b("FBPaymentsLoggerConstants").LoggerFlowStep,l="custom_",m="price";function a(a,c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(){__p&&__p();var a,c;for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return(a=c=e.call.apply(e,[this].concat(f))||this,c.state={configuration:null,customOptionFormData:null,isCustomOptionFormValid:!1,selectedOptionID:null,showForm:!1,showHardError:!1},c.handleCustomOptionClick=function(a){b("FBPaymentsCustomOptionsActions").customOptionSelected({selectedOptionID:a}),c.props.logger.setFlowStep(c.$1()).setEventName(j.CLICK).addToExtraData("selected_option_id",a).log()},c.handleCustomOptionRowClicked=function(){b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:i.CUSTOM_OPTIONS,active:!0}),c.props.logger.setFlowStep(c.$1()).setEventName(j.INIT).log()},c.handleCancelActiveStateClick=function(){b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:i.CUSTOM_OPTIONS,active:!1}),c.props.logger.setFlowStep(c.$1()).setEventName(j.CANCEL).log()},c.handleAddCustomOptionClick=function(){b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:i.CUSTOM_OPTIONS,active:!0}),b("FBPaymentsCustomOptionsActions").addCustomOptionClick(),c.props.logger.setFlowStep(k.ADD_CUSTOM_OPTION).setEventName(j.INIT).log()},c.handleNewCustomOptionFormDataChange=function(a,d){b("FBPaymentsCustomOptionsActions").newCustomOptionFormDataChange({customOptionFormData:a,isCustomOptionFormValid:d}),d||c.props.logger.setFlowStep(k.ADD_CUSTOM_OPTION).setEventName(j.CLICK).addToExtraData("form_data",JSON.stringify(a)).addToExtraData("isInvalid","true").log()},c.handleRemoveCustomOptionClick=function(){var a=c.state.configuration;if(!a)return;var b=a.options;b.length===1&&b[0].optionId.startsWith(l)&&(b.pop(),c.setState({configuration:a}))},c.handleSaveNewCustomOption=function(){__p&&__p();var a=c.state.configuration;if(!a){c.$2(k.ADD_CUSTOM_OPTION);return}var d=a.customOption||{},e=d.formFields,f=c.state.customOptionFormData;e&&f||g(0,4982);var h=f.title;f=f.price;var n;if(f){e=e.get(m);e&&e.currency||g(0,4983);n={currency:e.currency,amount:f}}e={optionId:l+b("guid")(),optionPrice:n,optionPriceList:[{label:d.priceLabel||"",price:n}],optionTitle:h};a.options.push(e);b("FBPaymentsCustomOptionsActions").saveNewCustomOption({newOption:e,newOptionsExtensionConfig:a});b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:i.CUSTOM_OPTIONS,active:!1});c.props.logger.setFlowStep(k.ADD_CUSTOM_OPTION).setEventName(j.SAVE_CLICK).addToExtraData("new_option",JSON.stringify(e)).log()},a)||babelHelpers.assertThisInitialized(c)}d.getStores=function(){return[c,b("FBPaymentsCustomOptionsExtensionStore"),b("FBPaymentsCheckoutConfigurationStore")]};d.calculateState=function(a,d){a=b("FBPaymentsCheckoutConfigurationStore").getCustomOptionsExtensionConfig();d=d.extensionConfiguration.identifier;d=c.getShowHardErrorOnExtension(d);var e=b("FBPaymentsCustomOptionsExtensionStore").getState();a={configuration:a,selectedOptionID:(a=e.selectedOption)!=null?a.optionId:a,showHardError:d,customOptionFormData:e.customOptionFormData,isCustomOptionFormValid:e.isCustomOptionFormValid,showForm:e.showForm};return a};var f=d.prototype;f.$1=function(){var a;return((a=this.state.configuration)==null?void 0:a.collectedDataKey)===h.SHIPPING_OPTION?k.SELECT_SHIPPING_OPTION:k.SELECT_CUSTOM_OPTION};f.$2=function(a){this.props.logger.setFlowStep(a).setEventName(j.INIT).addToExtraData("error","extension config is null").log()};f.render=function(){var c=this.state.configuration;if(!c){this.$2(this.$1());return null}return b("React").createElement(a,{configuration:c,isActive:this.props.isActive,isCustomOptionFormSaveEnabled:this.state.isCustomOptionFormValid,onAddCustomOptionClick:this.handleAddCustomOptionClick,onCancelActiveStateClick:this.handleCancelActiveStateClick,onCustomOptionClick:this.handleCustomOptionClick,onCustomOptionFormDataChange:this.handleNewCustomOptionFormDataChange,onRemoveCustomOptionClick:this.handleRemoveCustomOptionClick,onRowClicked:this.handleCustomOptionRowClicked,onSaveNewCustomOption:this.handleSaveNewCustomOption,selectedOptionID:this.state.selectedOptionID,showForm:this.state.showForm,showHardError:this.state.showHardError})};return d}(b("React").PureComponent);return b("FluxContainer").create(d,{withProps:!0})}e.exports={create:a}}),null);
__d("FBPaymentsCustomOptionsViewV2Base.react",["fbt","FBPaymentsPriceListHelper","PECurrency","PECurrency.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PECurrency").DEFAULT_AMOUNT_OFFSET;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.ADD_CUSTOM_OPTION_KEY="add_custom_option",b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.shouldShowErrorMessage=function(){return this.props.showHardError};d.getBackButtonText=function(){return g._("Atr\u00e1s")};d.getAddButtonLabel=function(){return g._("A\u00f1adir")};d.getHardErrorMessage=function(){return g._("Introduce una opci\u00f3n v\u00e1lida.")};d.getFreePriceText=function(){return g._("Gratis")};d.getDefaultTitle=function(){return g._("M\u00e9todo de entrega")};d.getOptionPrice=function(a){__p&&__p();var c=a.optionPriceList;a=a.optionPrice;if(c)c=b("FBPaymentsPriceListHelper").calculateTotal(c);else if(a)c={currency:a.currency,amount:Number(a.amount)};else return null;a=((a=c)!=null?a.currency:a)||"USD";c=((c=c)!=null?c.amount:c)||0;return c===0?this.getFreePriceText():b("React").createElement(b("PECurrency.react"),{code:a,showSymbol:!0,value:h*c})};return c}(b("React").Component);e.exports=a}),null);
__d("FBPaymentsCustomOptionsViewV2.react",["cx","fbt","invariant","FBPaymentsAddButton.react","FBPaymentsCustomForm.react","FBPaymentsCustomOptionsViewV2Base.react","FDSButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorSeparator.react","FDSText.react","FlexLayout.react","LeftRight.react","Link.react","React","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j="custom_";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleSelectorChange=function(a,b){if(a===d.ADD_CUSTOM_OPTION_KEY){d.props.onAddCustomOptionClick();return}b=a;d.props.onCustomOptionClick(b)},d.renderSelectorOptionItem=function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:a.optionId,value:a.optionId,description:a.optionDescription},d.renderOptionItem(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.isCustomOption=function(a){return a.optionId.startsWith(j)};d.renderOptionItem=function(a){var c=this.getOptionPrice(a);if(!c)return a.optionTitle;c=b("React").createElement(b("FlexLayout.react"),{justify:"all"},b("React").createElement(b("FDSText.react"),{margin:"_3-91",size:"meta1"},a.optionTitle," "),b("React").createElement(b("FDSText.react"),{color:"positive",size:"meta1"},this.getOptionPrice(a)));return c};d.renderAddCustomOptionButton=function(){var a=this.props.configuration.customOption;return!a?null:b("React").createElement(b("FBPaymentsAddButton.react"),{"data-testid":"custom_options_add_button",label:a.actionableTitle||"",onClick:this.props.onAddCustomOptionClick})};d.renderAddCustomOptionListItems=function(){var a=this.props.configuration.customOption;return!a?null:[b("React").createElement(b("FDSDropdownSelectorSeparator.react"),{key:"separator"}),b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:this.ADD_CUSTOM_OPTION_KEY,value:this.ADD_CUSTOM_OPTION_KEY},b("React").createElement(b("FDSText.react"),{color:"highlight"},a.actionableTitle||""))]};d.renderCustomOptionForm=function(){var a=this.props.configuration.customOption;a||i(0,35);var c=h._("Indica un m\u00e9todo de env\u00edo.");return b("React").createElement("div",null,b("React").createElement("div",{className:"_2pie"},b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-96",size:"meta1",weight:"bold"},a.title),b("React").createElement(b("FBPaymentsCustomForm.react"),{customNonEmptyErrorMessage:c,fields:Array.from(a.formFields.values()),onChange:this.props.onCustomOptionFormDataChange}),b("React").createElement(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-96",size:"meta1"},a.disclaimer)),b("React").createElement("div",{className:"_52jw"},b("React").createElement(b("FDSButton.react"),{"data-testid":"custom_options_cancel_button",label:this.getBackButtonText(),margin:"_3-91",onClick:this.props.onCancelActiveStateClick}),b("React").createElement(b("FDSButton.react"),{"data-testid":"custom_options_save_button",isDisabled:!this.props.isCustomOptionFormSaveEnabled,label:this.getAddButtonLabel(),onClick:this.props.onSaveNewCustomOption,use:"primary"})))};d.renderCustomOptionList=function(){__p&&__p();var a=!!this.props.configuration.customOption,c=this.props.configuration.options;if(a)if(c.length===0)return this.renderAddCustomOptionButton();else if(c.length===1&&this.isCustomOption(c[0]))return this.renderCustomOptionText(c[0]);a=c.map(this.renderSelectorOptionItem);c=this.renderAddCustomOptionListItems();c&&(a=a.concat(c));return b("React").createElement(b("FDSDropdownSelector.react"),{buttonUse:"default",dropdownWidth:"sameAsSelector","data-testid":"custom_options_dropdown_selector",onChange:this.handleSelectorChange,placeholder:this.props.configuration.actionableTitle||"",value:this.props.selectedOptionID,width:"100%"},a)};d.renderCustomOptionText=function(a){var c;return(c=b("React")).createElement(b("LeftRight.react"),null,c.createElement(b("FDSText.react"),{display:"block",size:"meta1"},a.optionTitle),c.createElement(b("Link.react"),{onClick:this.props.onRemoveCustomOptionClick},c.createElement(b("FDSText.react"),{size:"meta1"},h._("Eliminar"))))};d.render=function(){return this.props.isActive&&this.props.showForm?this.renderCustomOptionForm():b("React").createElement("div",{className:"_3itb"},b("React").createElement(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-95",size:"body3"},this.props.configuration.title||this.getDefaultTitle()),this.renderCustomOptionList())};return c}(b("FBPaymentsCustomOptionsViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsExtensionV2ManagerBase",["FBPaymentsCheckoutConstants","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCheckoutConstants").Extensions;a=function(){__p&&__p();function a(){}var c=a.prototype;c.getExtensionContainer=function(a){if(!g[a])throw Error("Non-existent payments extension "+a);var b=this.__getExtensionMap().get(a);if(!b)throw Error("Unimplemented payments extension "+a);return b};c.__getExtensionMap=function(){return b("abstractMethod")("FBPaymentsExtensionV2ManagerBase","__getExtensionMap")};return a}();e.exports=a}),null);
__d("FBPaymentsFreeTrialExtension",["FBPaymentsFreeTrialExtensionStore","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=function(d){__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){return d.apply(this,arguments)||this}c.getStores=function(){return[b("FBPaymentsFreeTrialExtensionStore")]};c.calculateState=function(){var a=b("FBPaymentsFreeTrialExtensionStore").getState().freeTrialExtensionConfig,c=a.formattedDescription,d=a.nextBillTime,e=a.subscriptionFrequency,f=a.subscriptionPrice,g=a.trialFrequency;a=a.trialPeriod;return{formattedDescription:c,nextBillTime:d,subscriptionFrequency:e,subscriptionPrice:f,trialFrequency:g,trialPeriod:a}};var e=c.prototype;e.render=function(){return b("React").createElement(a,this.state)};return c}(b("React").PureComponent);return b("FluxContainer").create(c)}e.exports={create:a}}),null);
__d("FBPaymentsFreeTrialViewBase.react",["React"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsFreeTrialView.react",["cx","FBPaymentsFreeTrialViewBase.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_7mqh"},b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",margin:"_3-8j"},this.props.formattedDescription))};return c}(b("FBPaymentsFreeTrialViewBase.react"));e.exports=a}),null);
__d("FBPaymentsFrequencySelectorExtension",["fbt","invariant","BillingAgreementType","FBPaymentsFrequencySelectorActions","FBPaymentsFrequencySelectorExtensionStore","FBPaymentsLoggerConstants","FluxContainer","React","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FBPaymentsLoggerConstants").LoggerEvent,j=b("FBPaymentsLoggerConstants").LoggerFlowStep;function a(a){__p&&__p();var c=function(d){__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){var a,c;for(var e=arguments.length,f=new Array(e),k=0;k<e;k++)f[k]=arguments[k];return(a=c=d.call.apply(d,[this].concat(f))||this,c.DEFAULT_SUBSCRIPTION_PERIOD=1,c.DEFAULT_FREQUENCIES=[{label:g._("Donaci\u00f3n \u00fanica"),period:0,type:null}].concat(b("gkx")("676859")?[{label:g._("Donaci\u00f3n diaria"),period:c.DEFAULT_SUBSCRIPTION_PERIOD,type:b("BillingAgreementType").DAILY}]:[],[{label:g._("Donaci\u00f3n mensual"),period:c.DEFAULT_SUBSCRIPTION_PERIOD,type:b("BillingAgreementType").MONTHLY}]),c.$1=function(a){c.state.frequencyOptions!=null||h(0,14212);var d=c.state.frequencyOptions[a];b("FBPaymentsFrequencySelectorActions").frequencySelectorOptionClick({index:a,selectedOption:d});c.props.logger.setFlowStep(j.SELECT_FREQUENCY).setEventName(i.CLICK).updateExtraData({selected_frequency_option_type:d==null?void 0:d.type}).log()},a)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("FBPaymentsFrequencySelectorExtensionStore")]};c.calculateState=function(){var a=b("FBPaymentsFrequencySelectorExtensionStore").getState();return{frequencyOptions:a.frequencyOptions,selectedIndex:a.selectedIndex,selectedOption:a.selectedOption,showDAFDisclaimer:a.showDAFDisclaimer}};var e=c.prototype;e.componentDidMount=function(){this.props.isUsingUpdateCheckoutInfoAPI||b("FBPaymentsFrequencySelectorActions").frequencySelectorLoaded(this.DEFAULT_FREQUENCIES),this.props.logger.setFlowStep(j.SELECT_FREQUENCY).setEventName(i.INIT).log()};e.render=function(){var c;c=(c=(c=this.props)==null?void 0:(c=c.checkoutExtraProps)==null?void 0:c.showDAFDisclaimer)!=null?c:this.state.showDAFDisclaimer;return b("React").createElement(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,onFrequencyOptionClick:this.$1,showDAFDisclaimer:c}))};return c}(b("React").PureComponent);return b("FluxContainer").create(c)}e.exports={create:a}}),null);
__d("FBPaymentsButtonGroup.react",["cx","FDSButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.children||[],d=b("React").Children.map(c,function(d,e){var f=0,g=b("React").Children.toArray(c).length-1,h=a.props.reverseLastIndex&&e===g?-1:e,i=a.props.selectedIndex===h,j=["top","bottom","right"],k=[];e===f?(j.push("left"),k.push("topLeft","bottomLeft")):e===g&&k.push("topRight","bottomRight");f={borderedSides:j,onClick:function(){a.props.onSelectedButtonChange&&a.props.onSelectedButtonChange(h)},roundedCorners:k,use:i?"primary":"default"};return b("React").cloneElement(d,f)},this);return b("React").createElement("div",{className:"_3bev"},d)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsFrequencySelectorViewV2Base.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getFrequencySelectorTitle=function(){var a=this.props.frequencySelectorConfiguration;return a&&a.title||g._("Frecuencia de la donaci\u00f3n")};c.getFrequencySelectorAdditionalString=function(){var a;return((a=this.props)==null?void 0:a.showDAFDisclaimer)?g._("Las donaciones mensuales se entregar\u00e1n a la organizaci\u00f3n sin \u00e1nimo de lucro a trav\u00e9s de Network for Good."):g._("Las donaciones mensuales se entregar\u00e1n directamente a la organizaci\u00f3n sin \u00e1nimo de lucro.")};return b}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsFrequencySelectorViewV2.react",["cx","FBPaymentsButtonGroup.react","FBPaymentsFrequencySelectorViewV2Base.react","FDSButton.react","FDSSpinner.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$FBPaymentsFrequencySelectorViewV21=function(){if(!this.props.frequencyOptions)return b("React").createElement(b("FDSSpinner.react"),null);else return b("React").createElement(b("FBPaymentsButtonGroup.react"),{onSelectedButtonChange:this.props.onFrequencyOptionClick,selectedIndex:this.props.selectedIndex},this.props.frequencyOptions.map(function(a,c){return b("React").createElement(b("FDSButton.react"),{key:c,label:a.label,style:{flex:"1"}})}))};d.render=function(){return b("React").createElement("div",{className:"_3itb _2pip"},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-95",size:"body2"},this.getFrequencySelectorTitle()),this.$FBPaymentsFrequencySelectorViewV21(),this.props.selectedIndex===0?null:b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8x",size:"meta1"},this.getFrequencySelectorAdditionalString()))};return c}(b("FBPaymentsFrequencySelectorViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsMailingAddressSelectorViewV2Base.react",["fbt","React","qex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.showUpdatedAddressForm=function(){var a;return(a=b("qex")._("858284"))!=null?a:!1};d.shouldHideExtension=function(){return this.props.isExtensionHidden};d.shouldShowErrorMessage=function(){return this.props.showHardError};d.getBackButtonText=function(){return g._("Atr\u00e1s")};d.getCancelButtonText=function(){return g._("Cancelar")};d.getEditButtonText=function(){return g._("Editar")};d.getHardErrorMessage=function(){return this.props.mailingAddresses.isEmpty()?g._("A\u00f1ade una direcci\u00f3n."):g._("Selecciona una direcci\u00f3n v\u00e1lida.")};d.getSaveButtonText=function(){return g._("Guardar")};d.getContinueButtonText=function(){return g._("Continuar")};d.getSaveSuggestedButtonText=function(){return g._("Save This Address")};d.getEditEnteredButtonText=function(){return g._("Edit This Address")};d.getDeliveryInformationLabel=function(){var a=this.props.customContent,b=a&&a.extensionLabel;return a&&b===null?null:b||g._("Informaci\u00f3n de entrega")};d.getMailingAddressLabel=function(){var a=this.props.customContent,b=a&&a.addressLabel;return a&&b===null?null:b||g._("Direcci\u00f3n de entrega")};d.getAddMailingAddressNUXLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.addAddressNuxCta:a:a)||g._("A\u00f1adir direcci\u00f3n")};d.getAddMailingAddressLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.addAddressPuxCta:a:a)||g._("A\u00f1adir nueva direcci\u00f3n")};d.getSelectMailingAddressLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.selectAddressPuxCta:a:a)||g._("Seleccionar direcci\u00f3n")};d.getAddAddressTitle=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.formTitle:a:a)||g._("Nueva direcci\u00f3n")};d.getEditAddressTitle=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.formTitle:a:a)||g._("Editar direcci\u00f3n")};d.getSuggestedAddressHeader=function(){return g._("Direcci\u00f3n sugerida")};d.getEnteredAddressHeader=function(){return g._("Entered Address")};d.getVerifyAddressHeader=function(){return g._("Verify Your Address")};d.getVerifyAddressMessage=function(){return g._("We couldn't verify the address you entered. You can save our suggested address or edit the address you entered.")};d.getShippingAddressMessage=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.formFooterMessage:a:a)||g._("Tu direcci\u00f3n se guarda de forma segura y solo se comparte con el vendedor al que realizas la compra.")};return c}(b("React").Component);e.exports=a}),null);
__d("FBPaymentsMailingAddressSelectorViewV2",["cx","invariant","DOMScroll","FBPaymentsCustomAddressForm.react","FBPaymentsLoadingView.react","FBPaymentsLoggerConstants","FBPaymentsMailingAddressSelectorViewV2Base.react","FBPaymentsSimpleExtensionView.react","FBPaymentsToastView.react","FBPaymentsUserFacingErrorNotice.react","FBPaymentsUserFacingErrorParser","FDSButton.react","FDSDivider.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSText.react","FlexLayout.react","FlexLayoutItem.react","React","ShimButton.react","XUINotice.react","cssLength","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FBPaymentsLoggerConstants").LoggerEvent,j=b("FBPaymentsLoggerConstants").LoggerFlowStep,k="new_address";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleSelectorChange=function(a,b){a===k?d.props.onAddMailingAddressClick():d.props.onMailingAddressClick(a)},d.$FBPaymentsMailingAddressSelectorViewV21=function(a){d.props.onEditMailingAddressClick(a)},d.$FBPaymentsMailingAddressSelectorViewV22=function(){d.props.logger.setFlowStep(j.SELECT_SHIPPING_ADDRESS).setEventName(i.DISPLAY).log()},d.$FBPaymentsMailingAddressSelectorViewV24=function(){var a=d.props.selectedEditAddress?j.EDIT_SHIPPING_ADDRESS:j.ADD_SHIPPING_ADDRESS;d.props.onCancelActiveStateClick(a)},d.renderMailingAddressSelectorOptionItem=function(a){var c,e=(c=b("React")).createElement(b("FlexLayoutItem.react"),{shrink:0},c.createElement(b("FlexLayout.react"),{direction:"horizontal",justify:"center"},c.createElement(l,{buttonText:d.getEditButtonText(),mailingAddressId:a.id,onClick:d.$FBPaymentsMailingAddressSelectorViewV21})));return c.createElement(b("FDSDropdownSelectorOption.react"),{key:a.id,value:a.id},c.createElement(b("FlexLayout.react"),{className:"_6y8h"},c.createElement(b("FlexLayoutItem.react"),{grow:1,className:"_6y8i"},c.createElement("div",{className:"_6y8j _6y8k"},a.addressee),c.createElement("div",{className:"_6y8j _6y8l"},a.getSingleLineAddressWithoutName())),e))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){!a.saveErrors&&this.props.saveErrors&&b("DOMScroll").scrollToTop(!0)};d.$FBPaymentsMailingAddressSelectorViewV23=function(){__p&&__p();var a,c=this.props.saveErrors;if(!c)return null;a=((a=c)!=null?(a=a.general)!=null?a.message:a:a)||c.message;if(a)return b("React").createElement(b("XUINotice.react"),{className:"_3-96",use:"warn"},a);a=c.errorCode;if(a){a=c.errorTitle;var d=c.errorDescription,e=c.flowStep,f=c.imageType;c=b("FBPaymentsUserFacingErrorParser").generateCtaWithHandler(c,this.props.onContactSupportClick);return b("React").createElement(b("FBPaymentsUserFacingErrorNotice.react"),{callToAction:c,className:"_3-96",description:d,flowStep:e,logger:this.props.logger,title:a,use:f})}return null};d.renderMailingAddressForm=function(){if(this.showUpdatedAddressForm())return this.renderUpdatedMailingAddressForm();var a=this.props,c=a.addressFormConfig,d=a.enteredAddress,e=a.isNewAddressValid,f=a.isSaving,g=a.onAddressFormChanged,h=a.onSaveEditAddress,i=a.onSaveNewAddress,j=a.paymentType,k=a.selectedEditAddress,l=a.showUpfrontAddressCollection;a=a.userGeoCountry;g=b("React").createElement("div",null,this.$FBPaymentsMailingAddressSelectorViewV23(),b("React").createElement(b("FBPaymentsCustomAddressForm.react"),{config:c,disableAutoConfigFetch:!0,onChange:g,paymentType:j,prefilledAddressData:(c=d)!=null?c:k,userGeoCountry:a}));j=l?null:b("React").createElement(b("FDSButton.react"),{label:this.getCancelButtonText(),margin:"_3-90",onClick:this.$FBPaymentsMailingAddressSelectorViewV24,size:"large"});d=b("React").createElement(b("FDSButton.react"),{isDisabled:!e||f,label:l?this.getContinueButtonText():this.getSaveButtonText(),onClick:k?h:i,size:"large",use:"primary"});return b("React").createElement("div",{className:"_1jnq"},b("React").createElement(b("FBPaymentsLoadingView.react"),{overlay:!0,showLockSpinner:!0,visible:f}),b("React").createElement("div",{className:"_1j8c"},b("React").createElement("div",{className:"_2pi4"},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",size:"meta1",weight:"bold"},k?this.getEditAddressTitle():this.getAddAddressTitle()),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8w",size:"meta1"},this.getShippingAddressMessage())),b("React").createElement("div",{className:"_3yor"},g)),b("React").createElement("div",{className:"_52jw _2ph_"},j,d))};d.renderUpdatedMailingAddressForm=function(){var a=this.props,c=a.addressFormConfig,d=a.isNewAddressValid,e=a.isSaving,f=a.logger,g=a.onAddressFormChanged,h=a.onSaveEditAddress,i=a.onSaveNewAddress,j=a.paymentType,k=a.selectedEditAddress,l=a.showUpfrontAddressCollection;a=a.userGeoCountry;c=b("React").createElement("div",{className:"_2pie"},this.$FBPaymentsMailingAddressSelectorViewV23(),b("React").createElement(b("FBPaymentsCustomAddressForm.react"),{config:c,disableAutoConfigFetch:!0,enableFloatingLabels:!0,enableTypeaheadExperiment:!0,logger:f,onChange:g,paymentType:j,prefilledAddressData:k,userGeoCountry:a}));f=k?this.getEditAddressTitle():this.getAddAddressTitle();g=l?this.getContinueButtonText():this.getSaveButtonText();j=b("React").createElement(b("FDSButton.react"),{label:this.getCancelButtonText(),onClick:this.$FBPaymentsMailingAddressSelectorViewV24,size:"large",width:"100%"});a=b("React").createElement(b("FDSButton.react"),{isDisabled:!d||e,label:g,onClick:k?h:i,size:"large",use:"primary",width:"100%"});d=b("React").createElement(b("FlexLayout.react"),{className:"_2pi4"},l?a:b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FlexLayoutItem.react"),{basis:b("cssLength")("0"),className:"_2pih",grow:1},j),b("React").createElement(b("FlexLayoutItem.react"),{basis:b("cssLength")("0"),className:"_2pir",grow:1},a)));return b("React").createElement("div",{className:"_1jnq _2pi9"},b("React").createElement(b("FBPaymentsLoadingView.react"),{overlay:!0,showLockSpinner:!0,visible:e}),b("React").createElement("div",{className:"_1j8c"},b("React").createElement("div",{className:"_2pid"},b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"header4",weight:"bold"},f)),c,b("React").createElement(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-8w",size:"meta1"},this.getShippingAddressMessage()),d))};d.renderSuggestedAddressView=function(){var a=this.props,c=a.enteredAddress,d=a.isSaving,e=a.onCancelSuggestedAddress,f=a.onSaveSuggestedAddress;a=a.suggestedAddress;a!=null&&c!=null||h(0,13933);f=b("React").createElement(b("FDSButton.react"),{isDisabled:d,label:this.getSaveSuggestedButtonText(),onClick:f,size:"large",use:"primary",width:"100%"});e=b("React").createElement(b("FDSButton.react"),{isDisabled:d,label:this.getEditEnteredButtonText(),onClick:e,size:"large",width:"100%"});return b("React").createElement("div",{className:"_1jnq"},b("React").createElement(b("FBPaymentsLoadingView.react"),{overlay:!0,showLockSpinner:!0,visible:d}),b("React").createElement("div",{className:"_1j8c"},b("React").createElement("div",{className:"_2pi4"},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",size:"meta1",weight:"bold"},this.getVerifyAddressHeader()),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8m",size:"meta1"},this.getVerifyAddressMessage())),b("React").createElement(b("FlexLayout.react"),{className:"_7ody"},b("React").createElement(b("FlexLayoutItem.react"),{grow:1},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"meta1",weight:"bold"},this.getSuggestedAddressHeader()),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1"},a.getMultiLineAddressWithName())),b("React").createElement(b("FlexLayoutItem.react"),{align:"center",shrink:0},f)),b("React").createElement(b("FlexLayout.react"),{className:"_7ody _3-8y"},b("React").createElement(b("FlexLayoutItem.react"),{grow:1},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"meta1",weight:"bold"},this.getEnteredAddressHeader()),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1"},c.getMultiLineAddressWithName())),b("React").createElement(b("FlexLayoutItem.react"),{align:"center",shrink:0},e))))};d.renderAddAddressListItems=function(){return[b("React").createElement(b("FDSDivider.react"),{key:"address_list_item_divider",margin:"_4jnw"}),b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:k,value:k},b("React").createElement(b("FDSText.react"),{color:"highlight",margin:"_3-8n"},this.getAddMailingAddressLabel()))]};d.renderMailingAddressesDropdown=function(){var a=this.props,c=a.onAddMailingAddressClick,d=a.mailingAddresses;a=a.selectedAddress;if(d.isEmpty())return b("React").createElement(b("FDSButton.react"),{label:b("React").createElement(b("FDSText.react"),{color:"highlight"},this.getAddMailingAddressNUXLabel()),margin:"_3-96",onClick:function(){c()},use:"default",width:"100%"});d=d.map(this.renderMailingAddressSelectorOptionItem).concat(this.renderAddAddressListItems());var e=a?a.getSingleLineAddressWithName():this.getSelectMailingAddressLabel();return b("React").createElement(b("FDSDropdownSelector.react"),{buttonUse:"default",dropdownWidth:"sameAsSelector",label:e,margin:"_3-96",onChange:this.handleSelectorChange,onOpen:this.$FBPaymentsMailingAddressSelectorViewV22,value:a==null?void 0:a.id,width:"100%"},d.toArray())};d.render=function(){if(this.shouldHideExtension())return null;if(this.props.showUpfrontAddressCollection||this.props.isActive)return this.props.suggestedAddress!==null?this.renderSuggestedAddressView():this.renderMailingAddressForm();var a=this.getMailingAddressLabel()?b("React").createElement(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-95",size:"body3"},this.getMailingAddressLabel()):null;return b("React").createElement(b("FBPaymentsSimpleExtensionView.react"),{title:this.getDeliveryInformationLabel()},b("React").createElement(b("FBPaymentsToastView.react"),{className:"_2pim",focusOnVisible:this.shouldShowErrorMessage(),padding:"none",text:this.getHardErrorMessage(),type:"user_level_error",visible:this.shouldShowErrorMessage()}),a,this.renderMailingAddressesDropdown())};return c}(b("FBPaymentsMailingAddressSelectorViewV2Base.react"));function l(a){var c=function(b){b.stopPropagation(),a.onClick(a.mailingAddressId)};return b("React").createElement(b("ShimButton.react"),{className:"_6yc9",onClick:c},a.buttonText)}e.exports=a}),null);
__d("FBPaymentsNationalitySelectorViewV2Base.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getNationalitySelectorTitle=function(){var a=this.props.nationalitySelectorConfiguration;return a&&a.title||g._("Citizenship")};c.getNationalitySelectorAdditionalString=function(){var a;return((a=this.props)==null?void 0:a.showNationalityDisclaimer)?g._("Sub text for nationality selector - isCitizen."):g._("Sub text for nationality selector - !isCitizen.")};return b}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsNationalitySelectorExtension",["fbt","FBPaymentsNationalitySelectorActions","FBPaymentsNationalitySelectorExtensionStore","FBPaymentsNationalitySelectorViewV2Base.react","FluxContainer","React"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){__p&&__p();var c=function(d){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){var a,b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(a=b=d.call.apply(d,[this].concat(e))||this,b.DEFAULT_NATIONALITY_OPTION=!0,b.DEFAULT_NATIONALITIES=[{label:g._("Indian"),isCitizen:b.DEFAULT_NATIONALITY_OPTION},{label:g._("Non-Indian"),isCitizen:!1}],a)||babelHelpers.assertThisInitialized(b)}c.getStores=function(){return[b("FBPaymentsNationalitySelectorExtensionStore")]};c.calculateState=function(){var a=b("FBPaymentsNationalitySelectorExtensionStore").getState();return{nationalityOptions:a.nationalityOptions,selectedIndex:a.selectedIndex,selectedOption:a.selectedOption,showNationalityDisclaimer:a.showNationalityDisclaimer}};var e=c.prototype;e.componentDidMount=function(){this.props.isUsingUpdateCheckoutInfoAPI||b("FBPaymentsNationalitySelectorActions").nationalitySelectorLoaded(this.DEFAULT_NATIONALITIES)};e.render=function(){var c;c=(c=(c=this.props)==null?void 0:(c=c.checkoutExtraProps)==null?void 0:c.showNationalityDisclaimer)!=null?c:this.state.showNationalityDisclaimer;return b("React").createElement(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,showNationalityDisclaimer:c}))};return c}(b("React").PureComponent);return b("FluxContainer").create(c)}e.exports={create:a}}),null);
__d("FBPaymentsNationalitySelectorViewV2.react",["cx","FBPaymentsButtonGroup.react","FBPaymentsNationalitySelectorViewV2Base.react","FDSButton.react","FDSSpinner.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$FBPaymentsNationalitySelectorViewV21=function(){if(!this.props.nationalityOptions)return b("React").createElement(b("FDSSpinner.react"),null);else return b("React").createElement(b("FBPaymentsButtonGroup.react"),{selectedIndex:this.props.selectedIndex},this.props.nationalityOptions.map(function(a,c){return b("React").createElement(b("FDSButton.react"),{key:c,label:a.label,style:{flex:"1"}})}))};d.render=function(){return b("React").createElement("div",{className:"_3itb _2pip"},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-95",size:"body2"},this.getNationalitySelectorTitle()),this.$FBPaymentsNationalitySelectorViewV21(),this.props.selectedIndex===0?null:b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8x",size:"meta1"},this.getNationalitySelectorAdditionalString()))};return c}(b("FBPaymentsNationalitySelectorViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsPINVerificationExtension",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","FBPaymentsDispatcher","FBPaymentsPINActions","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCheckoutConstants").Extensions;function a(a,c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(){var a,b;for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];return(a=b=e.call.apply(e,[this].concat(d))||this,b.state={needVerification:!1,pin:null,verified:!1},a)||babelHelpers.assertThisInitialized(b)}var f=d.prototype;f.componentDidMount=function(){b("FBPaymentsDispatcher").explicitlyRegisterStore(a),b("FBPaymentsPINActions").fetchPINSettings()};d.getStores=function(){return[a]};d.calculateState=function(b){b=babelHelpers["extends"]({},b);var c=a.getState();b.needVerification=c.needVerification;b.pin=c.pin;b.verified=c.verified;return b};f.$1=function(a){b("FBPaymentsPINActions").pinValidated(a)};f.$2=function(){var a={active:!1,extensionName:g.PIN_VERIFICATION};b("FBPaymentsCheckoutActions").requestActiveExtensionForVerification(a)};f.render=function(){return b("React").createElement(c,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isActiveForVerification:this.props.isActiveForVerification,onCancelActiveForVerificationClick:this.$2,onPINEnter:this.$1}))};return d}(b("React").PureComponent);return b("FluxContainer").create(d)}e.exports={create:a}}),null);
__d("FBPaymentsPINVerificationViewV2Base.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getBackButtonText=function(){return g._("Atr\u00e1s")};return b}(b("React").Component);c.propTypes={isActive:a.bool.isRequired,isActiveForVerification:a.bool.isRequired,onCancelActiveForVerificationClick:a.func.isRequired,onPINEnter:a.func.isRequired};e.exports=c}),null);
__d("FBPaymentsPINVerificationViewV2.react",["FBPaymentsPINConstants","FBPaymentsPINFlowContainerV2.react","FBPaymentsPINVerificationViewV2Base.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsPINConstants").PIN_FLOW_TYPES;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return this.props.isActiveForVerification?b("React").createElement(b("FBPaymentsPINFlowContainerV2.react"),{flowType:g.VALIDATE_PIN,hideDoneButtonWhenValid:!0,onCancel:this.props.onCancelActiveForVerificationClick,onSuccess:this.props.onPINEnter}):null};return c}(b("FBPaymentsPINVerificationViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsPaymentMethodSelectorExtension",["invariant","Promise","FBPaymentsAffirmMonthlyPayment","FBPaymentsCheckoutConstants","FBPaymentsCreditCard","FBPaymentsCreditCardVerificationHelper","FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","FBPaymentsModulesAPIUtils","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodActions","FBPaymentsPaymentMethodTypes","FBPaymentsPayPalBillingAgreement","FBPaymentsPayPalBillingAgreementTypes","FBPaymentsPerfLogger","FBPaymentsUniversalErrorUtils","FluxContainer","React","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBPaymentsLoggerConstants").LoggerEvent,i=b("FBPaymentsLoggerConstants").LoggerFlowStep,j=b("FBPaymentsCheckoutConstants").Extensions;function a(a,c,d,e,f){__p&&__p();var k=function(l){__p&&__p();babelHelpers.inheritsLoose(k,l);function k(a){__p&&__p();var c,d;d=l.call(this,a)||this;d.state={billingCountry:null,convertPayPalError:null,creditCardVerificationData:{},isConvertingPayPal:!1,isCreditCardVerificationDataValid:!1,isInitialized:!1,isNUXInlineCardFormMode:!1,isNUXInlineCardFormSavingCreditCard:!1,isPUXInlineCardFormMode:!1,isPUXNewPaymentOptionTabEnabled:!1,isLoading:!1,isSaving:!1,isURIReturnedFromCancelPayPal:!1,needVerification:!1,newCredentialID:null,newPaymentOptionData:null,onlyShowFirstExistingPaymentMethod:d.getOnlyShowFirstExistingPaymentMethod(),paymentMethodsInfo:null,saveErrors:null,selectedBank:null,selectedNewPaymentOptionType:null,selectedPaymentMethod:null,selectedPaymentMethodID:null,selectedPaymentMethodOrNewPaymentOption:null,selectedBillingCountry:null,showHardError:!1,verificationData:null};d.handleBankClick=function(a){d.props.logger.setFlowStep(i.SELECT_BANK_ACCOUNT).setEventName(h.CLICK).updateExtraData({bank_name:a.name}).log(),b("FBPaymentsPaymentMethodActions").handleBankClick({selectedBank:a})};d.handleExistingPaymentMethodClick=function(a){b("FBPaymentsPaymentMethodActions").handleExistingPaymentMethodClick({paymentMethod:a}),d.props.logger.setFlowStep(i.SELECT_PAYMENT_METHOD).setEventName(h.CLICK).updateExtraData({type:a.type,id:a.id}).log()};d.handleNewPaymentOptionClick=function(a,c){var e=d.getLoggerFlowStepForNewPaymentOption(a);d.props.logger.setFlowStep(e).setEventName(h.DISPLAY).log();b("FBPaymentsPaymentMethodActions").handleNewPaymentOptionClick({selectedNewPaymentOptionType:a,altPayID:c})};d.handleSaveCreditCardCheckboxClick=function(a){if(!d.getIsDirectChargeAllowed())return;a=a.target.checked;var c=a?h.CHECK:h.UNCHECK;d.props.logger.setFlowStep(i.CLICK_SAVE_CC_CHECKBOX).setEventName(c).log();b("FBPaymentsPaymentMethodActions").handleSaveCreditCardCheckboxClick({isNUXInlineCardFormSavingCreditCard:a})};d.handleSaveNewPaymentOptionPrePaymentCall=function(a,c){__p&&__p();b("FBPaymentsPaymentMethodActions").clearSaveErrors(),d.saveNewPaymentOption(function(c){__p&&__p();var e,f=d.state.selectedNewPaymentOptionType;switch(f){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:e=new(b("FBPaymentsCreditCard"))({id:c});d.state.newPaymentOptionData||g(0,1007);var h=d.state.newPaymentOptionData.data;b("FBPaymentsPaymentMethodActions").updateVerificationData({verificationData:babelHelpers["extends"]({csc:h.csc},d.state.verificationData)});break;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:b("FBPaymentsPerfLogger").logPaymentEvent(b("FBPaymentsLoggerConstants").PerformanceLogging.PAYPAL_FLOW_CLOSED);e=new(b("FBPaymentsPayPalBillingAgreement"))({id:c});break;case b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM:e=new(b("FBPaymentsAffirmMonthlyPayment"))({id:c});break;default:g(0,1008,f)}d.logNewPaymentOptionSaved(c,f);if(f!==b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM){h=d.constructor.$1(d.props);d.props.isUsingUpdateCheckoutInfoAPI?b("FBPaymentsModulesAPIShared").fetchPaymentMethodsInfoGraphQL(h):b("FBPaymentsPaymentMethodActions").fetchPaymentMethods(h);b("FBPaymentsPaymentMethodActions").selectSavedNewPaymentOptions(e)}d.props.logger.updateExtraData({default_save_cc_option:+d.isNUXInlineCardFormSavingCreditCardDefault,did_user_save_cc:+d.state.isNUXInlineCardFormSavingCreditCard});a({paymentMethod:e})},function(a){d.handleNewPaymentOptionSavedError(a),c(a)},c)};d.returnCCDataPrePaymentCall=function(a,c){b("FBPaymentsPaymentMethodActions").clearSaveErrors();d.state.newPaymentOptionData||g(0,1007);c=d.state.newPaymentOptionData.data;c.country||(c.country=d.state.billingCountry);b("FBPaymentsPaymentMethodActions").setFakeSelectedPaymentMethod();d.props.logger.updateExtraData({default_save_cc_option:+d.isNUXInlineCardFormSavingCreditCardDefault,did_user_save_cc:+d.state.isNUXInlineCardFormSavingCreditCard});a(b("FBPaymentsModulesAPIUtils").prepareDirectChargeCreditCardData(c))};d.handleNewPaymentOptionFormDataUpdated=function(a){var c;c=a==null?void 0:(c=a.data)==null?void 0:c.country;var e=d.state.selectedBillingCountry;if(e!==c){var f;f=(f=d.props)==null?void 0:(f=f.checkoutExtraProps)==null?void 0:f.onBillingCountryChange;f&&f(c||e)}b("FBPaymentsPaymentMethodActions").handleNewPaymentOptionFormDataUpdated({newPaymentOptionData:a,itemType:d.getPaymentType()})};d.handleSaveNewPaymentOption=function(){b("FBPaymentsPaymentMethodActions").beforeSaveNewPaymentOptions(),d.saveNewPaymentOption(d.handleNewPaymentOptionSaved,d.handleNewPaymentOptionSavedError,d.handleCancelSaveNewPaymentOption)};d.handleNewPaymentOptionSaved=function(a){d.logNewPaymentOptionSaved(a,d.state.selectedNewPaymentOptionType);if(d.state.selectedNewPaymentOptionType!==b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM){var c=d.constructor.$1(d.props);b("FBPaymentsPaymentMethodActions").fetchPaymentMethods(c)}b("FBPaymentsPaymentMethodActions").handleNewPaymentOptionSaved({newCredentialID:a})};d.handleNewPaymentOptionSavedError=function(a){var c=d.getLoggerFlowStepForNewPaymentOption(d.state.selectedNewPaymentOptionType);d.props.logger.setFlowStep(c).setEventName(h.FAIL).updateExtraData({errors:a}).log();b("FBPaymentsPaymentMethodActions").handleNewPaymentOptionSavedError({saveErrors:a})};d.handleCancelSaveNewPaymentOption=function(){var a=d.getLoggerFlowStepForNewPaymentOption(d.state.selectedNewPaymentOptionType);d.props.logger.setFlowStep(a).setEventName(h.CANCEL_SAVING).log();b("FBPaymentsPaymentMethodActions").handleCancelSaveNewPaymentOption()};d.handleCancelActiveStateClick=function(){var a=d.getLoggerFlowStepForNewPaymentOption(d.state.selectedNewPaymentOptionType);d.props.logger.setFlowStep(a).setEventName(h.CANCEL).log();a=d.state.isPUXInlineCardFormMode?d.state.newPaymentOptionData:null;b("FBPaymentsPaymentMethodActions").handleCancelActiveStateClick({newPaymentOptionData:a})};d.handleCancelActiveForVerificationClick=function(){var a=d.state.selectedPaymentMethod;a=d.getLoggerFlowStepForVerification((a=a)!=null?a.type:a);d.props.logger.setFlowStep(a).setEventName(h.CANCEL).log();b("FBPaymentsPaymentMethodActions").handleCancelActiveForVerificationClick();d.props.onExtensionWidthChange(null)};d.handlePaymentInfoDataPreparation=function(){var a=d.state,c;a.needVerification?c=d.handleCreditCardVerificationPrePaymentCall:(a.selectedNewPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD||a.selectedNewPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL&&!e.shouldConnectPayPalInCheckoutContainer()||a.selectedNewPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM)&&(a.selectedNewPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD&&!a.isNUXInlineCardFormSavingCreditCard&&d.getIsDirectChargeAllowed()?c=d.returnCCDataPrePaymentCall:c=d.handleSaveNewPaymentOptionPrePaymentCall);return!c?null:new(b("Promise"))(function(a,b){c&&c(function(b){b=b||{},a({success:!0,data:b})},function(b){a({success:!1,error:b})})})};d.handleCreditCardVerificationPrePaymentCall=function(a,c){__p&&__p();var e=d.constructor.$2(d.state.selectedPaymentMethod,d.props);e=b("FBPaymentsCreditCardVerificationHelper").shouldUpdateCreditCard(e)||b("FBPaymentsCreditCardVerificationHelper").shouldVerifyCVV(e)&&b("gkx")("710254");var g=function(){b("FBPaymentsPaymentMethodActions").completeCreditCardVerification({verificationData:{verified:!0,csc:d.state.creditCardVerificationData.csc}}),d.props.logger.setFlowStep(i.UPDATE_CARD).setEventName(h.SUCCESS).log(),a()},j=function(a){b("FBPaymentsPaymentMethodActions").handleUpdateCreditCardError({saveErrors:a}),d.props.logger.setFlowStep(i.UPDATE_CARD).setEventName(h.FAIL).updateExtraData({errors:a}).log(),c(a)};if(e){b("FBPaymentsPaymentMethodActions").beforeUpdateCreditCard();e=babelHelpers["extends"]((e={},e.cc_fbid=d.state.selectedPaymentMethodID,e),d.state.creditCardVerificationData,(e={},e.combined_payment_type=d.getPaymentType(),e.session_id=d.getLoggerSessionID(),e));d.props.logger.setFlowStep(i.UPDATE_CARD).setEventName(h.API_INIT).log();d.getPaymentType()==="mor_facebook_shop"?b("FBPaymentsModulesAPIShared").updateCreditCardRelayGraphQL(e,g,j):f.updateCreditCardGraphQL(e,g,j)}else g()};d.handleConvertPayPalBAToCIB=function(a){b("FBPaymentsPaymentMethodActions").beforeConvertPayPalBAToCIB();var c={billing_agreement_id:a.id,billing_agreement_type:b("FBPaymentsPayPalBillingAgreementTypes").CIB,logging_id:d.getLoggerSessionID()};d.props.logger.setFlowStep(i.PAYPAL_CONSENT).setEventName(h.API_INIT).setPaymentMethodID(a.id).log();f.convertPayPalBAToCIB(c,d.handleConvertPayPalBAToCIBSuccess,d.handleConvertPayPalBAToCIBError)};d.handleConvertPayPalBAToCIBSuccess=function(a){d.props.logger.setFlowStep(i.PAYPAL_CONSENT).setEventName(h.SUCCESS).setPaymentMethodID(a).log(),b("FBPaymentsPaymentMethodActions").convertPayPalBAToCIBV2(),d.props.onExtensionWidthChange(null)};d.handleConvertPayPalBAToCIBError=function(a){d.props.logger.setFlowStep(i.PAYPAL_CONSENT).setEventName(h.FAIL).setErrorMessage(b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(a)).log(),b("FBPaymentsPaymentMethodActions").handleConvertPayPalBAToCIBError({convertPayPalError:a})};d.isNUXInlineCardFormSavingCreditCardDefault=d.state.isNUXInlineCardFormSavingCreditCard;b("FBPaymentsDispatcher").explicitlyRegisterStores(d.constructor.getStores(a));c=(c=d.props)!=null?(c=c.checkoutExtraProps)!=null?c.shouldVerifyCSC:c:c;b("FBPaymentsPaymentMethodActions").setShouldVerifyCSC({shouldVerifyCSC:!!c});a=(c=a)!=null?(c=c.checkoutExtraProps)!=null?c.affirmCredentialID:c:c;b("FBPaymentsPaymentMethodActions").setAffirmCredentialID(a);c=d.getOnlyShowFirstExistingPaymentMethod();b("FBPaymentsPaymentMethodActions").setOnlyShowFirstExistingPaymentMethod({onlyShowFirstExistingPaymentMethod:c});return d}var m=k.prototype;m.componentDidMount=function(){this.state.isURIReturnedFromCancelPayPal&&this.props.logger.setFlowStep(i.ADD_PAYPAL).setEventName(h.CANCEL).logVital(),b("FBPaymentsPaymentMethodActions").registerExtensionDataPreparer(this.handlePaymentInfoDataPreparation)};m.componentDidUpdate=function(a,c){!c.needVerification&&this.state.needVerification&&this.state.selectedPaymentMethod&&this.state.selectedPaymentMethod.type===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD&&this.props.logger.setFlowStep(i.UPDATE_CARD).setEventName(h.DISPLAY).log()};k.getStores=function(a){if(a.isUsingUpdateCheckoutInfoAPI)return[e,c];else return[d,e,c]};k.$1=function(a){var b,c=a.checkoutConfiguration.paymentInfo;b=(b=a)!=null?(b=b.checkoutExtraProps)!=null?b.affirmCredentialID:b:b;return{paymentType:c.paymentItemType,orderID:c.orderId,receiverID:c.receiverId,extraData:c.extraData,isGuestCheckout:a.isGuestCheckout,affirmCredentialID:b}};k.$2=function(a,c){if(!a)return[];switch(a.type){case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD:a=new Set(a.getVerifyFields());c=(c=c)!=null?(c=c.checkoutExtraProps)!=null?c.shouldVerifyCSC:c:c;c&&a.add("csc");return Array.from(a);default:return[]}};k.$3=function(a,c){switch(a){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:case b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY:return!!c&&c.isValid;default:return!0}};k.calculateState=function(a,b){__p&&__p();a=babelHelpers["extends"]({},a);var f=this.$1(b);b.isUsingUpdateCheckoutInfoAPI||d.get(f,b.logger.getSessionID());f=c.getState();b=b.extensionConfiguration.identifier;b=e.getShowHardErrorOnExtension(b);a.billingCountry=f.billingCountry;a.convertPayPalError=f.convertPayPalError;a.creditCardVerificationData=f.creditCardVerificationData;a.isConvertingPayPal=f.isConvertingPayPal;a.isCreditCardVerificationDataValid=f.isCreditCardVerificationDataValid;a.isInitialized=f.isInitialized;a.isLoading=f.isLoading;a.isNUXInlineCardFormMode=f.isNUXInlineCardFormMode;a.isNUXInlineCardFormSavingCreditCard=f.isNUXInlineCardFormSavingCreditCard;a.isPUXInlineCardFormMode=f.isPUXInlineCardFormMode;a.isPUXNewPaymentOptionTabEnabled=f.isPUXNewPaymentOptionTabEnabled;a.isSaving=f.isSaving;a.isURIReturnedFromCancelPayPal=f.isURIReturnedFromCancelPayPal;a.needVerification=f.needVerification;a.newCredentialID=f.newCredentialID;a.newPaymentOptionData=f.newPaymentOptionData;a.onlyShowFirstExistingPaymentMethod=f.onlyShowFirstExistingPaymentMethod;a.paymentMethodsInfo=f.paymentMethodsInfo;a.saveErrors=f.saveErrors;a.selectedBank=f.selectedBank;a.selectedNewPaymentOptionType=f.selectedNewPaymentOptionType;a.selectedPaymentMethod=f.selectedPaymentMethod;a.selectedPaymentMethodID=f.selectedPaymentMethodID;a.selectedPaymentMethodOrNewPaymentOption=f.selectedPaymentMethodOrNewPaymentOption;a.selectedBillingCountry=f.selectedBillingCountry;a.showHardError=b;a.verificationData=f.verificationData;return a};m.getLoggerFlowStepForNewPaymentOption=function(a){switch(a){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:return i.ADD_CARD;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:return i.ADD_PAYPAL;case b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM:return i.ADD_AFFIRM;default:return""}};m.getLoggerFlowStepForVerification=function(a){switch(a){case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD:return i.VERIFY_CARD;case b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return i.PAYPAL_CONSENT;default:return""}};m.getLoggerSessionID=function(){return this.props.logger.getSessionID()};m.getPaymentType=function(){return this.props.checkoutConfiguration.paymentInfo.paymentItemType};m.getPaymentAccountID=function(){var a;return((a=this.state)!=null?(a=a.paymentMethodsInfo)!=null?a.accountID:a:a)||""};m.getOnlyShowFirstExistingPaymentMethod=function(){var a;return!!((a=this.props)!=null?(a=a.checkoutExtraProps)!=null?a.onlyShowFirstExistingPaymentMethod:a:a)};m.handleSecondaryPaymentMethodCheckboxClick=function(a,c){b("FBPaymentsPaymentMethodActions").handleSecondaryPaymentMethodCheckboxClick({paymentMethod:a},c)};m.getIsDirectChargeAllowed=function(){var a=this.props.isGuestCheckout;return a?!b("gkx")("1099253"):!1};m.saveNewPaymentOption=function(a,c,d){__p&&__p();var e=this,i=this.state.selectedNewPaymentOptionType,k=this.getLoggerFlowStepForNewPaymentOption(i);this.props.logger.setFlowStep(k).setEventName(h.API_INIT).log();switch(i){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:k=this.state.newPaymentOptionData;k||g(0,1009,i);var l=this.props.checkoutConfiguration.paymentInfo;k=k.data;k.combined_payment_type=this.getPaymentType();k.receiver_id=l.receiverId;k.session_id=this.getLoggerSessionID();k.country||(k.country=this.state.billingCountry);this.getPaymentType()==="mor_facebook_shop"?b("FBPaymentsModulesAPIShared").addCreditCardRelayGraphQL(k,a,c):f.addCreditCardGraphQL(k,a,c);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:l={logger:this.props.logger,paymentType:this.props.checkoutConfiguration.paymentInfo.paymentItemType,onSuccess:a,onError:c,onCancel:function(){return e.handleCancelConnectPaypal(d)}};b("FBPaymentsPaymentMethodActions").connectPayPal(l);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM:k=this.props.extensionConfiguration.identifier===j.PAYMENT_METHOD?this.props.extensionConfiguration.affirmCheckoutObject:null;!k&&g(0,1312);l={affirmCheckoutObject:k,checkoutConfig:this.props.checkoutConfiguration,checkoutExtraProps:this.props.checkoutExtraProps||{},onAuthorizeSuccess:a,onCancel:d,onError:c};b("FBPaymentsPaymentMethodActions").connectAffirm(l);break;default:g(0,1008,i)}};m.logNewPaymentOptionSaved=function(a,b){b=this.getLoggerFlowStepForNewPaymentOption(b);this.props.logger.setFlowStep(b).setEventName(h.SUCCESS).setPaymentMethodID(a).logVital()};m.handleCancelConnectPaypal=function(a){this.props.logger.setFlowStep(i.ADD_PAYPAL).setEventName(h.CANCEL).logVital(),a()};m.handleCreditCardVerificationFormValidation=function(a,c){b("FBPaymentsPaymentMethodActions").handleCreditCardVerificationFormValidation({creditCardVerificationData:c,isCreditCardVerificationDataValid:a})};m.handleShowOtherPaymentMethodClick=function(){b("FBPaymentsPaymentMethodActions").setOnlyShowFirstExistingPaymentMethod({onlyShowFirstExistingPaymentMethod:!1})};m.render=function(){var c=this.constructor.$3(this.state.selectedNewPaymentOptionType,this.state.newPaymentOptionData),d=this.props.extensionConfiguration.identifier===j.PAYMENT_METHOD?this.props.extensionConfiguration.extensionPrefillData:null;return b("React").createElement(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isActiveForVerification:this.props.isActiveForVerification,isGuestCheckout:this.props.isGuestCheckout,extensionPrefillData:d,logger:this.props.logger,newPaymentOptionSaveEnabled:c,onAddPaymentMethodClick:b("emptyFunction"),onBankClick:this.handleBankClick,onCancelActiveForVerificationClick:this.handleCancelActiveForVerificationClick,onCancelActiveStateClick:this.handleCancelActiveStateClick,onContactSupportClick:this.props.onContactSupportClick,onConvertPayPalBAToCIB:this.handleConvertPayPalBAToCIB,onCreditCardVerificationFormValidation:this.handleCreditCardVerificationFormValidation,onExtensionWidthChange:this.props.onExtensionWidthChange,onNewPaymentOptionClick:this.handleNewPaymentOptionClick,onNewPaymentOptionFormDataUpdated:this.handleNewPaymentOptionFormDataUpdated,onPaymentMethodClick:this.handleExistingPaymentMethodClick,onSaveCreditCardCheckboxClick:this.handleSaveCreditCardCheckboxClick,onSaveNewPaymentOption:this.handleSaveNewPaymentOption,onSecondaryPaymentMethodCheckboxClick:this.handleSecondaryPaymentMethodCheckboxClick,onShowOtherPaymentMethodClick:this.handleShowOtherPaymentMethodClick,paymentType:this.getPaymentType(),renderInline:!!((d=this.props)!=null?(d=d.checkoutConfiguration)!=null?(d=d.contentConfiguration)!=null?d.renderInline:d:d:d)}))};return k}(b("React").PureComponent);return b("FluxContainer").create(k,{withProps:!0})}e.exports={create:a}}),null);
__d("FBPaymentsCheckbox.react",["ix","cx","FDSText.react","FlexLayout.react","Image.react","React","ShimButton.react","asset","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isChecked:c.props.isChecked},c.handleLabelClick=function(){c.setState(function(a){return{isChecked:!a.isChecked}},function(){return c.props.onLabelClick(c.state.isChecked)})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.onLabelClick(this.props.isChecked)};d.render=function(){var a=this.state.isChecked?g("492798"):g("496536"),c="_720h _71_z";return b("React").createElement("div",{className:"_71_-"},b("React").createElement(b("ShimButton.react"),{onClick:this.handleLabelClick},b("React").createElement(b("FlexLayout.react"),{align:"center",className:c,justify:"all"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"start"},b("React").createElement(b("Image.react"),{className:"_71__",src:a}),b("React").createElement(b("FDSText.react"),{margin:"_3-8o",size:"header4"},this.props.label)))))};return c}(b("React").Component);a.defaultProps={onLabelClick:b("emptyFunction")};e.exports=a}),null);
__d("FBPaymentsConsentViewBase.react",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("React").Component);c.propTypes={consentContent:a.node.isRequired,logoSrc:a.object,subtitle:a.node,termsAndPoliciesText:a.node.isRequired,title:a.node};e.exports=c}),null);
__d("FBPaymentsConsentView.react",["cx","FBPaymentsConsentViewBase.react","Image.react","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.logoSrc?b("React").createElement(b("Image.react"),{src:this.props.logoSrc}):null,c=this.props.title?b("React").createElement("div",{className:"_1awf"},this.props.title):null,d=this.props.subtitle?b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"medium",size:"header3",weight:"bold"},this.props.subtitle):null;return b("React").createElement("div",{className:"_1awe"},b("React").createElement("div",{className:"_52jv"},a,c),d,b("React").createElement(b("XUIGrayText.react"),{className:"_1awg",display:"block",shade:"medium",size:"header3"},this.props.consentContent),b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"medium",size:"header3"},this.props.termsAndPoliciesText))};return c}(b("FBPaymentsConsentViewBase.react"));e.exports=a}),null);
__d("FBPaymentsMobileAltPayForm.react",["fbt","FlexLayout.react","PhoneCodes","PhoneCodeSelector.react","PhoneNumberValidator.react","PositionEnum","React","SUIBorderUtils","SUIBusinessTheme","SUITextInput.react","WitUnderscore","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a="US";var h=g._("Type phone number"),i=g._("Invalid phone number");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={country:d.props.initialCountryCode,phoneNumber:d.props.initialPhoneNumber,validationResult:null,isTextInputFocus:!1,supportedPhoneCodes:b("PhoneCodes")},d.$1=function(){var a;a=((a=d.state.validationResult)==null?void 0:a.status)==="valid";d.state.phoneNumber!==""&&!a&&!d.state.isTextInputFocus?d.setState({textInputErrorMessage:i}):d.setState({textInputErrorMessage:""});d.props.onFormDataChange(a,d.state.validationResult)},d.$2=function(a,b){d.setState({country:b})},d.$3=function(a){d.$4(a)&&d.setState({phoneNumber:a})},d.$5=function(a){d.setState({validationResult:a},d.$1)},d.$6=function(a){d.setState({isTextInputFocus:!0,textInputErrorMessage:""})},d.$7=function(a){d.setState({isTextInputFocus:!1},d.$1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1();var a=b("WitUnderscore").pick(b("PhoneCodes"),this.props.supportedCountries);this.setState({supportedPhoneCodes:a})};d.$4=function(a){var b=new RegExp("^[0-9]*$");return b.test(a)};d.render=function(){var a;return(a=b("React")).createElement("div",null,a.createElement(b("FlexLayout.react"),null,a.createElement(b("PhoneCodeSelector.react"),{initialCountryCode:this.props.initialCountryCode,phoneCodes:this.state.supportedPhoneCodes,showCountryCode:this.props.showCountryCode,onUpdate:this.$2}),a.createElement(b("SUITextInput.react"),{margin:this.props.textInputMargin,defaultValue:this.props.initialPhoneNumber,errorTooltipPosition:this.props.errorTooltipPosition,value:this.state.phoneNumber,maxLength:this.props.maxLength,onChange:this.$3,onFocus:this.$6,onBlur:this.$7,placeholder:h,borderedSides:this.props.borderedSides,roundedCorners:this.props.roundedCorners,theme:this.props.textInputTheme,width:this.props.textInputWidth,errorMessage:this.state.textInputErrorMessage})),a.createElement(b("PhoneNumberValidator.react"),{phoneNumber:this.state.phoneNumber,regionCode:this.state.country,onChange:this.$5}),this.props.children)};return c}(b("React").Component);c.defaultProps={initialCountryCode:a,initialPhoneNumber:"",supportedCountries:[],textInputMargin:"_3-9b",textInputTheme:b("SUIBusinessTheme"),textInputWidth:"100%",errorTooltipPosition:b("PositionEnum").above,roundedCorners:b("SUIBorderUtils").ALL_CORNERS,borderedSides:b("SUIBorderUtils").ALL_SIDES,onFormDataChange:b("emptyFunction"),showCountryCode:!1};e.exports=c}),null);
__d("FBPaymentsPaymentMethodBubble.react",["cx","FDSText.react","FlexLayout.react","Image.react","React","TextWithEntities.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=16;function a(a){a=a.bubble;if(!a)return null;var c=a.description_with_entity;a=a.icon_url;return b("React").createElement("div",{className:"_8hd0"},b("React").createElement(b("FlexLayout.react"),{justify:"all",align:"center"},b("React").createElement(b("FlexLayout.react"),{align:"start",direction:"horizontal"},b("React").createElement(b("FlexLayout.react"),null,b("React").createElement(b("Image.react"),{src:a,width:h,height:h,className:"_3-90 _3-8w"}),b("React").createElement("div",null)),b("React").createElement(b("FlexLayout.react"),{direction:"vertical"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},b("React").createElement(b("TextWithEntities.react"),c))))))}e.exports=a}),null);
__d("ZipcodeCollectIndicatorFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REQUIRED:"required",HIDDEN:"hidden",OPTIONAL:"optional"})}),null);
__d("FBPaymentsPaymentMethodSelectorViewV2Base.react",["fbt","invariant","ix","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodTypes","FBPaymentsPaymentMethodUtils","PaymentMethodUtils","React","ZipcodeCollectIndicatorFields","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("immutable").List;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleCreditCardFormValidation=function(a,c){c={newPaymentOptionType:b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD,data:c||{},isValid:a};d.props.onNewPaymentOptionFormDataUpdated(c)},d.handleNewCreditCardFormValidation=function(a,c){a={newPaymentOptionType:b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD,data:a||{},isValid:c};d.props.onNewPaymentOptionFormDataUpdated(a)},d.handleNewCreditCardVerificationFormValidation=function(a,b){d.props.onCreditCardVerificationFormValidation(b,a)},d.handleNewMobileAltPayFormValidation=function(a,c){c={newPaymentOptionType:b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY,data:c||{},isValid:a};d.props.onNewPaymentOptionFormDataUpdated(c)},d.handleNewAltPayFormValidation=function(){var a={newPaymentOptionType:b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY,data:{},isValid:!0};d.props.onNewPaymentOptionFormDataUpdated(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldShowHardErrorMessage=function(){return this.props.showHardError};d.getAdditionalFields=function(){var a=this.getNewPaymentOptions();a=a.find(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD});return a?a.additionalFields:null};d.getPaymentMethods=function(){var a=this.props.paymentMethodsInfo||{};return a.paymentMethods||j()};d.getSecondaryPaymentMethod=function(){var a=this.props.paymentMethodsInfo||{};a=a.secondaryPaymentMethods||j();return a.first()};d.getNewPaymentOptions=function(){var a=this.props.paymentMethodsInfo||{};a=a.newPaymentOptions||j();return this.maybePrioritizeNewPayPalPaymentOption(a)};d.maybePrioritizeNewPayPalPaymentOption=function(a){if(this.getPaymentMethods().size>0)return a;a=a.groupBy(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL?1:0});var c=a.has(1)?a.get(1):j();a=a.has(0)?a.get(0):j();return c.concat(a)};d.shouldUseGiftcardBalanceCheckbox=function(a){a=a.credential_type||a.type;return a===b("FBPaymentsPaymentMethodTypes").GIFTCARD_BALANCE?!0:!1};d.getPaymentMethodSubtype=function(a){__p&&__p();var c=a.type;Object.values(b("FBPaymentsPaymentMethodTypes")).includes(c)||h(0,3608,c);switch(c){case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD:return a.cardType;case b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return"paypal";case b("FBPaymentsPaymentMethodTypes").MANUAL_TRANSFER:return"manual_transfer";case b("FBPaymentsPaymentMethodTypes").NET_BANKING:return"net_banking";case b("FBPaymentsPaymentMethodTypes").GIFTCARD_BALANCE:return"giftcard_balance";case b("FBPaymentsPaymentMethodTypes").DUMMY_PAYMENT_METHOD:return"dummy";default:return""}};d.getCreditCardIcons=function(){__p&&__p();var a,c=this.getNewPaymentOptions();c=c.find(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD});c=c.availableCardTypes.map(function(a){a=b("PaymentMethodUtils").getCardTypeFromServerSideCardType(a);return b("FBPaymentsPaymentMethodUtils").getImageForCard(a)});a=(a=this.props)!=null?(a=a.newPaymentOptionData)!=null?(a=a.data)!=null?a.creditCardNumber:a:a:a;if(a){a=b("PaymentMethodUtils").getCardType(a);a.type!="unknown"&&(c=j([b("FBPaymentsPaymentMethodUtils").getImageForCard(a)]))}return c.slice(0,4)};d.getShowZipCodeField=function(){var a=this.getNewPaymentOptions();a=a.find(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD});return!a?!1:a.zipFieldProperty!==b("ZipcodeCollectIndicatorFields").HIDDEN};d.getPrefilledDataForVerification=function(a){__p&&__p();var b={};if(this.props.extensionPrefillData)b=this.props.extensionPrefillData;else{var c=a.cardholderName,d=a.countryCode,e=a.zip;b.exp=a.getFormattedExpiration();b.card_holder_name=c;b.country=d;b.zip=e}return b};d.getPrefilledDataForNewCard=function(){var a;a=(a={},a.country=this.props.billingCountry,a);this.props.extensionPrefillData&&(a=babelHelpers["extends"]({},a,this.props.extensionPrefillData));return a};d.getCancelButtonText=function(){return g._("Cancelar")};d.getBackButtonText=function(){return g._("Atr\u00e1s")};d.getBankNameLabel=function(){return g._("Nombre del banco")};d.getPayButtonText=function(){return g._("Pagar")};d.getPayPalConfirmButtonText=function(){return g._("Confirmar y pagar")};d.getPaymentMethodLabel=function(){return g._("M\u00e9todo de pago")};d.getAddCardLabel=function(){return g._("A\u00f1adir tarjeta nueva")};d.getAddPayPalLabel=function(){return g._("Conectar PayPal")};d.getAddAffirmLabel=function(){return g._("Affirm Monthly Payments (US residents only)")};d.getDefaultBankSelectorOptionLabel=function(){return g._("Selecciona un banco")};d.getHardErrorMessage=function(){return g._("Selecciona un m\u00e9todo de pago v\u00e1lido.")};d.getPayPalLogoSrc=function(){return i("95544")};d.getPayPalConsentTitle=function(){return g._("Actualiza tus pagos con aprobaci\u00f3n previa")};d.getPayPalConsentSubtitle=function(){return g._("Ahora puedes usar la autorizaci\u00f3n para los pagos con aprobaci\u00f3n previa de Facebook siempre que est\u00e9 disponible PayPal como m\u00e9todo de pago en esta plataforma.")};d.getPayPalConsentPoliciesText=function(a){return g._("Consulta las {=Paypal Policies} y los derechos de m\u00e9todos de pago.",[g._param("=Paypal Policies",b("React").createElement("a",{href:a,target:"_blank"},g._("Pol\u00edticas de PayPal")))])};d.getCSCVerificationMessage=function(a){if(a===4)return g._("Por tu seguridad, vuelve a introducir el c\u00f3digo de cuatro d\u00edgitos que aparece en la parte delantera de la tarjeta.");else return g._("Por tu seguridad, vuelve a introducir el c\u00f3digo de tres d\u00edgitos que aparece en la parte trasera de la tarjeta.")};d.getExistingPaymentMethodLabel=function(a){var b=this.getPaymentMethodSubtype(a);b==="paypal"||b==="giftcard_balance"||b==="dummy"?b=a.getDisplaySubtitle():b="*"+a.last4;return b};d.getExistingPaymentMethodIconImage=function(a){var c;this.getPaymentMethodSubtype(a)==="paypal"?c=b("FBPaymentsPaymentMethodUtils").getImageForPayPal():this.getPaymentMethodSubtype(a)==="giftcard_balance"?c=b("FBPaymentsPaymentMethodUtils").getImageForFBBalance():c=b("FBPaymentsPaymentMethodUtils").getImageForCardType(this.getPaymentMethodSubtype(a));return c};d.getOtherPaymentMethodLabel=function(){return g._("Usar otro m\u00e9todo de pago")};d.shouldHidePaymentOptions=function(){var a=this.getPaymentMethods();return a.isEmpty()?!1:this.props.onlyShowFirstExistingPaymentMethod};return c}(b("React").Component);e.exports=a}),null);
__d("FBPaymentsPaymentMethodSelectorViewV2.react",["cx","invariant","FBPaymentsAccordion.react","FBPaymentsCheckbox.react","FBPaymentsConsentView.react","FBPaymentsCreditCardForm.react","FBPaymentsLoadingView.react","FBPaymentsMobileAltPayForm.react","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodBubble.react","FBPaymentsPaymentMethodListItemView.react","FBPaymentsPaymentMethodSelectorViewV2Base.react","FBPaymentsPaymentMethodTypes","FBPaymentsPaymentMethodUtils","FBPaymentsRadioAccordionItem.react","FBPaymentsRichSelector.react","FBPaymentsUserFacingErrorNotice.react","FBPaymentsUserFacingErrorParser","FDSButton.react","FDSText.react","Image.react","InlineBlock.react","React","ShimButton.react","XUIGrayText.react","XUINotice.react","distinctArray","immutable","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("immutable").List,j=b("FBPaymentsRichSelector.react").Option,k=650;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleBankSelectorChange=function(a){var c=d.props.selectedPaymentMethod,e=c&&c.type;if(!c||e!==b("FBPaymentsPaymentMethodTypes").NET_BANKING)return;c.banks||h(0,315);var f=a.value;e=c.banks.find(function(a){return a.code===f});d.props.onBankClick&&d.props.onBankClick(e)},d.getExistingPaymentMethodAccordionItem=function(a){var c;if(d.props.needVerification&&a.type===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD&&d.props.selectedPaymentMethod){var e,f=a.getCscMaxLength(),g=b("distinctArray")(["csc"].concat(a.getVerifyFields()));c=b("React").createElement(b("FBPaymentsCreditCardForm.react"),{addressFormConfig:(e=d.props.paymentMethodsInfo)==null?void 0:e.addressFormConfig,maxCSCLength:f,onFormDataChange:d.handleNewCreditCardVerificationFormValidation,prefilledFormData:d.getPrefilledDataForVerification(a),showHardError:d.shouldShowHardErrorMessage(),verifyFields:g})}return b("React").createElement(b("FBPaymentsRadioAccordionItem.react"),{fullBleedSection:!0,iconLeft:d.getExistingPaymentMethodIconImage(a),key:a.id,label:d.getExistingPaymentMethodLabel(a),value:a.id},b("React").createElement("div",{className:"_p1_"},c),b("React").createElement(b("FBPaymentsPaymentMethodBubble.react"),{bubble:a.bubble}))},d.handleSecondaryPaymentMethodCheckboxClicked=function(a){var b=null;a&&(b=d.getSecondaryPaymentMethod());d.props.onSecondaryPaymentMethodCheckboxClick(b,a)},d.handleAccordionPaymentMethodSelected=function(a){__p&&__p();switch(a){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:d.props.onNewPaymentOptionClick(b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:d.props.onNewPaymentOptionClick(b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM:d.props.onNewPaymentOptionClick(b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM);break;default:var c=d.getPaymentMethods().filter(function(b){return b.id===a});if(c.count()===1)d.handlePaymentMethodClicked(c.first()),d.props.onCancelActiveStateClick();else{c=d.getNewPaymentOptions().find(function(c){return c.type===b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY&&c.altPayID===a});c&&d.props.onNewPaymentOptionClick(b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY,c.altPayID);c.altPayID!=="mobile"&&d.handleNewAltPayFormValidation();break}}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.renderBankListItem=function(a){return b("React").createElement(j,{key:a.code,label:a.name,value:a.code},b("React").createElement(b("FBPaymentsPaymentMethodListItemView.react"),{image:a.image,title:a.name}))};d.renderBanksDropdown=function(){var a=this.props.selectedPaymentMethod,c=a&&a.type;if(!a||c!==b("FBPaymentsPaymentMethodTypes").NET_BANKING)return null;a.banks||h(0,315);c=(c=this.props)!=null?(c=c.selectedBank)!=null?c.code:c:c;var d=this.getDefaultBankSelectorOptionLabel();return b("React").createElement(b("FBPaymentsRichSelector.react"),{className:"_3-8x _52jv",defaultValue:c,multiple:!1,name:"bank_selector",onChange:this.handleBankSelectorChange},b("React").createElement(j,{key:"default",label:d,value:""},d),a.banks.map(this.renderBankListItem))};d.renderBanksLabel=function(){var a=this.props.selectedPaymentMethod,c=a&&a.type;return!a||c!==b("FBPaymentsPaymentMethodTypes").NET_BANKING?null:b("React").createElement(b("XUIGrayText.react"),{className:"_3-8y",display:"block",size:"meta1"},this.getBankNameLabel())};d.renderConvertPaypalError=function(){__p&&__p();var a=this.props.convertPayPalError;if(!a)return null;if(a.errorCode){var c=b("FBPaymentsUserFacingErrorParser").generateCtaWithHandler(a,this.props.onContactSupportClick);return b("React").createElement("div",{className:"_q-q"},b("React").createElement(b("FBPaymentsUserFacingErrorNotice.react"),{callToAction:c,description:a.errorDescription,flowStep:a.flowStep,logger:this.props.logger,title:a.errorTitle,use:a.imageType}))}else if(a.message)return b("React").createElement(b("XUINotice.react"),{className:"_q-q",use:"warn"},a.message);return null};d.renderPayPalConsentView=function(a){var c=this,d;this.props.onExtensionWidthChange(k);return(d=b("React")).createElement("div",{className:"_1jnq"},this.renderConvertPaypalError(),d.createElement(b("FBPaymentsLoadingView.react"),{overlay:!0,visible:this.props.isConvertingPayPal}),d.createElement(b("FBPaymentsConsentView.react"),{consentContent:a.cibConsentText,logoSrc:this.getPayPalLogoSrc(),subtitle:this.getPayPalConsentSubtitle(),termsAndPoliciesText:this.getPayPalConsentPoliciesText(a.cibTermsUrl),title:this.getPayPalConsentTitle()}),d.createElement("div",{className:"_52jw _2ph_ _5kyc"},d.createElement(b("FDSButton.react"),{margin:"_3-90",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveForVerificationClick,size:"large"}),d.createElement(b("FDSButton.react"),{label:this.getPayPalConfirmButtonText(),onClick:function(){c.props.onConvertPayPalBAToCIB(a)},size:"large",use:"primary"})))};d.renderCardForm=function(){__p&&__p();var a=this.props.saveErrors,c,d=a&&a.general;d&&(c=d.message);d=a&&a.fields;if(!c&&d)for(var e in d)if(Object.prototype.hasOwnProperty.call(d,e)){d[e].message;break}return b("React").createElement(b("FBPaymentsCreditCardForm.react"),{addressFormConfig:(a=this.props.paymentMethodsInfo)==null?void 0:a.addressFormConfig,additionalFields:this.getAdditionalFields(),onFormDataChange:this.handleNewCreditCardFormValidation,prefilledFormData:this.getPrefilledDataForNewCard(),showHardError:this.shouldShowHardErrorMessage()})};d.renderAltPayChildren=function(a,c){var d="_8cb-",e;a&&(d="_89op",e="_89oo");return b("React").createElement("div",{className:e},c.pricepointLogoURL.map(function(a){return b("React").createElement(b("Image.react"),{src:a,key:a})}),b("React").createElement("div",{className:d},c.description))};d.handlePaymentMethodClicked=function(a){this.props.onPaymentMethodClick(a),this.props.onCancelActiveStateClick()};d.getNewPaymentMethodAccordionItems=function(){__p&&__p();var a=this,c=[],d=this.getNewPaymentOptions();d.forEach(function(d){__p&&__p();var e=d.getType(),f=b("React").createElement(b("FBPaymentsPaymentMethodBubble.react"),{bubble:d.bubble});switch(e){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:e=b("React").createElement(b("FBPaymentsRadioAccordionItem.react"),{"data-testid":"payment_method_add_card_option",fullBleedSection:!0,iconSrcs:a.getCreditCardIcons(),key:b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD,label:a.getAddCardLabel(),value:b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD},b("React").createElement("div",{className:"_p1_"},a.renderCardForm()),f);c.push(e);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:e=i.of(b("FBPaymentsPaymentMethodUtils").getImageForPayPal());e=b("React").createElement(b("FBPaymentsRadioAccordionItem.react"),{fullBleedSection:!0,"data-testid":"payment_method_add_paypal_option",iconSrcs:e,key:b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL,label:a.getAddPayPalLabel(),value:b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL},f);c.push(e);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM:f=i.of(b("FBPaymentsPaymentMethodUtils").getImageForAffirm());e=b("React").createElement(b("FBPaymentsRadioAccordionItem.react"),{iconSrcs:f,key:b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM,label:a.getAddAffirmLabel(),value:b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM});c.push(e);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY:f=d.shouldCollectMSISDN;e=d.iconURL?i.of(d.iconURL):i();e=b("React").createElement(b("FBPaymentsRadioAccordionItem.react"),{fullBleedSection:!0,iconSrcs:e,key:d.altPayID,label:d.pricepointTitle,value:d.altPayID},f?b("React").createElement("div",{className:"_89oq"},b("React").createElement(b("FBPaymentsMobileAltPayForm.react"),{initialCountryCode:d.userCountry,supportedCountries:d.supportedCountries,onFormDataChange:a.handleNewMobileAltPayFormValidation},a.renderAltPayChildren(!0,d))):b("React").createElement("div",{className:"_8cb_"},a.renderAltPayChildren(!1,d)));c.push(e);break}});return c};d.renderSecondaryPaymentMethodCheckboxLabel=function(a){return b("React").createElement(b("InlineBlock.react"),{alignv:"middle"},b("React").createElement(b("FDSText.react"),{display:"block"},a.getDisplayTitle()),b("React").createElement(b("FDSText.react"),{color:"positive"},a.getDisplaySubtitle()))};d.renderInlinePaymentOptions=function(){var a=this.getPaymentMethods().map(this.getExistingPaymentMethodAccordionItem),c=this.props.selectedPaymentMethodOrNewPaymentOption?this.props.selectedPaymentMethodOrNewPaymentOption.id:null,d;if(this.getSecondaryPaymentMethod()!==void 0){var e=this.renderSecondaryPaymentMethodCheckboxLabel(this.getSecondaryPaymentMethod());d=b("React").createElement(b("FBPaymentsCheckbox.react"),{isChecked:!0,label:e,onLabelClick:this.handleSecondaryPaymentMethodCheckboxClicked})}return this.shouldHidePaymentOptions()?b("React").createElement("div",{className:"_2pi3"},b("React").createElement(b("FBPaymentsAccordion.react"),{disableDefaultOnSelectExecution:!0,hideRadioButtons:!1,selectedValue:c,onSelect:this.handleAccordionPaymentMethodSelected},a.first()),d,b("React").createElement(b("ShimButton.react"),{onClick:this.props.onShowOtherPaymentMethodClick,style:{cursor:"pointer"}},b("React").createElement(b("FDSText.react"),{color:"highlight",display:"block",margin:"_3-8n",size:"body2"},this.getOtherPaymentMethodLabel()))):b("React").createElement("div",{className:"_2pi3"},b("React").createElement(b("FBPaymentsAccordion.react"),{disableDefaultOnSelectExecution:!0,hideRadioButtons:!1,selectedValue:c,onSelect:this.handleAccordionPaymentMethodSelected},a.toArray(),this.getNewPaymentMethodAccordionItems()),d)};d.renderTitle=function(){return this.props.showTitle?b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-95",size:"body2"},this.getPaymentMethodLabel()):null};d.render=function(){if(this.props.isActiveForVerification){var a=this.props.selectedPaymentMethod;a||h(0,316);switch(a.type){case b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return this.renderPayPalConsentView(a);default:return h(!1,"Unsupported payment method type for verification: %s",a.type)}}return b("React").createElement("div",{className:"_3itb","data-testid":"payment_method_extension"},this.renderTitle(),this.renderInlinePaymentOptions(),this.renderBanksLabel(),this.renderBanksDropdown())};return c}(b("FBPaymentsPaymentMethodSelectorViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsPriceSelectorExtension",["FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsPriceSelectorActions","FBPaymentsPriceSelectorConfigStore","FBPaymentsPriceSelectorExtensionStore","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsLoggerConstants").LoggerEvent,h=b("FBPaymentsLoggerConstants").LoggerFlowStep;function a(a,c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(a){__p&&__p();var c;c=e.call(this,a)||this;c.state={customAmount:"",customAmountInputErrorMessage:null,priceSelectorConfiguration:null,selectedIndex:-1,showHardError:!1};c.handleCustomAmountInputChange=function(a,d,e){b("FBPaymentsPriceSelectorActions").priceSelectorChangeCustomAmountInput({customAmount:d,validationResult:e}),e.isValid||c.props.logger.setFlowStep(h.SELECT_AMOUNT).setEventName(g.CLICK).setRawAmount(Number(d)).setCurrency(c.getCurrency()).setUserFacingMessage(e.errorMessage).log()};c.handleCustomAmountInputBlur=function(a,b,d){c.props.logger.setFlowStep(h.SELECT_AMOUNT).setEventName(g.BLUR).setRawAmount(Number(b)).setCurrency(c.getCurrency()).setUserFacingMessage(d.errorMessage).log()};c.handlePriceButtonClick=function(a){b("FBPaymentsPriceSelectorActions").priceSelectorButtonClick({index:a}),c.props.logger.setFlowStep(h.SELECT_AMOUNT).setEventName(g.CLICK).setRawAmount(c.getRawAmountAtIndex(a)).setCurrency(c.getCurrency()).log()};b("FBPaymentsDispatcher").explicitlyRegisterStores(c.constructor.getStores(a));return c}d.getStores=function(a){if(a.isUsingUpdateCheckoutInfoAPI)return[c,b("FBPaymentsPriceSelectorExtensionStore")];else return[c,b("FBPaymentsPriceSelectorConfigStore"),b("FBPaymentsPriceSelectorExtensionStore")]};d.getPriceSelectorConfigStoreQuery=function(a){a=a.checkoutConfiguration.paymentInfo;return{payment_type:a.paymentItemType,order_id:a.orderId?a.orderId:"",extra_data:JSON.stringify(a.extraData)}};d.calculateState=function(a,d){a=this.getPriceSelectorConfigStoreQuery(d);d.isUsingUpdateCheckoutInfoAPI||b("FBPaymentsPriceSelectorConfigStore").get(a);a=d.extensionConfiguration.identifier;d=c.getShowHardErrorOnExtension(a);a=b("FBPaymentsPriceSelectorExtensionStore").getState();a={priceSelectorConfiguration:a.priceSelectorConfiguration,customAmount:a.customAmount,customAmountInputErrorMessage:a.customAmountInputErrorMessage,selectedIndex:a.selectedIndex,showHardError:d};return a};var f=d.prototype;f.getCurrency=function(){var a=this.state.priceSelectorConfiguration;return a&&a.getCurrency()};f.getRawAmountAtIndex=function(a){var b=this.state.priceSelectorConfiguration;return!b?null:Number(b.getSelectedAmountFromIndex(a))};f.handleCustomAmountInputFocus=function(){b("FBPaymentsPriceSelectorActions").priceSelectorCustomAmountInputFocus()};f.render=function(){return b("React").createElement(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,onCustomAmountInputBlur:this.handleCustomAmountInputBlur,onCustomAmountInputChange:this.handleCustomAmountInputChange,onCustomAmountInputFocus:this.handleCustomAmountInputFocus,onPriceButtonClick:this.handlePriceButtonClick}))};return d}(b("React").PureComponent);return b("FluxContainer").create(d,{withProps:!0})}e.exports={create:a}}),null);
__d("FBPaymentsPriceSelectorViewV2Base.react",["fbt","PECurrency","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldShowHardErrorMessage=function(){return this.props.showHardError};d.getCustomAmoutInputPlaceHolder=function(){return g._("Otra")};d.getNewlineCustomAmoutInputPlaceHolder=function(){var a=this.props.priceSelectorConfiguration;return a&&a.customAmount&&a.customAmount.placeholderText||g._("Importe personalizado")};d.getPriceSelectorTitle=function(){var a=this.props.priceSelectorConfiguration;return a&&a.title||g._("Importe")};d.getCurrencySymbol=function(){var a=this.props.priceSelectorConfiguration?b("PECurrency").getCurrencySymbol(this.props.priceSelectorConfiguration.getCurrency()):"";return(a=a)!=null?a:""};d.getHardErrorMessage=function(){return g._("Selecciona un importe v\u00e1lido.")};d.getFeesContent=function(){var a=this.props.priceSelectorConfiguration;return a&&a.feesContent||null};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsPriceSelectorViewV2.react",["cx","invariant","FBPaymentsButtonGroup.react","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigsGenerator","FBPaymentsPriceSelectorViewV2Base.react","FDSButton.react","FDSText.react","React","XUISpinner.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__renderAmountButtonGroup=function(a){a=a.getButtonLabels();var c=this.props.selectedIndex,d={flex:"1"},e=[];a.forEach(function(a,c){e.push(b("React").createElement(b("FDSButton.react"),{key:c,label:a,style:d}))});e.push(b("React").createElement(b("FDSButton.react"),{key:-1,label:this.getCustomAmoutInputPlaceHolder(),style:d}));return b("React").createElement(b("FBPaymentsButtonGroup.react"),{onSelectedButtonChange:this.props.onPriceButtonClick,reverseLastIndex:!0,selectedIndex:c},e)};d.__renderCustomAmountInput=function(a){var c=b("FBPaymentsFormFieldInputConfigsGenerator").getPriceInputConfig(a.getCustomAmountMin(),a.getCustomAmountMax(),a.getCurrency()),d=this.getNewlineCustomAmoutInputPlaceHolder();a=!a.getShowAmountButtons();return b("React").createElement(b("FBPaymentsFormField.react"),{className:"_4a6e",classNameOnInput:"_1kv1",config:c,errorMessage:this.props.customAmountInputErrorMessage,fieldType:"textInput",initiallyFocused:!0,initiallyFocusedDelay:a?200:void 0,name:"customAmount",onBlur:this.props.onCustomAmountInputBlur,onChange:this.props.onCustomAmountInputChange,onFocus:this.props.onCustomAmountInputFocus,placeholder:d,showFieldLevelErrors:!0,showHardError:this.props.showHardError,value:this.props.customAmount})};d.render=function(){var a,c=this.props.priceSelectorConfiguration;if(!c)a=b("React").createElement(b("XUISpinner.react"),null);else{!c&&h(0,917);var d=b("React").createElement("div",{className:"_1zbe"},b("React").createElement("div",{className:"_m7i"},b("React").createElement("span",{className:"_4a6d"},this.getCurrencySymbol()),this.__renderCustomAmountInput(c))),e=!c.getShowAmountButtons();a=b("React").createElement("div",{className:"_2pi5"},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"body2"},this.getPriceSelectorTitle()),b("React").createElement(b("FDSText.react"),{color:"positive",display:"block",margin:"_3-95",size:"body3"},this.getFeesContent()),e?null:this.__renderAmountButtonGroup(c),this.props.selectedIndex===-1?d:null)}return b("React").createElement("div",{className:"_3itb"},a)};return c}(b("FBPaymentsPriceSelectorViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsShippingAddressExtensionUtil",[],(function(a,b,c,d,e,f){"use strict";a={generateExtraDataFromNewAddress:function(a){var b;return{shipping_name:{length:a==null?void 0:(b=a.care_of)==null?void 0:b.length},shipping_address_1:{length:a==null?void 0:(b=a.street1)==null?void 0:b.length},shipping_address_2:{length:a==null?void 0:(b=a.street2)==null?void 0:b.length},shipping_city:{length:a==null?void 0:(b=a.city)==null?void 0:b.length},shipping_state:{length:a==null?void 0:(b=a.state)==null?void 0:b.length},shipping_zip:{length:a==null?void 0:(b=a.zip)==null?void 0:b.length},shipping_country:{length:a==null?void 0:(b=a.country)==null?void 0:b.length}}}};e.exports=a}),null);
__d("FBPaymentsShippingAddressExtension",["invariant","FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","FBPaymentsContactInfoTypes","FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","FBPaymentsShippingAddressActions","FBPaymentsShippingAddressExtensionUtil","FluxContainer","React","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsLoggerConstants").LoggerEvent,j=b("FBPaymentsLoggerConstants").LoggerFlowStep;function a(a,c,d,e,f){__p&&__p();var k=function(l){__p&&__p();babelHelpers.inheritsLoose(k,l);function k(a){__p&&__p();var c;c=l.call(this,a)||this;c.state={addressFormConfig:null,enteredAddress:null,isExtensionHidden:!1,isLoading:!1,isNewAddressValid:!1,isSaving:!1,mailingAddresses:b("immutable").List(),newAddress:null,saveErrors:null,selectedAddress:null,selectedEditAddress:null,showForm:!1,showHardError:!1,showUpfrontAddressCollection:!1,suggestedAddress:null,userGeoCountry:null};c.handleAddMailingAddressClick=function(a){a===void 0&&(a=!1),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:h.SHIPPING_ADDRESS,active:!0}),a||c.props.logger.setFlowStep(j.ADD_SHIPPING_ADDRESS).setEventName(i.DISPLAY).addToExtraData("address_NUX","true").addToExtraData("disable_upfront","true").log()};c.handleEditMailingAddressClick=function(a){b("FBPaymentsShippingAddressActions").mailingAddressEditSelected({selectedEditAddressID:a}),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:h.SHIPPING_ADDRESS,active:!0}),c.props.logger.setFlowStep(j.EDIT_SHIPPING_ADDRESS).setEventName(i.DISPLAY).setMailingAddressID(a).log()};c.handleMailingAddressClick=function(a){b("FBPaymentsShippingAddressActions").mailingAddressSelected({selectedAddressID:a}),c.props.logger.setFlowStep(j.SELECT_SHIPPING_ADDRESS).setEventName(i.CLICK).log()};c.handleCancelActiveStateClick=function(a){c.state.saveErrors&&b("FBPaymentsShippingAddressActions").clearSaveErrors(),c.state.selectedEditAddress&&b("FBPaymentsShippingAddressActions").mailingAddressEditCanceled(),c.state.enteredAddress&&b("FBPaymentsShippingAddressActions").mailingAddressEnteredCleared(),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:h.SHIPPING_ADDRESS,active:!1}),c.props.logger.setFlowStep(a).setEventName(i.CANCEL).log()};c.handleMailingAddressRowClicked=function(){b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:h.SHIPPING_ADDRESS,active:!0}),c.props.logger.setFlowStep(j.SELECT_SHIPPING_ADDRESS).setEventName(i.DISPLAY).addToExtraData("address_NUX","false").log()};c.handleShowForm=function(a){var d=a?j.EDIT_SHIPPING_ADDRESS:j.ADD_SHIPPING_ADDRESS;b("FBPaymentsShippingAddressActions").toggleMailingAddressForm({showForm:!0,selectedEditAddressID:a});c.props.logger.setFlowStep(d).setEventName(i.DISPLAY).addToExtraData("on_file_address_count",JSON.stringify(c.state.mailingAddresses.size)).log()};c.handleHideForm=function(){var a=c.state.selectedEditAddress?j.EDIT_SHIPPING_ADDRESS:j.ADD_SHIPPING_ADDRESS;b("FBPaymentsShippingAddressActions").toggleMailingAddressForm({showForm:!1});c.props.logger.setFlowStep(a).setEventName(i.CANCEL).log()};c.handleSaveNewAddress=function(){__p&&__p();var a=c.state.newAddress;a||g(0,1094);var d=c.state.showUpfrontAddressCollection?j.UPFRONT_SHIPPING_ADDRESS:j.ADD_SHIPPING_ADDRESS;Object.entries(b("FBPaymentsShippingAddressExtensionUtil").generateExtraDataFromNewAddress(a)).forEach(function(a){var b=a[0];a=a[1];c.props.logger.addToExtraData(b,JSON.stringify(a))});c.props.logger.setFlowStep(d).setEventName(i.CLICK).log();b("FBPaymentsShippingAddressActions").saveMailingAddress();c.props.logger.setFlowStep(d).setEventName(i.API_INIT).addToExtraData("on_file_address_count",JSON.stringify(c.state.mailingAddresses.size)).log();b("FBPaymentsModulesAPIShared").addMailingAddressGraphQL(a,c.getPaymentType(),c.props.logger.getSessionID(),c.handleSaveNewAddressSuccess,c.handleSaveNewAddressError,c.handleAddressSuggestion)};c.handleSaveNewAddressSuccess=function(a,d){var e=c.state.showUpfrontAddressCollection?j.UPFRONT_SHIPPING_ADDRESS:j.ADD_SHIPPING_ADDRESS;c.props.logger.setFlowStep(e).setEventName(i.SUCCESS).setMailingAddressID(a).addToExtraData("is_suggested_address",c.state.suggestedAddress!==null?"true":"false").log();b("FBPaymentsShippingAddressActions").mailingAddressSaved({newAddressID:a,newAddress:d});c.state.showUpfrontAddressCollection||b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:h.SHIPPING_ADDRESS,active:!1});c.state.showUpfrontAddressCollection&&b("FBPaymentsCheckoutActions").completeUpfrontAddressCollect()};c.handleSaveNewAddressError=function(a){var d=c.state.showUpfrontAddressCollection?j.UPFRONT_SHIPPING_ADDRESS:j.ADD_SHIPPING_ADDRESS;c.props.logger.setFlowStep(d).setEventName(i.FAIL).setErrorMessage(JSON.stringify(a)).addToExtraData("is_suggested_address",c.state.suggestedAddress!==null?"true":"false").log();b("FBPaymentsShippingAddressActions").mailingAddressSaveError({error:a})};c.handleSaveEditAddress=function(){__p&&__p();var a=c.state.newAddress;a||g(0,1094);var d=c.state.selectedEditAddress;d||g(0,1095);var e=!d.equalsFormAddress(a);Object.entries(b("FBPaymentsShippingAddressExtensionUtil").generateExtraDataFromNewAddress(a)).forEach(function(a){var b=a[0];a=a[1];c.props.logger.addToExtraData(b,JSON.stringify(a))});c.props.logger.setFlowStep(j.EDIT_SHIPPING_ADDRESS).setEventName(i.CLICK).log();b("FBPaymentsShippingAddressActions").saveMailingAddress();e?(c.props.logger.setFlowStep(j.EDIT_SHIPPING_ADDRESS).setEventName(i.API_INIT).setMailingAddressID(d.id).addToExtraData("has_address_changed",JSON.stringify(e)).log(),b("FBPaymentsModulesAPIShared").updateMailingAddress(a,d.id,c.getPaymentType(),c.props.logger.getSessionID(),c.handleSaveEditAddressSuccess,c.handleSaveEditAddressError,c.handleAddressSuggestion)):(b("FBPaymentsShippingAddressActions").mailingAddressEditCanceled(),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:h.SHIPPING_ADDRESS,active:!1}))};c.handleSaveEditAddressSuccess=function(a,d){c.props.logger.setFlowStep(j.EDIT_SHIPPING_ADDRESS).setEventName(i.SUCCESS).setMailingAddressID(a).addToExtraData("is_suggested_address",c.state.suggestedAddress!==null?"true":"false").log(),b("FBPaymentsShippingAddressActions").mailingAddressSaved({newAddressID:a,newAddress:d}),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:h.SHIPPING_ADDRESS,active:!1})};c.handleSaveEditAddressError=function(a){var d;c.props.logger.setFlowStep(j.EDIT_SHIPPING_ADDRESS).setEventName(i.FAIL).setMailingAddressID((d=c.state.selectedEditAddress)==null?void 0:d.id).setErrorMessage(JSON.stringify(a)).addToExtraData("is_suggested_address",c.state.suggestedAddress!==null?"true":"false").log();b("FBPaymentsShippingAddressActions").mailingAddressSaveError({error:a})};c.handleSaveSuggestedAddress=function(){__p&&__p();var a=c.state.suggestedAddress;a||g(0,13704);Object.entries(b("FBPaymentsShippingAddressExtensionUtil").generateExtraDataFromNewAddress(a)).forEach(function(a){var b=a[0];a=a[1];c.props.logger.addToExtraData(b,JSON.stringify(a))});var d=c.state.selectedEditAddress!==null;c.props.logger.setFlowStep(j.ADDRESS_SUGGESTION).setEventName(i.CLICK).log();var e=d?j.EDIT_SHIPPING_ADDRESS:c.state.showUpfrontAddressCollection?j.UPFRONT_SHIPPING_ADDRESS:j.ADD_SHIPPING_ADDRESS;c.props.logger.setFlowStep(e).setEventName(i.CLICK).addToExtraData("is_suggested_address","true").log();b("FBPaymentsShippingAddressActions").saveMailingAddress();c.props.logger.setFlowStep(e).setEventName(i.API_INIT).setMailingAddressID((e=c.state.selectedEditAddress)==null?void 0:e.id).addToExtraData("is_suggested_address","true").log();if(d){b("FBPaymentsModulesAPIShared").updateMailingAddress(a.toFormData(),b("nullthrows")((e=c.state.selectedEditAddress)==null?void 0:e.id),c.getPaymentType(),c.props.logger.getSessionID(),c.handleSaveEditAddressSuccess,c.handleSaveEditAddressError)}else b("FBPaymentsModulesAPIShared").addMailingAddressGraphQL(a.toFormData(),c.getPaymentType(),c.props.logger.getSessionID(),c.handleSaveNewAddressSuccess,c.handleSaveNewAddressError)};c.handleCancelAddressSuggestion=function(){var a;c.props.logger.setFlowStep(j.ADDRESS_SUGGESTION).setEventName(i.CANCEL).setMailingAddressID((a=c.state.selectedEditAddress)==null?void 0:a.id).log();b("FBPaymentsShippingAddressActions").mailingAddressSuggestedCleared()};c.handleAddressSuggestion=function(a){var d=c.state.selectedEditAddress!==null?j.EDIT_SHIPPING_ADDRESS:c.state.showUpfrontAddressCollection?j.UPFRONT_SHIPPING_ADDRESS:j.ADD_SHIPPING_ADDRESS;c.props.logger.setFlowStep(d).setEventName(i.SUGGESTION).setMailingAddressID((d=c.state.selectedEditAddress)==null?void 0:d.id).log();c.props.logger.setFlowStep(j.ADDRESS_SUGGESTION).setEventName(i.DISPLAY).setMailingAddressID((d=c.state.selectedEditAddress)==null?void 0:d.id).log();b("FBPaymentsShippingAddressActions").mailingAddressSuggested({suggestedAddress:a})};c.handleFetchAddressFormConfigSuccess=function(a,d){b("FBPaymentsShippingAddressActions").addressFormConfigFetched({userGeoCountry:a,addressFormConfig:d}),c.props.logger.setFlowStep(j.FETCH_ADDRESS_FORM_CONFIG).setEventName(i.SUCCESS).addToExtraData("address_form_config_size",JSON.stringify(Array.from(d).length)).addToExtraData("user_geo_country",JSON.stringify(a)).log()};c.handleFetchAddressFormConfigError=function(a){b("FBPaymentsShippingAddressActions").addressFormConfigFetchError({error:a}),c.props.logger.setFlowStep(j.FETCH_ADDRESS_FORM_CONFIG).setEventName(i.FAIL).setErrorMessage(JSON.stringify(a)).log()};b("FBPaymentsDispatcher").explicitlyRegisterStores(c.constructor.getStores(a));b("FBPaymentsShippingAddressActions").mailingAddressExtensionHiddenStatusChanged({isHidden:c.getIsExtensionHiddenFromProps(a)});return c}var m=k.prototype;m.componentDidMount=function(){!this.state.addressFormConfig&&!this.props.isUsingUpdateCheckoutInfoAPI&&f.fetchMailingAddressConfig(this.getPaymentType(),this.handleFetchAddressFormConfigSuccess,this.handleFetchAddressFormConfigError),this.state.showUpfrontAddressCollection&&this.props.logger.setFlowStep(j.UPFRONT_SHIPPING_ADDRESS).setEventName(i.DISPLAY).log()};m.componentDidUpdate=function(a,c){c=this.getIsExtensionHiddenFromProps(a);a=this.getIsExtensionHiddenFromProps(this.props);c!==a&&b("FBPaymentsShippingAddressActions").mailingAddressExtensionHiddenStatusChanged({isHidden:a})};m.getIsExtensionHiddenFromProps=function(a){a.extensionConfiguration.identifier!=="SHIPPING_ADDRESS"&&g(0,1096,a.extensionConfiguration.identifier);a=a.extensionConfiguration.customContent;return!!a&&!!a.hideExtension};k.getStores=function(a){if(a.isUsingUpdateCheckoutInfoAPI)return[e,c];else return[e,d,c]};k.calculateState=function(a,f){f.isUsingUpdateCheckoutInfoAPI||d.get(b("FBPaymentsContactInfoTypes").MAILING_ADDRESS);a=f.extensionConfiguration.identifier;f=e.getShowHardErrorOnExtension(a);a=c.getState();var g=!c.isInitialized();g={isLoading:g,showHardError:f,isExtensionHidden:a.isExtensionHidden,mailingAddresses:a.mailingAddresses,selectedAddress:a.selectedAddress,selectedEditAddress:a.selectedEditAddress,enteredAddress:a.enteredAddress,suggestedAddress:a.suggestedAddress,saveErrors:a.saveErrors,isSaving:a.isSaving,newAddress:a.newAddress,isNewAddressValid:a.isNewAddressValid,showForm:a.showForm,showUpfrontAddressCollection:e.shouldShowUpfrontAddressCollection(),addressFormConfig:a.addressFormConfig,userGeoCountry:a.userGeoCountry};return g};m.getPaymentType=function(){return this.props.checkoutConfiguration.paymentInfo.paymentItemType};m.handleAddressFormChanged=function(a,c){b("FBPaymentsShippingAddressActions").newMailingAddressFormDataChange({newAddress:a,isNewAddressValid:c})};k.__getCustomContent=function(a){a=a.extensionConfiguration;return a.identifier!=="SHIPPING_ADDRESS"?null:a.customContent};m.render=function(){var c=this.constructor.__getCustomContent(this.props);return b("React").createElement(a,babelHelpers["extends"]({},this.state,{customContent:c,isActive:this.props.isActive,logger:this.props.logger,onAddMailingAddressClick:this.handleAddMailingAddressClick,onAddressFormChanged:this.handleAddressFormChanged,onCancelActiveStateClick:this.handleCancelActiveStateClick,onCancelSuggestedAddress:this.handleCancelAddressSuggestion,onContactSupportClick:this.props.onContactSupportClick,onEditMailingAddressClick:this.handleEditMailingAddressClick,onHideForm:this.handleHideForm,onMailingAddressClick:this.handleMailingAddressClick,onRowClicked:this.handleMailingAddressRowClicked,onSaveEditAddress:this.handleSaveEditAddress,onSaveNewAddress:this.handleSaveNewAddress,onSaveSuggestedAddress:this.handleSaveSuggestedAddress,onShowForm:this.handleShowForm,paymentType:this.getPaymentType()}))};return k}(b("React").PureComponent);return b("FluxContainer").create(k,{withProps:!0})}e.exports={create:a}}),null);
__d("FBPaymentsUserInfoOptInExtension",["FBPaymentsUserInfoOptInActions","FBPaymentsUserInfoOptInExtensionStore","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=function(d){__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){return d.apply(this,arguments)||this}c.getStores=function(){return[b("FBPaymentsUserInfoOptInExtensionStore")]};c.calculateState=function(){var a=b("FBPaymentsUserInfoOptInExtensionStore").getState();a={optIn:a.optIn,disclaimerText:a.disclaimerText,privacyPolicyText:a.privacyPolicyText,privacyPolicyRanges:a.privacyPolicyRanges};return a};var e=c.prototype;e.onToggleChange=function(a){b("FBPaymentsUserInfoOptInActions").toggleOptIn({optIn:a})};e.render=function(){return b("React").createElement(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,onChange:this.onToggleChange}))};return c}(b("React").PureComponent);return b("FluxContainer").create(c)}e.exports={create:a}}),null);
__d("FBPaymentsUserInfoOptInViewV2Base.react",["React"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsUserInfoOptInViewV2.react",["cx","FBPaymentsUserInfoOptInViewV2Base.react","FDSCheckboxInput.react","FDSText.react","React","TextWithEntities.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return b("React").createElement("div",{className:"_8a1q"},b("React").createElement("div",{className:"_3-90"},b("React").createElement(b("FDSCheckboxInput.react"),{label:"",labelIsHidden:!0,onChange:this.props.onChange,value:(a=this.props.optIn)!=null?a:!1})),b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",textAlign:"left",size:"body2"},b("React").createElement(b("TextWithEntities.react"),{text:this.props.disclaimerText||""})),b("React").createElement(b("FDSText.react"),{color:"blueLink",display:"block",textAlign:"left",size:"body2"},b("React").createElement(b("TextWithEntities.react"),{ranges:this.props.privacyPolicyRanges||[],text:this.props.privacyPolicyText||""}))))};return c}(b("FBPaymentsUserInfoOptInViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsExtensionV2Manager",["FBPaymentsCheckoutConstants","FBPaymentsCheckoutV2Store","FBPaymentsContactInfoExtension","FBPaymentsContactInfoExtensionStore","FBPaymentsContactInfoSelectorViewV2.react","FBPaymentsContactInfoStore","FBPaymentsCouponCodeExtension","FBPaymentsCouponCodeViewV2.react","FBPaymentsCustomOptionsExtension","FBPaymentsCustomOptionsViewV2.react","FBPaymentsExtensionV2ManagerBase","FBPaymentsFreeTrialExtension","FBPaymentsFreeTrialView.react","FBPaymentsFrequencySelectorExtension","FBPaymentsFrequencySelectorViewV2.react","FBPaymentsMailingAddressSelectorViewV2","FBPaymentsModulesAPI","FBPaymentsNationalitySelectorExtension","FBPaymentsNationalitySelectorViewV2.react","FBPaymentsPaymentMethodExtensionStore","FBPaymentsPaymentMethodSelectorExtension","FBPaymentsPaymentMethodSelectorViewV2.react","FBPaymentsPaymentMethodStore","FBPaymentsPINStore","FBPaymentsPINVerificationExtension","FBPaymentsPINVerificationViewV2.react","FBPaymentsPriceSelectorExtension","FBPaymentsPriceSelectorViewV2.react","FBPaymentsShippingAddressExtension","FBPaymentsShippingAddressExtensionStore","FBPaymentsUserInfoOptInExtension","FBPaymentsUserInfoOptInViewV2.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsCheckoutConstants").Extensions;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.extensionMap=new Map();c.extensionMap.set(g.CONTACT_INFO,b("FBPaymentsContactInfoExtension").create(b("FBPaymentsContactInfoSelectorViewV2.react"),b("FBPaymentsContactInfoExtensionStore"),b("FBPaymentsContactInfoStore"),b("FBPaymentsCheckoutV2Store"),b("FBPaymentsModulesAPI")));c.extensionMap.set(g.USER_INFO_OPT_IN,b("FBPaymentsUserInfoOptInExtension").create(b("FBPaymentsUserInfoOptInViewV2.react")));c.extensionMap.set(g.CUSTOM_OPTIONS,b("FBPaymentsCustomOptionsExtension").create(b("FBPaymentsCustomOptionsViewV2.react"),b("FBPaymentsCheckoutV2Store")));c.extensionMap.set(g.PAYMENT_METHOD,b("FBPaymentsPaymentMethodSelectorExtension").create(b("FBPaymentsPaymentMethodSelectorViewV2.react"),b("FBPaymentsPaymentMethodExtensionStore"),b("FBPaymentsPaymentMethodStore"),b("FBPaymentsCheckoutV2Store"),b("FBPaymentsModulesAPI")));c.extensionMap.set(g.PRICE_SELECTOR,b("FBPaymentsPriceSelectorExtension").create(b("FBPaymentsPriceSelectorViewV2.react"),b("FBPaymentsCheckoutV2Store")));c.extensionMap.set(g.SHIPPING_ADDRESS,b("FBPaymentsShippingAddressExtension").create(b("FBPaymentsMailingAddressSelectorViewV2"),b("FBPaymentsShippingAddressExtensionStore"),b("FBPaymentsContactInfoStore"),b("FBPaymentsCheckoutV2Store"),b("FBPaymentsModulesAPI")));c.extensionMap.set(g.FREQUENCY_SELECTOR,b("FBPaymentsFrequencySelectorExtension").create(b("FBPaymentsFrequencySelectorViewV2.react")));c.extensionMap.set(g.NATIONALITY_SELECTOR,b("FBPaymentsNationalitySelectorExtension").create(b("FBPaymentsNationalitySelectorViewV2.react")));c.extensionMap.set(g.COUPON_CODE,b("FBPaymentsCouponCodeExtension").create(b("FBPaymentsCouponCodeViewV2.react")));c.extensionMap.set(g.PIN_VERIFICATION,b("FBPaymentsPINVerificationExtension").create(b("FBPaymentsPINStore"),b("FBPaymentsPINVerificationViewV2.react")));c.extensionMap.set(g.FREE_TRIAL,b("FBPaymentsFreeTrialExtension").create(b("FBPaymentsFreeTrialView.react")));return c}var d=c.prototype;d.__getExtensionMap=function(){return this.extensionMap};return c}(b("FBPaymentsExtensionV2ManagerBase"));e.exports=new a()}),null);
__d("FBPaymentsAbstractPSDDataPolicy.react",["cx","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","Image.react","PaymentsPSDStaticStrings","PaymentsPSDStrings","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBPaymentsLoggerConstants").LoggerFlowStep,i=b("FBPaymentsLoggerConstants").LoggerEvent;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={errorMessage:null,isLoading:!1},d.handleAcceptButtonClick=function(){d.logEvent(i.CLICK),d.setState({errorMessage:null,isLoading:!0}),d.logEvent(i.API_INIT),b("FBPaymentsModulesAPIShared").acceptPSDAgreementGraphQL(d.props.paymentType,d.props.psdAgreementID,d.handleAcceptAgreementSuccess,d.handleAcceptAgreementError)},d.handleAcceptAgreementSuccess=function(a){d.setState({isLoading:!1}),d.logEvent(i.SUCCESS),d.props.onAccepted()},d.handleAcceptAgreementError=function(a){d.setState({errorMessage:a.message,isLoading:!1}),d.logErrorEvent(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.logEvent(i.DISPLAY)};d.logEvent=function(a){this.props.logger&&this.props.logger.setFlowStep(h.PSD_AGREEMENT).setEventName(a).log()};d.logErrorEvent=function(a){this.props.logger&&this.props.logger.setFlowStep(h.PSD_AGREEMENT).setEventName(i.FAIL).setUserFacingMessage(a.message).setErrorMessage(a.serverErrorMessage).setExceptionClass(a.exceptionClass).log()};d.render=function(){var a=this.props,c=a.buttonRenderer,d=a.errorRenderer,e=a.loadingRenderer,f=a.headerRenderer,g=a.paragraphRenderer;a=a.textWithEntitiesRenderer;var h="_2pi4",i="_2piq",j="_2pim";d=this.state.errorMessage?b("React").createElement("div",{className:"_2pio"},d(this.state.errorMessage)):null;return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_69fu")},b("React").createElement("div",null,b("React").createElement(b("Image.react"),{className:"_69fv",src:b("PaymentsPSDStrings").HEADER_IMAGE_PATH})),b("React").createElement("div",{className:"_2ph_"},e(this.state.isLoading),b("React").createElement("div",{className:j},b("React").createElement("div",{className:h},f(b("PaymentsPSDStaticStrings").INTRO_PARAGRAPH_TITLE)),b("React").createElement("div",{className:i},g(b("PaymentsPSDStrings").INTRO_FIRST_PARAGRAPH))),b("React").createElement("div",{className:j},b("React").createElement("div",{className:h},f(b("PaymentsPSDStaticStrings").ONLY_WHAT_WE_NEED_TITLE)),b("React").createElement("div",{className:i},g(b("PaymentsPSDStaticStrings").ONLY_WHAT_WE_NEED_FIRST_PARAGRAPH)),b("React").createElement("div",{className:i},g(b("PaymentsPSDStaticStrings").ONLY_WHAT_WE_NEED_SECOND_PARAGRAPH))),b("React").createElement("div",{className:j},b("React").createElement("div",{className:h},f(b("PaymentsPSDStaticStrings").FOLLOW_GUIDELINES_TITLE)),b("React").createElement("div",{className:i},g(b("PaymentsPSDStaticStrings").FOLLOW_GUIDELINES_PARAGRAPH)),b("React").createElement("div",{className:i},g(a(b("PaymentsPSDStrings").ENCRYPTED_AND_SECURE_PARAGRAPH)))),b("React").createElement("div",null,d,this.props.shouldHideButton?null:c(b("PaymentsPSDStaticStrings").ACCEPT_BUTTON_LABEL,this.handleAcceptButtonClick,"psd_agreement_accept_button"))))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsPSDDataPolicy.react",["FBPaymentsAbstractPSDDataPolicy.react","FBPaymentsLoadingView.react","FBPaymentsTextWithEntities.react","FDSButton.react","FDSText.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d){return b("React").createElement(b("FDSButton.react"),{"data-testid":d,label:a,onClick:c,size:"large",use:"primary",width:"100%"})}function h(a){return b("React").createElement(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold"},a)}function i(a){return b("React").createElement(b("FDSText.react"),{color:"primary",size:"body1"},a)}function j(a){return b("React").createElement(b("FDSText.react"),{color:"negative",size:"body1"},a)}function k(a){return b("React").createElement(b("FBPaymentsTextWithEntities.react"),{textWithEntities:a})}function l(a){return b("React").createElement(b("FBPaymentsLoadingView.react"),{overlay:!0,showLockSpinner:!0,visible:a})}function a(a){return b("React").createElement(b("FBPaymentsAbstractPSDDataPolicy.react"),babelHelpers["extends"]({},a,{buttonRenderer:g,errorRenderer:j,headerRenderer:h,loadingRenderer:l,paragraphRenderer:i,textWithEntitiesRenderer:k}))}e.exports=a}),null);
__d("FBPaymentsPayActionRowContainerV2Base.react",["FBPaymentsCheckoutStep","FBPaymentsLoggerConstants","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBPaymentsLoggerConstants").LoggerEvent,h=b("FBPaymentsLoggerConstants").LoggerFlowStep;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={innerHeight:window.innerHeight,isPayActionRowSticky:!0,showDisclaimerPopupMenu:!1,showDisclaimerSection:!1},c.$1=function(a){c.props.logger&&c.props.logger.setFlowStep(h.CHECKOUT_TERMS).setEventName(g.CLICK).updateExtraData({status:a?"expanded":"collapsed"}).log(),c.setState({showDisclaimerPopupMenu:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a,c){!c.showDisclaimerSection&&this.state.showDisclaimerSection&&(this.props.logger&&this.props.logger.setFlowStep(h.CHECKOUT_TERMS).setEventName(g.DISPLAY).log()),a.checkoutStep!=this.props.checkoutStep&&this.props.checkoutStep==b("FBPaymentsCheckoutStep").CONFIRMATION&&this.setState({showDisclaimerPopupMenu:!1})};c.getDerivedStateFromProps=function(a,b){var c=babelHelpers["extends"]({},b);c.showDisclaimerSection=a.payButtonEnabled||b.showDisclaimerSection;return c};d.render=function(){var a,c=this.__getView(),d=this.props.configuration;a=(a=this.props.actionTitle)!=null?a:d.actionTitle;return b("React").createElement(c,{actionTitle:a,backButton:this.props.backButton===!0||d.backButton===!0,displayPrice:this.props.displayPrice,isLoading:this.props.isLoading,isPayActionRowSticky:this.state.isPayActionRowSticky,onBackButtonClick:this.props.onBackButtonClick,onPayButtonClick:this.props.onPayButtonClick,onToggleDisclaimerPopup:this.$1,payButtonEnabled:this.props.payButtonEnabled,price:this.props.price,renderInline:this.props.renderInline,showDisclaimerPopupMenu:this.state.showDisclaimerPopupMenu,showDisclaimerSection:this.state.showDisclaimerSection,subscriptionTermsDetails:this.props.subscriptionTermsDetails,termsAndPolicies:this.props.termsAndPolicies})};d.__getView=function(){return b("abstractMethod")("FBPaymentsPayActionRowContainerV2Base","__getView")};return c}(b("React").Component);e.exports=a}),null);
__d("FBPaymentsPopoverMenu.react",["cx","ContextualLayer.react","FBPaymentsTextWithEntities.react","LayerAutoFocus","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerHideOnEscape","React","XUIText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=b("React").createElement(b("XUIText.react"),{className:"_6645",color:"secondary",size:"meta1"},b("React").createElement(b("FBPaymentsTextWithEntities.react"),{textWithEntities:{text:c.headerText||"",ranges:c.headerRanges||[]}})),e=c.showPopup?b("React").createElement("div",{className:"_2g16",onClick:function(a){a.stopPropagation()},role:"presentation"}):null;return b("React").createElement(b("React").Fragment,null,e,b("React").createElement("div",{ref:"anchor"}),b("React").createElement(b("ContextualLayer.react"),{autofocus:!0,behaviors:{LayerAutoFocus:b("LayerAutoFocus"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape")},containerWidthMatchContext:!0,contextRef:function(){return a.refs.anchor},onToggle:function(a){a||c.onToggleDisclaimerPopup(!1)},position:"above",ref:"layer",shown:c.showPopup},b("React").createElement("div",{onClick:function(a){c.onToggleDisclaimerPopup(!1)},role:"presentation"},b("React").createElement("div",{className:"_2g17",onClick:function(a){a.stopPropagation()},role:"presentation"},d,b("React").createElement("div",{className:"_6646"}),c.actions?c.actions.map(h):null))))};return c}(b("React").Component);a.defaultProps={showPopup:!0};function h(a,c){return a?b("React").createElement("div",{className:"_2pid",key:c},b("React").createElement(b("XUIText.react"),{className:"_6647",size:"meta1"},b("React").createElement(b("FBPaymentsTextWithEntities.react"),{className:"_6647",textWithEntities:a}))):null}e.exports=a}),null);
__d("FBPaymentsDisclaimerWithPopover.react",["ix","cx","fbt","FBPaymentsPopoverMenu.react","Image.react","Layout.react","React","ShimButton.react","TextWithEntities.react","XUIGrayText.react","asset","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.showPopup?b("React").createElement(b("FBPaymentsPopoverMenu.react"),{actions:a.menuActions,headerRanges:a.menuHeaderRanges,headerText:a.menuHeaderText,onToggleDisclaimerPopup:a.onToggleDisclaimerPopup}):null,d=b("React").createElement(b("Layout.react"),{className:b("joinClasses")(this.props.className,"_1svn"),onClick:function(){a.onToggleDisclaimerPopup(!0)}},b("React").createElement(k,{className:"_6644"},b("React").createElement(b("XUIGrayText.react"),{color:"secondary",palette:"dark",size:"inherit"},b("React").createElement(b("TextWithEntities.react"),{ranges:a.inlineRanges||[],text:a.inlineText||""}),this.props.subscriptionTermsDetails?"\n":null,this.props.subscriptionTermsDetails)),b("React").createElement(j,null,b("React").createElement(b("ShimButton.react"),null,b("React").createElement(b("Image.react"),{alt:i._("Ver m\u00e1s"),src:g("386137")}))));return b("React").createElement(b("React").Fragment,null,d,c)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsPayActionButtonViewV2.react",["cx","FBPaymentsPayActionButtonViewBase.react","FDSButton.react","LeftRight.react","PECurrency","PECurrency.react","React","XUISpinner.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PECurrency").DEFAULT_AMOUNT_OFFSET;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a="large",c;this.props.backButton&&(c=b("React").createElement(b("FDSButton.react"),{isDisabled:this.props.isLoading,label:this.getBackText(),margin:"_3-91",onClick:this.props.onBackButtonClick,size:a,use:"default"}));var d=this.getActionText();if(this.props.displayPrice)d=b("React").createElement(b("LeftRight.react"),{className:"_304_"},b("React").createElement("div",{className:"_2pis"},this.getActionText()),b("React").createElement("div",{className:"_2pii"},this.props.displayPrice));else if(this.props.price){var e,f=this.props.price;d=(e=b("React")).createElement(b("LeftRight.react"),{className:"_304_"},e.createElement("div",{className:"_2pis"},this.getActionText()),e.createElement("div",{className:"_2pii"},e.createElement(b("PECurrency.react"),{code:f.currency,showSymbol:!0,value:h*Number(f.amount)})))}e=this.props.isLoading?b("React").createElement(b("XUISpinner.react"),{background:"dark",size:"small"}):null;f=this.props.payButtonEnabled||this.props.isLoading?"special":"primary";d=b("React").createElement(b("FDSButton.react"),{"data-testid":"pay_button",icon:e,isDisabled:this.props.isLoading,label:d,labelIsHidden:!!e,onClick:this.props.onPayButtonClick,size:a,use:f,width:"100%"});return b("React").createElement("div",{className:"_39ge"},c,d)};return c}(b("FBPaymentsPayActionButtonViewBase.react"));e.exports=a}),null);
__d("FBPaymentsSubscriptionUtils",["fbt","BillingAgreementType","DateStrings","LocalDate","PECurrency","Timezone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PECurrency").DEFAULT_AMOUNT_OFFSET;a=b("Timezone").getEnvironmentTimezoneID();var i=b("LocalDate").today(a),j={getSubscriptionTerms:function(a,c){if(!a)return null;var d=a.billDueDate,e=a.price;if(!e||e.amount==="")return null;switch(a.type){case b("BillingAgreementType").MONTHLY:return g._("Al hacer clic en \"{text on an action button}\", autorizas el pago de hoy, as\u00ed como todos los pagos peri\u00f3dicos de {formatted amount} que se procesar\u00e1n el {day of month or last day of month for transaction} de cada mes hasta que lo canceles.",[g._param("text on an action button",c),g._param("formatted amount",b("PECurrency").formatAmount(e.currency,h*Number(e.amount))),g._param("day of month or last day of month for transaction",j.getFormattedDayOfMonth(d))]);case b("BillingAgreementType").YEARLY:return g._("Al hacer clic en \"{text on an action button}\", autorizas el pago de hoy, as\u00ed como todos los pagos peri\u00f3dicos de {formatted amount} que se procesar\u00e1n el {formatted date} de cada a\u00f1o hasta que lo canceles.",[g._param("text on an action button",c),g._param("formatted amount",b("PECurrency").formatAmount(e.currency,h*Number(e.amount))),g._param("formatted date",j.getFormattedDayOfYear(d))]);default:return null}},getSubscriptionTermsMsite:function(a,c){if(!a)return null;var d=a.billDueDate,e=a.price;if(!e)return null;switch(a.type){case b("BillingAgreementType").MONTHLY:return g._("Al tocar \"{text on an action button}\", autorizas el pago de hoy, as\u00ed como todos los pagos peri\u00f3dicos de {formatted amount} que se procesar\u00e1n el {day of month or last day of month for transaction} de cada mes hasta que lo canceles.",[g._param("text on an action button",c),g._param("formatted amount",b("PECurrency").formatAmount(e.currency,h*Number(e.amount))),g._param("day of month or last day of month for transaction",j.getFormattedDayOfMonth(d))]);case b("BillingAgreementType").YEARLY:return g._("Al tocar \"{text on an action button}\", autorizas el pago de hoy, as\u00ed como todos los pagos peri\u00f3dicos de {formatted amount} que se procesar\u00e1n el {formatted date} de cada a\u00f1o hasta que lo canceles.",[g._param("text on an action button",c),g._param("formatted amount",b("PECurrency").formatAmount(e.currency,h*Number(e.amount))),g._param("formatted date",j.getFormattedDayOfYear(d))]);default:return null}},getFormattedDayOfMonth:function(a){a===void 0&&(a=i);a=a.getDayOfMonth();var c=b("DateStrings").getDayOfMonth(a);if(a===31)return g._("\u00faltimo d\u00eda");else if(a>=29)return g._("{a certain day of every month} o el \u00faltimo d\u00eda",[g._param("a certain day of every month",c)]);else return c},getFormattedDayOfYear:function(a){a===void 0&&(a=i);return a.format("F j")}};e.exports=j}),null);
__d("FBPaymentsPayActionRowViewV2Base.react",["fbt","FBPaymentsSubscriptionUtils","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getPayButtonText=function(){return this.props.actionTitle?this.props.actionTitle:g._("Pagar")};d.getBackButtonText=function(){return g._("Atr\u00e1s")};d.getInlineViewText=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.inline_view)!=null?a.text:a:a:a};d.getInlineViewRanges=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.inline_view)!=null?a.ranges:a:a:a};d.getActions=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.expanded_view)!=null?a.actions:a:a:a};d.getHeaderText=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.expanded_view)!=null?(a=a.header)!=null?a.text:a:a:a:a};d.getHeaderRanges=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.expanded_view)!=null?(a=a.header)!=null?a.ranges:a:a:a:a};d.getTitleText=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.expanded_view)!=null?(a=a.title)!=null?a.text:a:a:a:a};d.getTitleRanges=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.expanded_view)!=null?(a=a.title)!=null?a.ranges:a:a:a:a};d.getSubscriptionTerms=function(){return b("FBPaymentsSubscriptionUtils").getSubscriptionTerms(this.props.subscriptionTermsDetails,this.getPayButtonText())};return c}(b("React").Component);e.exports=a}),null);
__d("FBPaymentsPayActionRowViewV2.react",["cx","FBPaymentsDisclaimerWithPopover.react","FBPaymentsPayActionButtonViewV2.react","FBPaymentsPayActionRowViewV2Base.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.getSubscriptionTerms();a=this.props.showDisclaimerSection||this.props.isLoading?b("React").createElement(b("FBPaymentsDisclaimerWithPopover.react"),{className:"_2pio",inlineRanges:this.getInlineViewRanges(),inlineText:this.getInlineViewText(),menuActions:this.getActions(),menuHeaderRanges:this.getHeaderRanges(),menuHeaderText:this.getHeaderText(),onToggleDisclaimerPopup:this.props.onToggleDisclaimerPopup,showPopup:this.props.showDisclaimerPopupMenu,subscriptionTermsDetails:a}):null;return b("React").createElement("div",{className:(this.props.renderInline?"":"_3itb")+" _2owm"},a,b("React").createElement(b("FBPaymentsPayActionButtonViewV2.react"),{actionTitle:this.getPayButtonText(),backTitle:this.getBackButtonText(),backButton:this.props.backButton,isLoading:this.props.isLoading,onBackButtonClick:this.props.onBackButtonClick,onPayButtonClick:this.props.onPayButtonClick,payButtonEnabled:this.props.payButtonEnabled,payButtonGreenWhenReady:!0,price:this.props.price,displayPrice:this.props.displayPrice}))};return c}(b("FBPaymentsPayActionRowViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsPayActionRowContainerV2.react",["FBPaymentsPayActionRowContainerV2Base.react","FBPaymentsPayActionRowViewV2.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getView=function(){return b("FBPaymentsPayActionRowViewV2.react")};return c}(b("FBPaymentsPayActionRowContainerV2Base.react"));e.exports=a}),null);
__d("FBPaymentsPriceTableViewV2Base.react",["cx","fbt","invariant","FBPaymentsLoggerConstants","FBPaymentsPriceListHelper","PECurrency","PECurrency.react","React","ShimButton.react","abstractMethod"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("PECurrency").DEFAULT_AMOUNT_OFFSET,k=b("FBPaymentsLoggerConstants").LoggerFlowStep,l=b("FBPaymentsLoggerConstants").LoggerEvent;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isCollapsed:c.props.isCollapsed||!1},c.$1=function(){c.props.logger&&c.props.logger.setFlowStep(k.PRICE_TABLE).setEventName(l.CLICK).updateExtraData({status:c.state.isCollapsed?"expanded":"collapsed"}).log(),c.setState(function(a){return{isCollapsed:!a.isCollapsed}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(a,c){return b("React").createElement(b("PECurrency.react"),{code:c,value:j*a})};d.$3=function(a,c,d,e){c=b("FBPaymentsPriceListHelper").calculateTotal(c);var f=c.currency;f||i(0,4098);c=c.amount;return this.__renderItem(0,a,null,this.$2(c,f),!d,e)};d.$4=function(a){var b=[];for(var c=0;c<a.length;c++)b.push(this.$5(c,a[c]));return b};d.$5=function(a,c){__p&&__p();var d=c.item,e=c.label,f=c.price,g=c.priceList,h=c.userFacingReason;c=c.zeroAmountReason;if(f){var i=f.amount;f=f.currency;return this.__renderItem(a,e,d,c||this.$2(Number(i),f),!1)}else if(h)return this.__renderItem(a,e,d,h,!1);else if(g){c=this.$4(g);i=this.$3(e,g,!0);i&&(i=b("React").createElement("div",null,b("React").createElement("div",{className:this.__getBorderBottomClassName()}),b("React").createElement("div",{className:"_2pie"},i)));return b("React").createElement("div",{key:e},c,i)}else throw new Error("PriceItem format error")};d.__renderItem=function(a,c,d,e,f,g){return b("abstractMethod")("FBPaymentsPriceTableViewV2Base","__renderItem")};d.__getBorderBottomClassName=function(){return b("abstractMethod")("FBPaymentsPriceTableViewV2Base","__getBorderBottomClassName")};d.__renderTaxDisclaimer=function(a,c){return b("abstractMethod")("FBPaymentsPriceTableViewBase","__renderTaxDisclaimer")};d.$6=function(a){var b=this,c=[];a.priceSubtables.map(function(a,d){c.push(b.$7(d,a))});return c};d.$7=function(a,c){var d=this,e=[];c.priceLists.map(function(a,b){e.push(d.__renderItem(b,a.label,a.item,a.displayPrice,!1))});return b("React").createElement("div",{key:a,className:"_2pie"},e)};d.$8=function(a){return this.__renderItem(0,a.totalPrice.label,null,a.totalPrice.displayPrice,!0)};d.getToggleText=function(){return this.state.isCollapsed?this.getDetailsText():this.getHideText()};d.getDetailsText=function(){return h._("(Detalles)")};d.getHideText=function(){return h._("(Ocultar)")};d.render=function(){__p&&__p();var a;if(this.props.hidePriceTable)return null;var c=this.props.priceList;if(this.props.showTotalOnly)return this.$3(this.props.customTotalLabel?this.props.customTotalLabel:h._("Total"),c,!1,!0);var d=this.props.newPriceTable?this.$6(this.props.newPriceTable):this.$4(c);c=this.props.hideTotal?null:this.props.newPriceTable?this.$8(this.props.newPriceTable):this.$3(h._("Total"),c,!1);a=(((a=this.props.newPriceTable)==null?void 0:a.showTaxDisclaimer)||this.props.showTaxDisclaimer)&&!this.props.isCalculating?this.__renderTaxDisclaimer(h._("m\u00e1s impuestos"),h._("Consulta el recibo del importe total despu\u00e9s de los impuestos.")):null;return this.state.isCollapsed?b("React").createElement(b("React").Fragment,null,b("React").createElement(b("ShimButton.react"),{onClick:this.$1},c),a):b("React").createElement("div",null,d,b("React").createElement(b("ShimButton.react"),{onClick:this.$1},c),a)};return c}(b("React").Component);e.exports=a}),null);
__d("FBPaymentsPriceTableViewV2.react",["ix","cx","FBPaymentsItemSummaryView.react","FBPaymentsPriceTableViewV2Base.react","FDSText.react","Image.react","Layout.react","LineClamp.react","React","Tooltip.react","XUISpinner.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__renderItem=function(a,c,d,e,f,g){var h=f?"primary":"secondary",l=f?"bold":"normal",m=f?"body1":"body3",n=f&&this.props.isCalculating;g=f&&!g?b("React").createElement(b("FDSText.react"),{margin:"_3-99",color:"blueLink",size:"body3"},this.getToggleText()):null;d=d?b("React").createElement(k,{item:d}):b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{color:h,size:m,weight:l},c),g);return b("React").createElement(b("Layout.react"),{className:(f?"_12az":"")+(f&&!this.state.isCollapsed?" _3-8y":""),key:a},b("React").createElement(j,null,d),b("React").createElement(i,null,b("React").createElement(b("FDSText.react"),{color:h,size:m,weight:l},n?b("React").createElement(b("XUISpinner.react"),{size:"small"}):e)))};d.__renderTaxDisclaimer=function(a,c){var d;return(d=b("React")).createElement("div",{className:"_67t3 _3-8w"},d.createElement(b("FDSText.react"),{color:"secondary",size:"body3"},a),d.createElement(b("Tooltip.react"),{tooltip:c},d.createElement(b("Image.react"),{className:"_67t4",src:g("479819")})))};d.__getBorderBottomClassName=function(){return""};d.render=function(){return a.prototype.render.call(this)};return c}(b("FBPaymentsPriceTableViewV2Base.react"));a.propTypes=b("FBPaymentsPriceTableViewV2Base.react").propTypes;function k(a){var c;a=a.item;return(c=b("React")).createElement(b("FBPaymentsItemSummaryView.react"),{className:"_2pij",hasPadding:!1,imageClassName:"_6v-4",imageHeight:60,imageSrc:a.itemImageUrl,imageWidth:60,summaryAlignv:"top"},c.createElement(b("FDSText.react"),{color:"primary",display:"block",size:"header4",weight:"bold"},c.createElement(b("LineClamp.react"),{fitHeightToShorterText:!0,lineHeight:18,lines:2},a.title)),c.createElement(b("FDSText.react"),{color:"placeholder",display:"block",size:"body1"},c.createElement(b("LineClamp.react"),{lineHeight:18,lines:1},a.subsubtitle)))}e.exports=a}),null);
__d("FBPaymentsRoundImageItemSummaryViewBase.react",["cx","FBPaymentsItemSummaryViewBase.react","React","abstractMethod","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getItemSummaryView=function(){return b("abstractMethod")("FBPaymentsRoundImageItemSummaryViewBase","__getItemSummaryView")};d.__getImageClassName=function(){return b("joinClasses")(this.props.imageClassName,"_4udv _2yoy")};d.render=function(){var a=this.__getItemSummaryView();return b("React").createElement(a,babelHelpers["extends"]({},this.props,{imageClassName:this.__getImageClassName()}))};return c}(b("React").PureComponent);a.defaultProps={imagePosition:"left",summaryAlignv:"middle",hasPadding:!0};e.exports=a}),null);
__d("FBPaymentsRoundImageEntityHeaderViewBase.react",["FBPaymentsRoundImageItemSummaryViewBase.react","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.ENTITY_IMAGE_HEIGHT=36,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getTitle=function(){return this.props.entity.participant.title};d.getSubtitle1=function(){return this.props.entity.participant.subtitle};d.getImageSrc=function(){return this.props.entity.participant.imageURL};d.getSubtitle2=function(){return this.props.entity.description};d.hasSingleSubtitle=function(){return!!this.getSubtitle1()&&!this.getSubtitle2()};d.hasSubtitle=function(){return!!(this.getSubtitle1()||this.getSubtitle2())};d.__renderTitle=function(){return b("abstractMethod")("FBPaymentsRoundImageEntityHeaderViewBase","__renderTitle")};d.__renderSubtitles=function(){return b("abstractMethod")("FBPaymentsRoundImageEntityHeaderViewBase","__renderSubtitles")};d.__getClassNames=function(){return b("abstractMethod")("FBPaymentsRoundImageEntityHeaderViewBase","__getClassNames")};d.__getItemSummaryView=function(){return b("abstractMethod")("FBPaymentsRoundImageEntityHeaderViewBase","__getItemSummaryView")};d.render=function(){var a=this.__getItemSummaryView();return b("React").createElement("div",{className:this.__getClassNames()},b("React").createElement(a,{imageHeight:this.ENTITY_IMAGE_HEIGHT,imageSrc:this.getImageSrc()},this.__renderTitle(),this.__renderSubtitles()))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FBPaymentsRoundImageItemSummaryView.react",["FBPaymentsItemSummaryView.react","FBPaymentsRoundImageItemSummaryViewBase.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getItemSummaryView=function(){return b("FBPaymentsItemSummaryView.react")};return c}(b("FBPaymentsRoundImageItemSummaryViewBase.react"));e.exports=a}),null);
__d("FBPaymentsRoundImageEntityHeaderView.react",["cx","FBPaymentsRoundImageEntityHeaderViewBase.react","FBPaymentsRoundImageItemSummaryView.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__renderTitle=function(){var a=this.hasSingleSubtitle()?"_65if":null,c=this.hasSubtitle()?"body3":"body1";return b("React").createElement("div",{className:a},b("React").createElement(b("FDSText.react"),{color:"primary",size:c,weight:"bold"},this.getTitle()))};d.__renderSubtitles=function(){return this.hasSubtitle()?[b("React").createElement(b("FDSText.react"),{display:"block",key:"subtitle1",color:"secondary",size:"meta1"},this.getSubtitle1()),b("React").createElement(b("FDSText.react"),{display:"block",key:"subtitle2",color:"secondary",size:"meta1"},this.getSubtitle2())]:null};d.__getClassNames=function(){return this.props.className};d.__getItemSummaryView=function(){return b("FBPaymentsRoundImageItemSummaryView.react")};return c}(b("FBPaymentsRoundImageEntityHeaderViewBase.react"));e.exports=a}),null);
__d("FBPaymentsCheckoutV2FlowContainer.react",["AltPayPopup","ChannelManager","DOMScroll","FBPaymentsAlertDialog.react","FBPaymentsCheckoutNUXContainer.react","FBPaymentsCheckoutStrings","FBPaymentsCheckoutV2FlowContainerBase.react","FBPaymentsCheckoutV2FlowView.react","FBPaymentsCheckoutV2Store","FBPaymentsComponentWithErrorBoundaryContainer","FBPaymentsConfirmationContainer.react","FBPaymentsConfirmDialog.react","FBPaymentsContactSupport.react","FBPaymentsContactSupportScreenManager","FBPaymentsContactSupportView.react","FBPaymentsExtensionV2Manager","FBPaymentsLoadingView.react","FBPaymentsLogger","FBPaymentsModulesAPI","FBPaymentsPayActionRowContainerV2.react","FBPaymentsPriceTableViewV2.react","FBPaymentsPSDDataPolicy.react","FBPaymentsRoundImageEntityHeaderView.react","FBPaymentsUserFacingErrorNotice.react","FBPaymentsVerificationFlowContainer.react","FluxContainer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.__getCheckoutStore=function(){return b("FBPaymentsCheckoutV2Store")};var d=c.prototype;d.__connectAltPay=function(a){this.$FBPaymentsCheckoutV2FlowContainer1&&a?this.$FBPaymentsCheckoutV2FlowContainer1.initAltPay(a):(this.$FBPaymentsCheckoutV2FlowContainer1=new(b("AltPayPopup"))(),this.$FBPaymentsCheckoutV2FlowContainer1.preparePopup())};d.__scrollToTop=function(){b("DOMScroll").scrollToTop(!0)};d.__getExtensionManager=function(){return b("FBPaymentsExtensionV2Manager")};d.__getCheckoutFlowView=function(){return b("FBPaymentsCheckoutV2FlowView.react")};d.__getNUXContainer=function(){return b("FBPaymentsCheckoutNUXContainer.react")};d.__getPSDAgreementNUXContainer=function(){return b("FBPaymentsPSDDataPolicy.react")};d.__getLoadingView=function(){return b("FBPaymentsLoadingView.react")};d.__getConfirmationContainer=function(){return b("FBPaymentsConfirmationContainer.react")};d.__getEntityHeaderContainer=function(){return b("FBPaymentsRoundImageEntityHeaderView.react")};d.__getPayActionRowContainer=function(){return b("FBPaymentsPayActionRowContainerV2.react")};d.__getVerificationFlowContainer=function(){return b("FBPaymentsVerificationFlowContainer.react")};d.__getUserFacingErrorNotice=function(){return b("FBPaymentsUserFacingErrorNotice.react")};d.__getContactSupportContainer=function(){return b("FBPaymentsContactSupport.react").create(b("FBPaymentsContactSupportView.react"),b("FBPaymentsContactSupportScreenManager"))};d.__isExitCheckoutConfirmDialogEnabled=function(){switch(this.getPaymentType()){case"mor_donations":case"mor_donations_cause_for_charities":case"mor_donations_matching_confirmation":case"mor_donations_matching_pledge":case"nmor_donation_p4p":case"nmor_blackbaud_rwr_donation":case"nmor_ppgf_donation":return!0;default:return!1}};d.__isExtensionDisplayWhenValidatePIN=function(){return!0};d.__getCheckoutAlertDialog=function(){return b("FBPaymentsAlertDialog.react")};d.__getExitCheckoutConfirmDialog=function(){return b("FBPaymentsConfirmDialog.react")};d.__getExitCheckoutConfirmDialogCancelButtonLabel=function(){return b("FBPaymentsCheckoutStrings").getExitCheckoutConfirmDialogCancelButtonLabel()};d.__getExitCheckoutConfirmDialogConfirmButtonLabel=function(){return b("FBPaymentsCheckoutStrings").getExitCheckoutConfirmDialogConfirmButtonLabel()};d.__getDonationLargeAmountConfirmDialog=function(){return b("FBPaymentsConfirmDialog.react")};d.__getAltPayCancelledDialogButtonLabel=function(){return b("FBPaymentsCheckoutStrings").getAltPayCancelledDialogButtonLabel()};d.__shouldUseBackButtonOnConfirmedExit=function(){return!1};d.__getPriceTableComponent=function(){return b("FBPaymentsPriceTableViewV2.react")};d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.__getLogger=function(){return b("FBPaymentsLogger")};d.__exitCheckoutFlow=function(){this.__handleDialogClose()};d.__startChannelManager=function(){b("ChannelManager").startChannelManager()};return c}(b("FBPaymentsCheckoutV2FlowContainerBase.react"));a=b("FluxContainer").create(a,{withProps:!0});a=b("FBPaymentsComponentWithErrorBoundaryContainer").create(a);e.exports=a}),null);